<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">

<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>HelmiJukebox</title>

<script type="text/javascript">

IThemePath = './components/';

</script>

<script type="text/javascript" src="/v2/src/abstraction/class/js/class.js"></script>
<script type="text/javascript" src="/v2/src/dependencies/prototype/js/prototype.js"></script>
<script type="text/javascript" src="/v2/src/virtualbrowser/virtualbrowser/js/virtualbrowser.js"></script>

<script type="text/javascript" src="/v2/src/abstraction/dom_elements/js/dom_elements.js"></script>
<script type="text/javascript" src="/v2/src/abstraction/dom_events/js/dom_events.js"></script>
<script type="text/javascript" src="/v2/src/interface/foundation/sys/js/system.js"></script>
<script type="text/javascript" src="/v2/src/interface/foundation/app/js/application.js"></script>

<script type="text/javascript" src="/v2/src/interface/foundation/geom/point/js/point.js"></script>
<script type="text/javascript" src="/v2/src/interface/foundation/geom/rect/js/rect.js"></script>

<script type="text/javascript" src="/v2/src/interface/thememanager/js/thememanager.js"></script>

<script type="text/javascript" src="/v2/src/interface/foundation/markupview/js/markupview.js"></script>
<script type="text/javascript" src="/v2/src/interface/foundation/view/js/view.js"></script>
<script type="text/javascript" src="/v2/src/interface/foundation/control/js/control.js"></script>

<script type="text/javascript" src="/v2/src/interface/components/button/js/button.js"></script>


<script type="text/javascript" src="/v2/src/interface/components/window/windowlabel/js/windowlabel.js"></script>
<script type="text/javascript" src="/v2/src/interface/components/window/windowbar/js/windowbar.js"></script>
<script type="text/javascript" src="/v2/src/interface/components/window/windowview/js/windowview.js"></script>
<script type="text/javascript" src="/v2/src/interface/components/window/windowcontrol/js/windowcontrol.js"></script>


<script type="text/javascript" src="./components/ibuttonclose/js/ibuttonclose.js"></script>
<script type="text/javascript" src="./components/ibuttonminimize/js/ibuttonminimize.js"></script>
<script type="text/javascript" src="./components/ibuttonresize/js/ibuttonresize.js"></script>

<script type="text/javascript" src="./components/ibuttonback/js/ibuttonback.js"></script>
<script type="text/javascript" src="./components/ibuttonplay/js/ibuttonplay.js"></script>
<script type="text/javascript" src="./components/ibuttonnext/js/ibuttonnext.js"></script>
<script type="text/javascript" src="./components/ibuttonvoldown/js/ibuttonvoldown.js"></script>
<script type="text/javascript" src="./components/ibuttonvolup/js/ibuttonvolup.js"></script>
<script type="text/javascript" src="/v2/src/interface/components/sliders/slider/js/slider.js"></script>
<script type="text/javascript" src="./components/islider/js/islider.js"></script>
<script type="text/javascript" src="./components/iboxdisplay/js/iboxdisplay.js"></script>

<script type="text/javascript" src="/v2/src/interface/components/stringview/js/stringview.js"></script>


<script type="text/javascript" src="./components/itextcontrol/js/itextcontrol.js"></script>

<script type="text/javascript" src="/v2/src/data/databuffer/js/databuffer.js"></script>

<script type="text/javascript" src="./components/itableheadercolumn/js/tableheadercolumn.js"></script>
<script type="text/javascript" src="/v2/src/interface/components/table/tableheaderview/js/tableheaderview.js"></script>
<script type="text/javascript" src="./components/itablecolumn/js/tablecolumn.js"></script>
<script type="text/javascript" src="./components/itablecontrol/js/tablecontrol.js"></script>

<script type="text/javascript" src="/v2/src/interface/components/table/tablecornerview/js/tablecornerview.js"></script>

<script type="text/javascript" src="/v2/src/data/values/value/js/value.js"></script>
<script type="text/javascript" src="/v2/src/data/valuemanager/js/valuemanager.js"></script>
<script type="text/javascript" src="/v2/src/data/transport/js/transporter.js"></script>

<script type="text/javascript" src="/v2/src/data/values/tablevalue/js/tablevalue.js"></script>






<!--<script type="text/javascript" src="../../../../extensions/valuematrix/js/valuematrix.js"></script>-->



<script type="text/javascript">
HTransportURL="/dotnet_transporter/transporter.aspx";

MyITextControl = ITextControl.extend({
  constructor: function(_rect, _parentClass, _options) {
    this.base(_rect, _parentClass, _options);
    this.setMouseDown(true);
  },
  mouseDown: function(_x, _y, _leftButton) {
    this.base(_x, _y, _leftButton);
    var _x = this.rect.left + this.parent.rect.left;
    var _y = this.rect.top + this.parent.rect.top +
      tableCtrl.options.headerViewHeight;
    var _rowAndColumn = new HPoint(_x, _y);
    var _row = tableCtrl.rowAtPoint(_rowAndColumn);
    common_values.jukeboxsong.set(common_values.tablevalue1.getCell(null,_row,0));
  }
});

HelmiJukebox = HApplication.extend({
  constructor: function() {
    this.base(5);
    this.win = new HWindowControl(new HRect(100,100,730,600), this, {label: 'helmiJukebox',barHeight:75,maxSize:[630,500]});
    this.winBar = this.win.windowBar;
    this.winView = this.win.windowView;
    
    this.buttonClose = new IButtonClose(
      new HRect(8,5,22,20),
      this.winBar
    );
    this.buttonMinimize = new IButtonMinimize(
      new HRect(29,5,43,20),
      this.winBar
    );
    this.buttonResize = new IButtonResize(
      new HRect(50,5,64,20),
      this.winBar
    );
    
    this.buttonBack = new IButtonBack(
      new HRect(24,29,55,61),
      this.winBar
    );
    this.buttonPlay = new IButtonPlay(
      new HRect(61,26,98,64),
      this.winBar
    );
    this.buttonNext = new IButtonNext(
      new HRect(103,29,135,61),
      this.winBar
    );
    this.buttonVolDown = new IButtonVolDown(
      new HRect(156,39,165,50),
      this.winBar
    );
    
    this.slider = new ISlider(
      new HRect(168,39,246,51),
      this.winBar,
    { value:    80,
      minValue: 0,
      maxValue: 100
    }
    );
    
    this.buttonVolUp = new IButtonVolUp(
      new HRect(250,38,263,51),
      this.winBar
    );
    
    this.songName = new IBoxDisplay(
      new HRect(278,21,588,67),
      this.winBar,
      {value:"song name"}
    );
    
    this.indicator = new ISlider(
      new HRect(308,54,558,66),
      this.winBar,
    { value:    80,
      minValue: 0,
      maxValue: 100
    }
    );
    
    common_values.jukeboxvolume.bind(this.slider);
    common_values.jukeboxvolume.bind(this.buttonVolDown);
    common_values.jukeboxvolume.bind(this.buttonVolUp);
    
    common_values.jukeboxplay.bind(this.buttonPlay);
    
    common_values.jukeboxsongname.bind(this.songName);
    
    
    common_values.jukeboxindicator.bind(this.indicator);
    
    /*  datadata1 = [
    ["item row3 column1", "item row3 column2", "item row3 column2", "item row3 column2"],
    ["item row4 column1", "item row4 column2", "item row3 column2", "item row3 column2"],
    ["item row5 column1", "item row5 column2", "item row3 column2", "item row3 column2"],
    ["item row6 column1", "item row6 column2", "item row3 column2", "item row3 column2"],
    ["item row7 column1", "item row7 column2", "item row3 column2", "item row3 column2"],
    ["item row8 column1", "item row8 column2", "item row3 column2", "item row3 column2"],
    ["item row9 column1", "item row9 column2", "item row3 column2", "item row3 column2"],
    ["item row10 column1", "item row10 column2", "item row3 column2", "item row3 column2"],
    ["item row11 column1", "item row11 column2", "item row3 column2", "item row3 column2"],
    ["item row12 column1", "item row12 column2", "item row3 column2", "item row3 column2"],
    ["item row13 column1", "item row13 column2", "item row3 column2", "item row3 column2"],
    ["item row14 column1", "item row14 column2", "item row3 column2", "item row3 column2"],
    ["item row15 column1", "item row15 column2", "item row3 column2", "item row3 column2"],
    ["item row16 column1", "item row16 column2", "item row3 column2", "item row3 column2"],
    ["item row17 column1", "item row17 column2", "item row3 column2", "item row3 column2"],
    ["item row18 column1", "item row18 column2", "item row3 column2", "item row3 column2"],
    ["item row19 column1", "item row19 column2", "item row3 column2", "item row3 column2"],
    ["item row20 column1", "item row20 column2", "item row3 column2", "item row3 column2"]
  ];*/
    this.tableRect = new HRect(this.winView.rect);
    this.tableRect.offsetTo(0,0);
    
    //datadata1 = new Array(100000);
    this.table = tableCtrl = new HTableControl(this.tableRect/*new HRect(0,0,600,400)*/, this.winView,{headerViewHeight:18});
    
    /*var tablevalue1 = new HTableValue("table1",
      {value:datadata1,columns:["id","filename","name"]}
    );*/
    tableCtrl.setData(common_values.tablevalue1);
    
    
    col_0_id = tableCtrl.addColumn(0,50,"Track",MyITextControl);
    tableCtrl.addColumn(1,200,"Name",MyITextControl);
    tableCtrl.addColumn(2,350,"Filename",MyITextControl);
    tableCtrl._calculateDimensions();
    tableCtrl._updateColumns();
    
  //tableCtrl.draw();
  },
  die: function() {
    // cleaning values
    common_values.jukeboxvolume.unbind(this.slider);
    common_values.jukeboxvolume.unbind(this.buttonVolDown);
    common_values.jukeboxvolume.unbind(this.buttonVolUp);
    common_values.jukeboxplay.unbind(this.buttonPlay);
    
    this.base();
    
  },
  onIdle: function() {
    this.base();
    
    /*if (this.winView.rect.width != this.tableRect.width ||
      this.winView.rect.height != this.tableRect.height) {
      window.status = this.winView.rect.width;
      this.tableRect.setWidth(this.winView.rect.width);
      this.tableRect.setHeight(this.winView.rect.height);
      this.table.drawRect();
    }*/
    
    
  }
});

function launch() {
  HThemeManager.setThemePath("/v2/src/interface/components/");
  HThemeManager.setTheme("helmiTheme");
  
  HTransporter.syncDelay = 500;
  //application = new HelmiJukebox();
  
}

onloader('launch();');

</script>


<style type="text/css">
body {
  color: black;
  background-color: #eee;
}
</style>
</head>

<body></body>
</html>

