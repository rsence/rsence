
var HClass=function(){if(arguments.length){var _4r=arguments[0];if(this==window){HClass.prototype.extend.call(_4r,arguments.callee.prototype);}else{this.extend(_4r);}}};HClass.prototype={extend:function(_0B,_8q){var _2d=HClass.prototype.extend;if(arguments.length==2){var _3j=this[_0B];if((_3j instanceof Function)&&(_8q instanceof Function)&&_3j.valueOf()!=_8q.valueOf()&&(/\bbase\b/).test(_8q)){var _3V=_8q;_8q=function(){var _7u=this.base;this.base=_3j;var _7C=_3V.apply(this,arguments);this.base=_7u;return _7C;};_8q.valueOf=function(){return _3V;};_8q.toString=function(){return String(_3V);};}
return this[_0B]=_8q;}else if(_0B){var _0O={toSource:null};var _5H=["toString","valueOf"];if(HClass._48){_5H.push("constructor");}
for(var i=0;(_C=_5H[i]);i++){if(_0B[_C]!=_0O[_C]){_2d.call(this,_C,_0B[_C]);}}
for(var _C in _0B){if(!_0O[_C]){_2d.call(this,_C,_0B[_C]);}}}
this.nu=function(){var _4y=[],_0=this;for(var i=0;i<arguments.length;i++){_4y.push('arguments['+i+']');}
return eval('new _0('+_4y.join(',')+')');};return this;},base:function(){}};HClass.extend=function(_0L,_4g){var _2d=HClass.prototype.extend;if(!_0L){_0L={};}
HClass._48=true;var _0O=new this;_2d.call(_0O,_0L);var _1u=_0O.constructor;_0O.constructor=this;delete HClass._48;var _1h=function(){if(!HClass._48){_1u.apply(this,arguments);}
this.constructor=_1h;};_1h.prototype=_0O;_1h.extend=this.extend;_1h.implement=this.implement;_1h.toString=function(){return String(_1u);};_2d.call(_1h,_4g);var _3Z=_1u?_1h:_0O;if(_3Z.init instanceof Function){_3Z.init();}
return _3Z;};HClass.implement=function(_2g){if(_2g instanceof Function){_2g=_2g.prototype;}
this.prototype.extend(_2g);};var Base=HClass;if([]['indexOf']===undefined){Object.extend=function(destination,source){for(property in source){destination[property]=source[property];}
return destination;};Object.extend(Array.prototype,{indexOf:function(_6p){var i=0,l=this.length;for(;i<l;i++){if(this[i]==_6p){return i;}}
return-1;}});}
try{if(window['console']===undefined){console={log:function(){}};}}catch(e){}
is_ie=!(navigator.userAgent.toLowerCase().indexOf("opera")>-1)&&navigator.appName=="Microsoft Internet Explorer";Array.prototype.toQueryString=function(){var i,l=this.length,_4z=[];for(i=0;i<l;i++){_4z.push(encodeURIComponent(this[i].key)+"="+
encodeURIComponent(this[i].value));}
return _4z.join("&");};Ajax=HClass.extend({constructor:null,getTransport:function(){if(window.XMLHttpRequest){return new XMLHttpRequest();}else if(is_ie){if(ScriptEngineMajorVersion()>=5){return new ActiveXObject("Msxml2.XMLHTTP");}else{return new ActiveXObject("Microsoft.XMLHTTP");}}else{return false;}}});Ajax.Request=HClass.extend({constructor:function(_p,_2){this.transport=Ajax.getTransport();if(!_2){_2={};}
var _w=HClass.extend({method:"post",asynchronous:true,contentType:"application/x-www-form-urlencoded",encoding:"UTF-8",parameters:""});_w=_w.extend(_2);this.options=new _w();this.request(_p);},request:function(_p){this.url=_p;if(this.options.method=="get"&&this.options.parameters.length){this.url+=(this.url.indexOf("?")>=0?"&":"?")+this.options.parameters.toQueryString();}
try{this.transport.open(this.options.method.toUpperCase(),this.url,this.options.asynchronous,this.options.username,this.options.password);var _q=this;this.transport.onreadystatechange=function(){_q.onStateChange();};this.setRequestHeaders();var _6r=this.options.method=="post"?(this.options.postBody||this.options.parameters.toQueryString()):null;this.transport.send(_6r);if(!this.options.asynchronous&&this.transport.overrideMimeType){this.onStateChange();}}catch(e){console.log('error:',e);}},setRequestHeaders:function(){var headers={},o;if(this.options.method=="post"){headers["Content-type"]=this.options.contentType+
(this.options.encoding?"; charset="+this.options.encoding:"");if(this.transport.overrideMimeType&&(navigator.userAgent.match(/Gecko\/(\d{4})/)||[0,2005])[1]<2005){headers["Connection"]="close";}}
for(o in headers){this.transport.setRequestHeader(o,headers[o]);}},onStateChange:function(){var _2o=this.transport.readyState;if(_2o>1){this.respondToReadyState(_2o);}},respondToReadyState:function(_2o){if(_2o==4){(this.options["on"+(this.success()?"Success":"Failure")]||(function(){console.log('aa');}))(this.transport);}
if(_2o==4){this.transport.onreadystatechange=function(){};}},success:function(){return(this.transport.status>=200&&this.transport.status<300);}});ELEMTickerInterval=10;BROWSER_TYPE={ie:false,ie6:false,ie7:false,opera:false,safari:false,firefox:false,firefox2:false};ELEM={_1u:function(){var _0=ELEM;_0._6M=false;_0._8D=[];_0._6J=null;_0._8E=false;_0._initDone=false;_0._90=0;_0._setStyleCount=0;_0._setStyleDiffCount=0;_0._8O=0;_0._getStyleMissCount=0;_0._flushLoopCount=0;_0._flushLoopFlushedCount=0;_0._flushStylCount=0;_0._flushTime=0;_0._flushCounter=0;_0._55=500;_0._timer=null;_0._1C=ELEMTickerInterval;_0._flushing=false;_0._needFlush=false;_0._5Q=1;_0._P=[];if(_0._6M){_0._Q={_83:[]};}else{_0._freeElemIds=[];}
_0._5T={};_0._1l={};_0._0r={};_0._0T={};_0._4V=[];_0._3A={};_0._blockElems=",ADDRESS,BLOCKQUOTE,CENTER,DIR,DIV,DL,FIELDSET,FORM,H1,H2,H3,H4,H5,H6,HR,ISINDEX,MENU,NOFRAMES,NOSCRIPT,OL,P,PRE,TABLE,UL,";},_8H:function(_4N,_E){if(!ELEM._6M){return;}
var _0=ELEM,i=0,_6a=[],_Q=_0._5a(_E),_2y=_Q._2y;for(;i!=_4N;i++){_6a.push(_0.make(_2y,_E));}
for(i=0;i!=_4N;i++){_0.del(_6a[i]);}},_6l:function(_7){var _4,_0,_P;_0=ELEM;_P=_0._P;_P.push(_7);_4=_P.length-1;return _4;},_8S:function(_4){var _0=ELEM;_0._1l[_4]=[];_0._5T[_4]={};_0._0r[_4]=[];_0._0T[_4]={};_0._3A[_4]=false;},bindId:function(_6I){var _0=ELEM,_7=document.getElementById(_6I),_9=_0._6l(_7);_0._8S(_9);return _9;},bind:function(_7){var _4,_0=ELEM;_4=_0._6l(_7);_0._8S(_4);return _4;},_97:function(_4,_7){var _0=ELEM;_0._P[_4]=_7;},get:function(_4){return ELEM._P[_4];},setHTML:function(_4,_0w){try{var _0=ELEM;if(!((typeof _0w==='string')||(typeof _0w==='number'))){return;}
_0._P[_4].innerHTML=_0w;}catch(e){}},_5a:function(_E){if(!ELEM._6M){return;}
var _0=ELEM,_Q=_0._Q;if(!_Q[_E]){_Q._83.push(_E);_Q[_E]=[];_Q[_E]._2J=1;_Q[_E]._20=0;_Q[_E]._2y=_0.make(_0._2y,'div');}
return _Q[_E]._2y;},del:function(_4){var _0=ELEM,_7=_0._P[_4];while(_0._flushing){}
_0._flushing=true;if(_0._6M){var _E=_7.tagName,_2y=_0._5a(_E),_Q=_0._Q[_E];_0.append(_4,_2y);}
var _4W=_0._4V.indexOf(_4);if(_4W!=-1){_0._4V.splice(_4W,1);}
_0._8S(_4);if(_0._6M){_Q._2J++;_Q.push(_4);}else{_0._freeElemIds.push(_4);var _7o=_7.parentNode;_7o.removeChild(_7);_7=null;_0._P[_4]=null;}
_0._flushing=false;},append:function(_7L,_2w){var _0B,_4m,_0;_0=ELEM;_0B=_0._P[_7L];_4m=_0._P[_2w];_4m.appendChild(_0B);},setCSS:function(_4,_8B){ELEM._P[_4].style.cssText=_8B;},getCSS:function(_4){return ELEM._P[_4].style.cssText;},getVisibleSize:function(_4){var _0,_7,w,h,_m,_37,_0=ELEM,_7=_0._P[_4],w=_7.offsetWidth,h=_7.offsetHeight,_m=_7.parentNode;while(_m&&_m.nodeName.toLowerCase()!='body'){if(!_0._2U){_37=document.defaultView.getComputedStyle(_m,null).getPropertyValue('overflow');}
else{_37=_m.currentStyle.getAttribute('overflow');}
_37=_37!='visible';if(w>_m.clientWidth&&_37){w=_m.clientWidth-_7.offsetLeft;}
if(h>_m.clientHeight&&_37){h=_m.clientHeight-_7.offsetTop;}
_7=_7.parentNode;_m=_7.parentNode;}
return[w,h];},getSize:function(_4){var _0,_7,w,h,_m,_37,_0=ELEM,_7=_0._P[_4],w=_7.offsetWidth,h=_7.offsetHeight;return[w,h];},getScrollSize:function(_4){var _0,_7,w,h,_m,_37,_0=ELEM,_7=_0._P[_4],w=_7.scrollWidth,h=_7.scrollHeight;return[w,h];},getVisiblePosition:function(_4){var x,y,_7,_0,_0=ELEM,x=0,y=0,_7=_0._P[_4];while(_7!==document){x+=_7.offsetLeft;y+=_7.offsetTop;x-=_7.scrollLeft;y-=_7.scrollTop;_7=_7.parentNode;if(!_7){break;}}
return[x,y];},getOpacity:function(_4){var _0,_0f,_4n,_2Q;_0=ELEM;_2Q=_0.getStyle;if(_0f=_2Q(_4,'-khtml-opacity')){return parseFloat(_0f);}
if(_0f=_2Q(_4,'-moz-opacity')){return parseFloat(_0f);}
_4n=_2Q(_4,'opacity',true);if(_0f=_4n||(_4n==0)){return parseFloat(_0f);}
if(_0f=(_0._P[_4].currentStyle['filter']||'').match(/alpha\(opacity=(.*)\)/)){if(_0f[1]){return parseFloat(_0f[1])/100;}}
return 1.0;},setOpacity:function(_4,_8q){var _0=ELEM;if(_8q==1&&_0._2U){_0._P[_4].style.setAttribute('filter',_0.getStyle(_4,'filter',true).replace(/alpha\([^\)]*\)/gi,''));}else{if(_8q<0.00001){_8q=0;}
if(_0._2U){_0._P[_4].style.setAttribute('filter',_0.getStyle(_4,'filter',true).replace(/alpha\([^\)]*\)/gi,'')+'alpha(opacity='+_8q*100+')');}else{_0._P[_4].style.setProperty('opacity',_8q,'');}}},getIntStyle:function(_4,_0K){var _8q=ELEM.getStyle(_4,_0K);return parseInt(_8q,10);},setBoxCoords:function(_4,_0j){ELEM.setStyle(_4,'left',_0j[0]+'px');ELEM.setStyle(_4,'top',_0j[1]+'px');ELEM.setStyle(_4,'width',_0j[2]+'px');ELEM.setStyle(_4,'height',_0j[3]+'px');},getExtraWidth:function(_4){var _0M=ELEM.getIntStyle;return _0M(_4,'padding-left')+_0M(_4,'padding-right')+_0M(_4,'border-left-width')+_0M(_4,'border-right-width');},getExtraHeight:function(_4){var _0M=ELEM.getIntStyle;return _0M(_4,'padding-top')+_0M(_4,'padding-bottom')+_0M(_4,'border-top-width')+_0M(_4,'border-bottom-width');},setFPS:function(_0J){ELEM._1C=1000/_0J;if(ELEM._1C<ELEMTickerInterval){ELEM._1C=ELEMTickerInterval;}},setSlowness:function(_5Q){ELEM._5Q=_5Q;},setIdleDelay:function(_55){ELEM._55=_55;},_8Q:false,flushLoop:function(_0s){var _0=ELEM;_0._flushLoopCount++;if(_0._2h&&(_0._flushLoopCount%5==0)&&_0._8Q){iefix._0i();_0._8Q=false;}
clearTimeout(_0._timer);if(_0._flushing){_0s*=2;_0._timer=setTimeout('ELEM.flushLoop('+_0s+');',_0s);return;}else{if(!_0._needFlush){if(_0._2h&&_0._8Q){iefix._0i();_0._8Q=false;}
_0._timer=setTimeout('ELEM.flushLoop('+_0s+');',_0._55);return;}
_0s=parseInt(_0._5Q*(_0._flushTime/_0._flushCounter),ELEMTickerInterval);if(_0s<_0._1C||!_0s){_0s=_0._1C;}
_0._flushing=true;_0._timer=setTimeout('ELEM.flushLoop('+_0s+');',_0s);}
_0._flushTime-=new Date().getTime();var _3S,_24,i,_1l;_4V=_0._4V;_3S=_4V.length;_24=_4V.splice(0,_3S);var _8J=new Date().getTime();for(i=0;i<_3S;i++){_0._flushLoopFlushed++;var _4=_24.pop();_0._3A[_4]=false;_0._6U(_4);_0._8I(_4);}
_0._flushCounter++;_0._flushTime+=new Date().getTime();if(_0._4V.length==0&&_0._needFlush){_0._needFlush=false;}
_0._flushing=false;},_8I:function(_4){var _0=ELEM,_0r=_0._0r[_4],_0T=_0._0T[_4],_7=_0._P[_4],_0K,_2B,i,_54=_0r.length,_24=_0r.splice(0,_54);for(i=0;i!=_54;i++){_0K=_24.pop();_2B=_0T[_0K];_7.setAttribute(_0K,_2B);}},getAttr:function(_4,_0K,_0U){var _0=ELEM,_4B=_0._0T[_4][_0K],_2B;if(_4B!==undefined&&!_0U){return _4B;}
var _7=_0._P[_4];if(_7.getAttribute(_0K)==null){_7[_0K]='';}
_2B=_7.getAttribute(_0K);_0._0T[_4][_0K]=_2B;return _2B;},setAttr:function(_4,_0K,_8q,_0U){var _27,_0=ELEM,_0r=_0._0r[_4],_0T=_0._0T[_4];_27=_8q!=_0.getAttr(_4,_0K);if(_27){_0T[_0K]=_8q;if(_0U){_0._P[_4].setAttribute(_0K,_8q);}
else{if(_0r.indexOf(_0K)==-1){_0r.push(_0K);}
if(!_0._3A[_4]){_0._4V.push(_4);_0._3A[_4]=true;_0._8y();}}}},delAttr:function(_4,_0K){var _27,_0=ELEM,_0r=_0._0r[_4],_0T=_0._0T[_4];delete _0T[_0K];_0._P[_4].removeAttribute(_0K);if(_0r.indexOf(_0K)!=-1){_0r.splice(_0r.indexOf(_0K,1));}
if(_0._3A[_4]){_0._4V.splice(_0._4V.indexOf(_4,1));_0._3A[_4]=false;_0._8y();}},hasClassName:function(_9,_1r){var _6=ELEM.get(_9);if(!_6)return;var _4Y=false;var _1s=_6.className.split(' ');for(var i=0;i<_1s.length;i++){if(_1s[i]==_1r){_4Y=true;}}
return _4Y;},addClassName:function(_9,_1r){var _6=ELEM.get(_9);if(!_6)return;ELEM.removeClassName(_9,_1r);_6.className+=' '+_1r;},removeClassName:function(_9,_1r){var _6=ELEM.get(_9);if(!_6)return;var _3X='';var _1s=_6.className.split(' ');for(var i=0;i<_1s.length;i++){if(_1s[i]!=_1r){if(i>0)_3X+=' ';_3X+=_1s[i];}}
_6.className=_3X;},_8y:function(){var _0=ELEM;if(!_0._needFlush){_0._needFlush=true;if(!_0._flushing){clearTimeout(_0._timer);_0._timer=setTimeout('ELEM.flushLoop('+_0._1C+');',_0._1C);}}},setStyle:function(_4,_0K,_8q,_0U){var _0=ELEM,_y=_0._5T[_4],_4X=_0._P,_27,_1l;_0._setStyleCount++;if(_y===undefined){_0._8S(_4);var _y=_0._5T[_4];}
_27=_8q!==_y[_0K];if(_27){_0._setStyleDiffCount++;_y[_0K]=_8q;if(_0U){if(_0K=='opacity'){_0.setOpacity(_4,_8q);}
else{_0._2U?(_4X[_4].style.setAttribute(_0K.replace(/((-)([a-z])(\w))/g,function($0,$1,$2,$3,$4){return $3.toUpperCase()+$4;}),_y[_0K])):(_4X[_4].style.setProperty(_0K,_y[_0K],''));}
if(_0._2h){if(iefix._3e.indexOf(_0K)!=-1){_0._8Q=true;}}}else{_3A=_0._3A;_1l=_0._1l[_4];if(_1l.indexOf(_0K)==-1){_1l.push(_0K);}
if(!_3A[_4]){_0._4V.push(_4);_3A[_4]=true;_0._8y();}}}},make:function(_2w,_E){if(_2w===undefined){_2w=0;}
if(_E===undefined){_E='DIV';}else{_E=_E.toUpperCase();}
var _0=ELEM,_7,_4;_0._90++;if(_0._6M){if(_0._Q[_E]){if(_0._Q[_E].length!=0){_4=_0._Q[_E].pop();_0._Q[_E]._20++;_7=_0._P[_4];if(_0._blockElems.indexOf(','+_E+',')!=-1){_0.setCSS(_4,'display:block;');}else{_0.setCSS(_4,'display:inline;');}
_0.append(_4,_2w);return _4;}}}
_7=document.createElement(_E);_0._P[_2w].appendChild(_7);_4=_0._6l(_7);_0._8S(_4);return _4;},windowSize:function(){var _0H,_6Z;_0H=(window.innerWidth)?window.innerWidth:document.documentElement.clientWidth;_6Z=(window.innerHeight)?window.innerHeight:document.documentElement.clientHeight;return[_0H,_6Z];},_58:function(){var _0=ELEM,_19,_3q;var _3G=["ELEM.getStyle=function(_4,_0K,_0U){","var _0=ELEM,_y=_0._5T[_4],_2q;_0._8O++;","if((_y[_0K]===undefined)||_0U){","if(!_0U){_0._getStyleMissCount++;}","if((_0K=='opacity')&&_0U){_2q=_0.getOpacity(_4);}","else{","_2q=document.defaultView.getComputedStyle(_0._P[_4],null).getPropertyValue(_0K);","_6t=_0K.replace(/((-)([a-z])(\\w))/g,function($0,$1,$2,$3,$4){","return $3.toUpperCase()+$4});","_2q=_0._P[_4].currentStyle[_6t];","}_y[_0K]=_2q;","}return _y[_0K];};"];if(_0._2U){_3G.splice(6,1);}else{_3G.splice(7,3);}
eval(_3G.join(''));var _3C=["ELEM._6U=function(_4){","var _0=ELEM,_1l=_0._1l[_4],_y=_0._5T[_4],_7=_0._P[_4],_29,_5m,_4I,_0K,_24,_2q;","if(!_7){return;}","_29=_7.style;","_5m=_1l.length;","_24=_1l.splice(0,_5m);","for(_4I=0;_4I!=_5m;_4I++){","_0K=_24.pop();_0._flushStylCount++;","if(_0K=='opacity'){_2q=_0.getOpacity(_4,_y[_0K]);}else{","if(_0._2h){if(iefix._3e.indexOf(_0K)!=-1){_0._8Q=true;}}try{_29.setAttribute(_0K.replace(/((-)([a-z])(\\w))/g,function($0,$1,$2,$3,$4){return $3.toUpperCase()+$4}),_y[_0K]);}catch(e){}}}};","_29.setProperty(_0K,_y[_0K],'');}}};"];if(_0._2U){_3C.pop();}else{_3C.splice(9,1);}
eval(_3C.join(''));_0.bind(document.body);if(_0._6M){_0._2y=_0.make(0,'div');_0.setCSS(_0._2y,"display:none;visibility:hidden;");_0.setAttr(_0._2y,'id','trashcan_'+_0._2y);}
_0._timer=setTimeout('ELEM.flushLoop('+_0._1C+')',_0._1C);if(!_0._8D){return;}
while(_0._8D.length!=0){_19=_0._8D.shift();if(typeof _19=='string'){_3q=eval(_19);if(typeof _3q=='string'){_0._8D.push(_3q);}}}
_0._initDone=true;},_8k:function(){_0=ELEM;_0._2U=(document.all&&navigator.userAgent.indexOf("Opera")==-1)?true:false;_0._2h=(_0._2U&&navigator.userAgent.indexOf("MSIE 6")!=-1)?true:false;_0._8V=(_0._2U&&navigator.userAgent.indexOf("MSIE 7")!=-1)?true:false;_0._8X=(navigator.userAgent.indexOf("KHTML")!=-1)?true:false;_0._is_ff=(navigator.userAgent.indexOf("Firefox")!=-1)?true:false;_0._8U=(navigator.userAgent.indexOf("Firefox/3.")!=-1)?true:false;_0._8W=(navigator.userAgent.indexOf("Opera")!=-1)?true:false;BROWSER_TYPE={opera:_0._8W,safari:_0._8X,firefox:_0._is_ff,ie:_0._2U,ie6:_0._2h,ie7:_0._8V,firefox3:_0._8U};_0._6K();},_4R:function(_19){var _0=ELEM;if(typeof _19=='string'){if(_0._initDone==true){eval(_19);}else{_0._8D.push(_19);}}},_6K:function(){var _8Y=false;var _0=ELEM;if(_0._2U){var _56="javascript:void(0)";if(location.protocol=="https:"){_56="src=//0";}
document.write("<scr"+"ipt id=_6j defer src="+_56+"><\/scr"+"ipt>");var _78=document.getElementById("_6j");_78.onreadystatechange=function(){if(this.readyState=="complete"){ELEM._8E=true;ELEM._58();delete ELEM._8D;clearTimeout(ELEM._6J);delete ELEM._6J;}};return;}
else if((/KHTML|WebKit/i.test(navigator.userAgent))&&(/loaded|complete/.test(document.readyState))){_0._8E=true;}
else if(document.body){_0._8E=true;}
if(!_0._8E){_0._6J=setTimeout('ELEM._6K()',ELEMTickerInterval*10);}else{_0._58();delete _0._8D;clearTimeout(_0._6J);delete _0._6J;}}};ELEM._1u();RUN=ELEM._4R;LOAD=ELEM._4R;ELEM._8k();Event={element:function(e){return e.target||e.srcElement;},pointerX:function(e){return e.pageX||e.clientX+document.documentElement.scrollLeft;},pointerY:function(e){return e.pageY||e.clientY+document.documentElement.scrollTop;},stop:function(e){if(e.preventDefault){e.preventDefault();e.stopPropagation();}
else{e.returnValue=false;e.cancelBubble=true;}},isLeftClick:function(e){if(ELEM._2U||ELEM._8X){return(e.button==1);}
else{return(e.button==0);}},observers:false,_7i:function(_7,_C,_2e,_2A){if(!Event.observers){Event.observers=[];}
if(_7.addEventListener){this.observers.push([_7,_C,_2e,_2A]);_7.addEventListener(_C,_2e,_2A);}
else if(_7.attachEvent){this.observers.push([_7,_C,_2e,_2A]);_7.attachEvent("on"+_C,_2e);}},unloadCache:function(){if(!Event.observers){return;}
var i,l=Event.observers.length;for(i=0;i<l;i++){Event.stopObserving.apply(this,Event.observers[0]);}
Event.observers=false;},observe:function(_7,_C,_2e,_2A){_2A=_2A||false;Event._7i(_7,_C,_2e,_2A);},stopObserving:function(_7,_C,_2e,_2A){_2A=_2A||false;if(_7.removeEventListener){_7.removeEventListener(_C,_2e,_2A);}
else if(detachEvent){_7.detachEvent("on"+_C,_2e);}
var i=0;while(i<Event.observers.length){var eo=Event.observers[i];if(eo&&eo[0]==_7&&eo[1]==_C&&eo[2]==_2e&&eo[3]==_2A){Event.observers[i]=null;Event.observers.splice(i,1);}
else{i++;}}},KEY_BACKSPACE:8,KEY_TAB:9,KEY_RETURN:13,KEY_ESC:27,KEY_LEFT:37,KEY_UP:38,KEY_RIGHT:39,KEY_DOWN:40,KEY_DELETE:46,KEY_HOME:36,KEY_END:35,KEY_PAGEUP:33,KEY_PAGEDOWN:34};if(ELEM._2U){Event.observe(window,"unload",Event.unloadCache,false);}
_4P={mouseMove:false,mouseDown:false,click:false,mouseUp:false,draggable:false,droppable:false,keyDown:false,keyUp:false,mouseWheel:false,isDragged:false,textEnter:false};EVENT={status:[false,false,0,0,[],false,false,false],button1:0,button2:1,crsrX:2,crsrY:3,keysDown:4,altKeyDown:5,ctrlKeyDown:6,shiftKeyDown:7,start:function(){var _3H,_3B,i,_0=EVENT;if(ELEM._2U){_3H=document;}
else{_3H=window;}
_3B=[['mousemove',EVENT.mouseMove],['mouseup',EVENT.mouseUp],['mousedown',EVENT.mouseDown],['click',EVENT.click],['keyup',EVENT.keyUp],['keydown',EVENT.keyDown],['keypress',EVENT.keyPress],['contextmenu',EVENT.contextMenu],['resize',EVENT.resize],['mousewheel',EVENT.mouseWheel]];for(i=0;i!=_3B.length;i++){Event.observe(_3H,_3B[i][0],_3B[i][1]);}
if(window.addEventListener){window.addEventListener('DOMMouseScroll',EVENT.mouseWheel,false);}
_0.listeners=[];_0.focused=[];_0.resizeListeners=[];_0.coordListeners=[];_0.focusOptions={};_0.dragItems=[];_0.hovered=[];_0.hoverInterval=50;_0.hoverTimer=new Date().getTime();_0.topmostDroppable=null;_0.textEnterCtrls=[];_0._3r=[];_0._coordCacheFlag=true;_0._lastCoordFlushTimeout=null;_0.activeControl=null;_0._lastKeyDown=null;},coordCacheFlush:function(_9){if(_9){EVENT._3r[_9]=null;}
else{EVENT._3r=[];}},reg:function(_c,_0W){var _9,_7,_0=EVENT,_7v;_9=_c.elemId;_7=ELEM.get(_9);if(ELEM._2U){_7.setAttribute('ctrl',_c);}
else{_7.ctrl=_c;}
_0.listeners[_9]=true;_0.focused[_9]=false;for(var _7v in _4P){if(_0W[_7v]===undefined){_0W[_7v]=_4P[_7v];}}
_0.focusOptions[_9]=_0W;var _3s=_0.coordListeners.indexOf(_9);if(_0W.mouseMove){if(_3s==-1){_0.coordListeners.push(_9);}}
else if(_3s!=-1){_0.coordListeners.splice(_3s,1);}
if(_0W.textEnter){if(_0.textEnterCtrls.indexOf(_c.viewId)==-1){_0.textEnterCtrls.push(_c.viewId);}}
if(_0W.resize){if(_0.resizeListeners.indexOf(_c.viewId)==-1){_0.resizeListeners.push(_c.viewId);}}
Event.observe(_7,'mouseover',_0._5t);},unreg:function(_c){var _0=EVENT,_9,_7;if(_c===this.activeControl){_0.changeActiveControl(null);}
_9=_c.elemId;_7=ELEM.get(_9);this.listeners[_9]=false;this.focused[_9]=false;this._3r[_9]=null;var _61=_0.textEnterCtrls.indexOf(_c.viewId);if(_61!=-1){_0.textEnterCtrls.splice(_61,1);}
var _5K=_0.resizeListeners.indexOf(_c.viewId);if(_5K!=-1){_0.resizeListeners.splice(_5K,1);}
Event.stopObserving(_7,'mouseover',_0._5t);},resize:function(e){var i=0,_0=EVENT,_2N,_c;for(;i<_0.resizeListeners.length;i++){_2N=_0.resizeListeners[i];_c=HSystem.views[_2N];if(_c.onResize){_c.onResize();}}},_5t:function(e){if(!Event.element){return;}
var _o=Event.element(e);while(_o&&_o.ctrl===undefined){_o=_o.parentNode;}
if(!_o){return;}
var _0=_o.ctrl;EVENT.focus(_0);Event.stop(e);},_5s:function(e){if(!Event.element){return;}
var _o=Event.element(e);while(_o&&_o.ctrl===undefined){_o=_o.parentNode;}
if(!_o){return;}
var _0=_o.ctrl;EVENT.blur(_0);Event.stop(e);},focus:function(_c){var _0=EVENT,_9,_7;_9=_c.elemId;_7=ELEM.get(_9);if(_0.focused[_9]==false&&_0.focusOptions[_9].isDragged==false){Event.stopObserving(_7,'mouseover',_0._5t);Event.observe(_7,'mouseout',_0._5s);_0.focused[_9]=true;if(_c['focus']){_c.focus();}}},blur:function(_c){var _0=EVENT,_9,_7;_9=_c.elemId;_7=ELEM.get(_9);if(_0.focused[_9]==true&&_0.focusOptions[_9].isDragged==false){Event.stopObserving(_7,'mouseout',_0._5s);Event.observe(_7,'mouseover',_0._5t);_0.focused[_9]=false;if(_c['blur']){_c.blur();}}},mouseMove:function(e){var _0=EVENT,x,y,_1w;x=Event.pointerX(e);y=Event.pointerY(e);_0.status[_0.crsrX]=x;_0.status[_0.crsrY]=y;_1w=_0.flushMouseMove(x,y);_0._91(e);if(_1w){Event.stop(e);}},flushMouseMove:function(x,y){var _0=EVENT,x,y,_1w,i,j,_9,_c;clearTimeout(_0._lastCoordFlushTimeout);_1w=false;for(i=0;i!=_0.dragItems.length;i++){_9=_0.dragItems[i];_0.focusOptions[_9].ctrl.doDrag(x,y);_0.coordCacheFlush(_9);_1w=true;}
if(new Date().getTime()>_0.hoverTimer+_0.hoverInterval){for(i=0;i!=_0.coordListeners.length;i++){_9=_0.coordListeners[i];_c=_0.focusOptions[_9].ctrl;_c.mouseMove(x,y);}
_0._9r();var _3g;for(i=0;i!=_0.dragItems.length;i++){_3g=_0.topmostDroppable;_0.topmostDroppable=null;_9=_0.dragItems[i];_c=_0.focusOptions[_9].ctrl;var _2R,_28;for(j=0;j!=_0.hovered.length;j++){_2R=_0.hovered[j];if(_2R!=_9&&_0.focusOptions[_2R].ctrl){_28=_0.focusOptions[_2R].ctrl;if(!_0.topmostDroppable||_28.zIndex()>_0.topmostDroppable.zIndex()||_28.supr===_0.topmostDroppable){if(_0.focusOptions[_28.elemId].droppable){_0.topmostDroppable=_28;}}}}
if(_3g!=_0.topmostDroppable){if(_3g){_3g.onHoverEnd(_c);}
if(_0.topmostDroppable){_0.topmostDroppable.onHoverStart(_c);}}}
_0.hoverTimer=new Date().getTime();}
else{_0._lastCoordFlushTimeout=setTimeout('EVENT.flushMouseMove('+x+','+y+');',_0.hoverInterval);}
return _1w;},_9r:function(){var _0=EVENT,x,y,i,_c,_7,_43,_5P,_0j;_0.hovered=[];x=_0.status[_0.crsrX];y=_0.status[_0.crsrY];for(i=0;i!=_0.listeners.length;i++){if(!_0.listeners[i]||!_0.focusOptions[i].ctrl){continue;}
_c=_0.focusOptions[i].ctrl;_7=ELEM.get(i);if(!_0._coordCacheFlag||!_0._3r[i]){_43=ELEM.getVisiblePosition(_c.elemId);_5P=ELEM.getVisibleSize(_c.elemId);_0._3r[i]=[_43[0],_43[1],_5P[0],_5P[1]];}
_0j=_0._3r[i];if(x>=_0j[0]&&x<=_0j[0]+_0j[2]&&y>=_0j[1]&&y<=_0j[1]+_0j[3]){_0.hovered.push(i);}}},mouseDown:function(e,_04){var _0=EVENT,_3w,x,y,i,_J,_12,_2Z;_0._91(e);_3w=false;if(_04===undefined){_04=Event.isLeftClick(e);}
if(_04){_0.status[_0.button1]=true;}
else{_0.status[_0.button2]=true;}
x=_0.status[_0.crsrX];y=_0.status[_0.crsrY];_J=null;_12=[];_2Z=[];for(i=0;i!=_0.focused.length;i++){if(_0.focused[i]==true){if(_0.focusOptions[i].ctrl.enabled){_J=_0.focusOptions[i].ctrl;}
if((_0.focusOptions[i].draggable==true)&&_0.dragItems.indexOf(i)==-1){_12.push(i);}
else if(_0.focusOptions[i].mouseDown==true){_2Z.push(i);}}}
if(_J){_0.changeActiveControl(_J);}
for(i=0;i!=_12.length;i++){_0.dragItems.push(_12[i]);_0.focusOptions[_12[i]].ctrl.startDrag(x,y);_3w=true;}
var _2v=_2Z.length;for(i=0;i!=_2Z.length;i++){if(_0.focusOptions[_2Z[i]].ctrl.mouseDown(x,y,_04)){_2v--;}}
if(_3w){document.body.focus();_0._storedOnSelectStart=document.onselectstart;document.onselectstart=function(){return false;};}
if((_2v==0)&&(_0.hovered.length!=0)&&(_J&&(_J.textElemId===false))){Event.stop(e);}
return true;},click:function(e,_04){var _0=EVENT,x,y,i,_J,_3p;_0._91(e);if(_04===undefined){_04=Event.isLeftClick(e);}
if(_04){_0.status[_0.button1]=true;}
else{_0.status[_0.button2]=true;}
x=_0.status[_0.crsrX];y=_0.status[_0.crsrY];_J=null;_3p=[];for(i=0;i!=_0.focused.length;i++){if(_0.focused[i]==true){if(_0.focusOptions[i].ctrl.enabled){_J=_0.focusOptions[i].ctrl;}
if(_0.focusOptions[i].click==true){_3p.push(i);}}}
if(_J){_0.changeActiveControl(_J);}
var _2v=_3p.length;for(i=0;i!=_3p.length;i++){if(_0.focusOptions[_3p[i]].ctrl.click(x,y,_04)){_2v--;}}
if((_2v==0)&&(_0.hovered.length!=0)&&(_J&&(_J.textElemId===false))){Event.stop(e);}
return true;},changeActiveControl:function(_c){var _0=EVENT,_1I;_1I=_0.activeControl;if(_c!=_1I){if(_1I){_1I.active=false;_1I._7g(_c);}
_0.activeControl=null;if(_c){_c.active=true;_0.activeControl=_c;_c._6Y(_1I);}}},mouseUp:function(e){var _0=EVENT,_3v,x,y,_9,_c,i;_0._91(e);_3v=false;_04=Event.isLeftClick(e);_0.status[_0.button1]=false;_0.status[_0.button2]=false;x=_0.status[_0.crsrX];y=_0.status[_0.crsrY];for(i=0;i!=_0.dragItems.length;i++){_9=_0.dragItems[i];_c=_0.focusOptions[_9].ctrl;_c.endDrag(x,y);_3v=true;_0._9r();if(_0.hovered.indexOf(_9)==-1){_0.blur(_c);}
if(_0.topmostDroppable){_0.topmostDroppable.onHoverEnd(_c);_0.topmostDroppable.onDrop(_c);_0.topmostDroppable=null;}}
_0.dragItems=[];if(_3v){document.onselectstart=_0._storedOnSelectStart;}
for(i=0;i!=_0.focused.length;i++){if(_0.focused[i]==true){if(_0.focusOptions[i].mouseUp==true){_0.focusOptions[i].ctrl.mouseUp(x,y,_04);}}}
return true;},keyDown:function(e){var _0=EVENT,_0F;_0._91(e);_0F=e.keyCode;if(_0.activeControl&&_0.focusOptions[_0.activeControl.elemId].keyDown==true){Event.stop(e);if(_0._lastKeyDown!=_0F){_0.activeControl.keyDown(_0F);}}
if(_0.status[_0.keysDown].indexOf(_0F)==-1){_0.status[_0.keysDown].push(_0F);}
_0._lastKeyDown=_0F;},keyUp:function(e){var _0=EVENT,_0F,_keycodeindex;_0._91(e);_0F=e.keyCode;_0._lastKeyDown=null;for(var i=0;i!=_0.textEnterCtrls.length;i++){var _2N=_0.textEnterCtrls[i],_c=HSystem.views[_2N];if(_c.textEnter){_c.textEnter();}}
if(_0.activeControl&&_0.focusOptions[_0.activeControl.elemId].keyUp==true){_0.activeControl.keyUp(_0F);}
_5e=_0.status[_0.keysDown].indexOf(_0F);if(_5e!=-1){_0.status[_0.keysDown].splice(_5e,1);}},keyPress:function(e){var _0=EVENT;if(_0.activeControl&&_0.focusOptions[_0.activeControl.elemId].keyDown==true){Event.stop(e);}},mouseWheel:function(e){var _0=EVENT,_Z,i;_Z=0;if(!e){e=window.event;}
if(e.wheelDelta){_Z=e.wheelDelta/120;if(window.opera){_Z=-_Z;}}
else if(e.detail){_Z=-e.detail/3;}
for(i=0;i!=_0.focused.length;i++){if(_0.focused[i]==true){if(_0.focusOptions[i].mouseWheel==true){Event.stop(e);_0.focusOptions[i].ctrl.mouseWheel(_Z);}}}},contextMenu:function(e){EVENT.mouseDown(e,false);Event.stop(e);},_91:function(e){var _0=EVENT;_0.status[_0.altKeyDown]=e.altKey;_0.status[_0.ctrlKeyDown]=e.ctrlKey;_0.status[_0.shiftKeyDown]=e.shiftKey;}};LOAD('EVENT.start();');SHA={_53:0,hexCase:function(){return SHA._53;},setHexCase:function(_6u){SHA._53=_6u;},_4C:"=",base64Pad:function(){return SHA._4C;},setBase64Pad:function(_7n){SHA._4C=_7n;},_4H:8,chrsz:function(){return SHA._4H;},setChrsz:function(_6q){SHA._4H=_6q;},hexSHA1:function(_11){var _0=SHA;return _0._8w(_0._8A(_0._9n(_11),_11.length*_0._4H));},b64SHA1:function(_11){var _0=SHA;return _0._8v(_0._8A(_0._9n(_11),_11.length*_0._4H));},strSHA1:function(_11){var _0=SHA;return _0._8x(_0._8A(_0._9n(_11),_11.length*_0._4H));},hexHmacSHA1:function(_0K,_0d){var _0=SHA;return _0._8w(_0._8z(_0K,_0d));},b64HmacSHA1:function(_0K,_0d){var _0=SHA;return _0._8v(_0._8z(_0K,_0d));},strHmacSHA1:function(_0K,_0d){var _0=SHA;return _0._8x(_0._8z(_0K,_0d));},str2Base64:function(_K){var _0=SHA;return _0._8v(_0._9n(_K));},test:function(){return SHA.hexSHA1("abc")=="a9993e364706816aba3e25717850c26c9cd0d89d";},_8A:function(_5,_3R){var _0=SHA;_5[_3R>>5]|=0x80<<(24-_3R%32);_5[((_3R+64>>9)<<4)+15]=_3R;var _0H=new Array(80),_17=1732584193,_Y=-271733879,_06=-1732584194,_07=271733878,_1z=-1009589776,i,_5x,_5y,_5z,_5A,_5B,j,_X;for(i=0;i<_5.length;i+=16){_5x=_17;_5y=_Y;_5z=_06;_5A=_07;_5B=_1z;for(j=0;j<80;j++){if(j<16){_0H[j]=_5[i+j];}
else{_0H[j]=_0._9h(_0H[j-3]^_0H[j-8]^_0H[j-14]^_0H[j-16],1);}
_X=_0._9i(_0._9i(_0._9h(_17,5),_0._9k(j,_Y,_06,_07)),_0._9i(_0._9i(_1z,_0H[j]),_0._9l(j)));_1z=_07;_07=_06;_06=_0._9h(_Y,30);_Y=_17;_17=_X;}
_17=_0._9i(_17,_5x);_Y=_0._9i(_Y,_5y);_06=_0._9i(_06,_5z);_07=_0._9i(_07,_5A);_1z=_0._9i(_1z,_5B);}
return[_17,_Y,_06,_07,_1z];},_9k:function(_X,_Y,_06,_07){if(_X<20){return(_Y&_06)|((~_Y)&_07);}
if(_X<40){return _Y^_06^_07;}
if(_X<60){return(_Y&_06)|(_Y&_07)|(_06&_07);}
return _Y^_06^_07;},_9l:function(_X){return(_X<20)?1518500249:(_X<40)?1859775393:(_X<60)?-1894007588:-899497514;},_8z:function(_0K,_0d){var _0=SHA,_1U=_0._9n(_0K),_5d=new Array(16),_5C=new Array(16),i,_50;if(_1U.length>16){_1U=_0._8A(_1U,_0K.length*_0._4H);}
for(i=0;i<16;i++){_5d[i]=_1U[i]^0x36363636;_5C[i]=_1U[i]^0x5C5C5C5C;}
_50=_0._8A(_5d.concat(_0._9n(_0d)),512+_0d.length*_0._4H);return _0._8A(_5C.concat(_50),512+160);},_9i:function(_5,_a){var _5n=(_5&0xFFFF)+(_a&0xFFFF),_7h=(_5>>16)+(_a>>16)+(_5n>>16);return(_7h<<16)|(_5n&0xFFFF);},_9h:function(_34,_4J){return(_34<<_4J)|(_34>>>(32-_4J));},_9n:function(_K){var _0=SHA,_1T=[],_3U=(1<<_0._4H)-1,_7S=_K.length*_0._4H,i;for(i=0;i<_7S;i+=_0._4H){_1T[i>>5]|=(_K.charCodeAt(i/_0._4H)&_3U)<<(32-_0._4H-i%32);}
return _1T;},_8x:function(_1T){var _0=SHA,_K="",_3U=(1<<_0._4H)-1,i,_3m=_1T.length*32,_6h=32-_0._4H;for(i=0;i<_3m;i+=_0._4H){_K+=String.fromCharCode((_1T[i>>5]>>>(_6h-i%32))&_3U);}
return _K;},_8w:function(_0I){var _0=SHA,_52=_0._53?"0123456789ABCDEF":"0123456789abcdef",_K="",i,_3l=_0I.length*4;for(i=0;i<_3l;i++){_K+=_52.charAt((_0I[i>>2]>>((3-i%4)*8+4))&0xF)+
_52.charAt((_0I[i>>2]>>((3-i%4)*8))&0xF);}
return _K;},_8v:function(_0I){var _0=SHA,_1M="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_K="",i,_3l=_0I.length*4,_5X,_5Y,_8q,_6b,j,_3m=_0I.length*32;for(i=0;i<_3l;i+=3){_5X=(((_0I[i>>2]>>8*(3-i%4))&0xFF)<<16);_5Y=(((_0I[i+1>>2]>>8*(3-(i+1)%4))&0xFF)<<8);_7Z=((_0I[i+2>>2]>>8*(3-(i+2)%4))&0xFF);_6b=(_5X|_5Y|_7Z);for(j=0;j<4;j++){if(i*8+j*6>_3m){_K+=_0._4C;}
else{_K+=_1M.charAt((_6b>>6*(3-j))&0x3F);}}}
return _K;}};HTransportURL=false;HTransportPoll=true;HFailPageUrl='/';HTransporterMaxRetryCount=60;HTransporterMaxRetryTime=60000;HTransporterRetryDelay=1000;HTransporterDebug=false;HTransporter=HClass.extend({constructor:null,start:function(_8d){var _0=HTransporter;_0.url_base=_8d;_0.ses_id=0;_0.err_msg='';_0.isBusy=false;_0.syncNum=0;_0.syncDelay=100;_0.prevData='';_0.failCount=0;_0.firstFail=0;_0.pollMode=HTransportPoll;_0.req_timeout=setTimeout('HTransporter.sync();',_0.syncDelay);},setPollMode:function(_8){HTransporter.pollMode=_8;},failure:function(resp){var _6G=HTransporterMaxRetryTime+(new Date().getTime()),_0=HTransporter;clearTimeout(_0.req_timeout);if(_0.firstFail==0){_0.isBusy=false;_0.firstFail=(new Date().getTime());_0.failCount++;window.status='Communications error, retry attempt '+_0.failCount+' of '+HTransporterMaxRetryCount+'...';}
else if((_0.failCount<HTransporterMaxRetryCount)&&(_0.firstFail<_6G)){_0.isBusy=false;_0.failCount++;window.status='Communications error, retry attempt '+_0.failCount+' of '+HTransporterMaxRetryCount+'...';}
else{window.status='Communications error, reloading page...';location.href=HFailPageUrl;_0.isBusy=true;}
_0.req_timeout=setTimeout('HTransporter.sync();',HTransporterRetryDelay);},respond:function(resp){var _7B=resp.responseText,_0=HTransporter;try{_0.err_msg='';eval(_7B);}
catch(e){if(HTransporterDebug){console.log(e);console.log(e.description);}
_0.err_msg='&err_msg='+e+" - "+e.description;_0.failure(resp);}
_0.prevData='';if(_0.failCount!=0){window.status='';}
_0.failCount=0;_0.firstFail=0;_0.isBusy=false;if(_0.pollMode){_0.req_timeout=setTimeout('HTransporter.sync();',_0.syncDelay);}},sync:function(){var _0=HTransporter,_8f=((_0.syncDelay>0)||(_0.syncDelay==0));if(_8f&&_0.url_base){if(!_0.isBusy){_0.isBusy=true;if(_0.prevData!=''){_1L=_0.prevData;}
else{_1L=HValueManager.toXML();_0.prevData=_1L;}
if(""!=_1L||_0.pollMode){_0.syncNum++;HVM.isGetting=true;req_args={onSuccess:function(resp){_0.respond(resp);},onFailure:function(resp){_0.failure(resp);},method:'post',postBody:'ses_id='+_0.ses_id+_0.err_msg+_1L};try{_0.req=new Ajax.Request(_0.url_base,req_args);HVM.isGetting=false;}
catch(e){window.status='conn error:'+e;HVM.isGetting=false;_0.failure(null);}}
else{_0.isBusy=false;}}}},stop:function(){clearTimeout(_0.req_timeout);}});LOAD("HTransporter.start(HTransportURL);");HValueManager=HClass.extend({constructor:null,values:{},tosync:[],isSending:false,isGetting:false,add:function(_4,_q){this.values[_4]=_q;},set:function(_4,_8q){this.values[_4].set(_8q);},s:function(_4,_8q){this.values[_4].s(_8q);},del:function(_4){var _63=this.values[_4],_8e=_63.views,_0q=0,_64=null;for(;_0q<_8e.length;_0q++){_64=_8e[_0q];_64.valueObj=new HDummyValue(0,_63.value);}
this.values[_4]=null;},changed:function(_2x){if(this.isGetting==false){if(this.tosync.indexOf(_2x.id)==-1){this.tosync.push(_2x.id);}
var _X=HTransporter;if(!_X.pollMode){clearTimeout(_X.req_timeout);_X.req_timeout=setTimeout('HTransporter.sync();',_X.syncDelay);}}},toXML:function(){var _5G='&HSyncData=';if(!this.isSending){this.isSending=true;var _7V=this.tosync.length;if(_7V==0){this.isSending=false;return'';}
var _5V=[],_0K;for(_0K=0;_0K<_7V;_0K++){var _1m=this.tosync.shift();var _7W=this.values[_1m];_5V.push(_7W.toXML(_0K));}
var _7X=_5V.join('');_5G+='<hsyncvalues version="8118">'+_7X+'</hsyncvalues>';this.isSending=false;}
return _5G;},output:function(){return this.toXML();}});HVM=HValueManager;HValue=HClass.extend({constructor:function(_4,_8q){this.id=_4;this.type='[HValue]';this.value=_8q;this.views=[];HValueManager.add(_4,this);},set:function(_8q){if(_8q!=this.value){this.value=_8q;HValueManager.changed(this);this.refresh();}},s:function(_8q){this.value=_8q;this.refresh();},get:function(){return this.value;},bind:function(_N){if(_N===undefined){throw("HValueBindError: _N is undefined!");}
this.views.push(_N);_N.setValueObj(this);},unbind:function(_N){for(var _0q=0;_0q<this.views.length;_0q++){var _89=this.views[_0q];if(_89===_N){this.views.splice(_0q);return;}}},release:function(_N){return this.unbind(_N);},refresh:function(){for(var _0q=0;_0q<this.views.length;_0q++){var _N=this.views[_0q];if(_N.value!=this.value){if(!_N._valueIsBeingSet){_N._valueIsBeingSet=true;_N.setValue(this.value);_N._valueIsBeingSet=false;}}}},toXML:function(_0K){var _1m=this.id.toString();var _0g=this.value;var _0P=(typeof _0g).slice(0,1);var _14;if(_0P=='s'){_14=_0g.toString();_14=SHA.str2Base64(_14);}
else if(_0P=='n'){if(Math.ceil(_0g)===Math.floor(_0g)===_0g){_0P='i';_14=parseInt(_0g,10).toString();}
else{_0P='f';_14=parseFloat(_0g).toString();}}
else if(_0P=='b'){if(_0g){_14='1';}
else{_14='0';}}
else{try{if(console&&console.log){console.log('syncvalue type error');console.log('  syncid:',_1m);console.log('  syncjstype:',_0P);console.log('  typeof:',(typeof _0g));console.log('  syncvalue:',_0g);}}
catch(e){alert('value error, syncid:'+_1m+' syncjstype:'+_0P+' typeof:'+(typeof _0g)+' syncvalue:'+_0g);}
return'';}
return'<'+_0P+' id="'+_1m+'">'+_14+'</'+_0P+'>';}});JSLoader=HClass.extend({constructor:function(_8c){var _0=this;_0._loadedJS=[];_0.uri=_8c;_0._7y=null;_0._okayed=false;},_93:function(_7A){var _0=this;if(_0._okayed){return;}
eval(_7A.responseText);_0._okayed=true;},load:function(_2i,_6X){var _0=this;if((_0._loadedJS.indexOf(_2i)!=-1)&&(_6X===undefined)){return;}
if(_6X){document.write('<scr'+'ipt type="text/javascript" src="'+_2i+'"><'+'/scr'+'ipt>');}else{var _7z={onSuccess:function(resp){_0._93(resp);},onFailure:function(resp){window.status="failed to load js: "+_0.uri+_2i+'.js';},method:'get',asynchronous:false};var _p=this.uri+_2i+'.js';_0._7y=new Ajax.Request(_p,_7z);_0._loadedJS.push(_2i);_0._okayed=false;}}});RUN("jsLoader = new JSLoader('/H/js/');");HValueMatrixComponentExtension={componentBehaviour:['view','control','matrix'],constructor:function(_1,_m,_2){this.base(_1,_m,_2);this.setValueMatrix();},setValueMatrix:function(){if(!this.parent.valueMatrix){this.parent.valueMatrix=new HValueMatrix();}
this.valueMatrixIndex=this.parent.valueMatrix.addControl(this);},click:function(){if(this.parent.valueMatrix instanceof HValueMatrix){this.parent.valueMatrix.setValue(this.valueMatrixIndex);}}};HValueMatrix=HClass.extend({constructor:function(){this.ctrls=[];this.value=-1;this.valueObj=new HDummyValue();},setValueObj:function(_6e){this.valueObj=_6e;this.setValue(_6e.value);},setValue:function(_d){if(_d!=this.value){if(this.value!=-1){this.ctrls[this.value].setValue(false);}
if(_d!=-1){this.valueObj.set(_d);this.value=_d;if(_d<this.ctrls.length){this.ctrls[_d].setValue(true);}}}},addControl:function(_c){this.ctrls.push(_c);var _2k=this.ctrls.length-1;if(_c.value){this.setValue(_2k);}
return _2k;}});HPoint=HClass.extend({constructor:function(){this.type='[HPoint]';var _Y=arguments;if(_Y.length===0){this._1Y();}
else if(_Y.length==2){this._4M(_Y[0],_Y[1]);}
else if(_Y.length==1){this._1Z(_Y[0]);}
else{throw"Invalid number of arguments.";}},_1Y:function(){this.x=null;this.y=null;},_4M:function(x,y){this.x=x;this.y=y;},_1Z:function(_e){this.x=_e.x;this.y=_e.y;},set:function(){var _Y=arguments;if(_Y.length===0){this._1Y();}
else if(_Y.length==2){this._4M(_Y[0],_Y[1]);}
else if(_Y.length==1){this._1Z(_Y[0]);}
else{throw"Invalid number of arguments.";}},constrainTo:function(_1){if(this.x<_1.left){this.x=_1.left;}
if(this.y<_1.top){this.y=_1.top;}
if(this.x>_1.right){this.x=_1.right;}
if(this.y>_1.bottom){this.y=_1.bottom;}},add:function(_e){_Y=arguments;if((_Y.length==1)&&(_Y[0].type==this.type)){_e=_Y[0];return new HPoint((this.x+_e.x),(this.y+_e.y));}
else if(_Y.length==2){return new HPoint((this.x+_Y[0]),(this.y+_Y[1]));}else{return new HPoint(0,0);}},subtract:function(){_Y=arguments;if((_Y.length==1)&&(_Y[0].type==this.type)){_e=_Y[0];return new HPoint(this.x-_e.x,this.y-_e.y);}
else if(_Y.length==2){return new HPoint(this.x-_Y[0],this.y-_Y[1]);}else{return new HPoint(0,0);}},equals:function(_e){return(this.x==_e.x&&this.y==_e.y);}});HRect=HClass.extend({constructor:function(){this.type='[HRect]';var _Y=arguments;if(_Y.length===0){this._1Y();}else if(_Y.length==4){this._4L(_Y[0],_Y[1],_Y[2],_Y[3]);}
else if(_Y.length==2){this._1Z(_Y[0],_Y[1]);}
else if(_Y.length==1){this._4K(_Y[0]);}
else{throw"Invalid number of arguments.";}
this.updateSecondaryValues();},_1Y:function(){this.top=0;this.left=0;this.bottom=-1;this.right=-1;},_4L:function(_0l,_15,_2r,_1V){this.top=_15;this.left=_0l;this.bottom=_1V;this.right=_2r;},_1Z:function(_5j,_5L){this.top=_5j.y;this.left=_5j.x;this.bottom=_5L.y;this.right=_5L.x;},_4K:function(_1){this.top=_1.top;this.left=_1.left;this.bottom=_1.bottom;this.right=_1.right;},updateSecondaryValues:function(){this.isValid=(this.right>=this.left&&this.bottom>=this.top);this.leftTop=new HPoint(this.left,this.top);this.leftBottom=new HPoint(this.left,this.bottom);this.rightTop=new HPoint(this.right,this.top);this.rightBottom=new HPoint(this.right,this.bottom);this.width=(this.right-this.left);this.height=(this.bottom-this.top);},set:function(){var _Y=arguments;if(_Y.length===0){this._1Y();}else if(_Y.length==4){this._4L(_Y[0],_Y[1],_Y[2],_Y[3]);}
else if(_Y.length==2){this._1Z(_Y[0],_Y[1]);}
else if(_Y.length==1){this._4K(_Y[0]);}
else{throw"Invalid number of arguments.";}
this.updateSecondaryValues();},setLeft:function(_0l){this.left=_0l;this.updateSecondaryValues();},setRight:function(_2r){this.right=_2r;this.updateSecondaryValues();},setTop:function(_15){this.top=_15;this.updateSecondaryValues();},setBottom:function(_1V){this.bottom=_1V;this.updateSecondaryValues();},setLeftTop:function(_e){this.left=_e.x;this.top=_e.y;this.updateSecondaryValues();},setLeftBottom:function(_e){this.left=_e.x;this.bottom=_e.y;this.updateSecondaryValues();},setRightTop:function(_e){this.right=_e.x;this.top=_e.y;this.updateSecondaryValues();},setRightBottom:function(_e){this.right=_e.x;this.bottom=_e.y;this.updateSecondaryValues();},setWidth:function(_s){this.right=this.left+_s;this.updateSecondaryValues();},setHeight:function(_R){this.bottom=this.top+_R;this.updateSecondaryValues();},setSize:function(){var _Y=arguments;if(_Y.length===2){_s=_Y[0];_R=_Y[1];}
else if(_Y.length===1){_s=_Y.x;_R=_Y.y;}
this.right=this.left+_s;this.bottom=this.top+_R;this.updateSecondaryValues();},intersects:function(_1){return(((_1.left>=this.left&&_1.left<=this.right)||(_1.right>=this.left&&_1.right<=this.right))&&((_1.top>=this.top&&_1.top<=this.bottom)||(_1.bottom>=this.top&&_1.bottom<=this.bottom)));},contains:function(_q){if(_q instanceof HPoint){return this._6z(_q);}
else if(_q instanceof HRect){return this._6A(_q);}
else{throw"Wrong argument type.";}},_6z:function(_e){return(_e.x>=this.left&&_e.x<=this.right&&_e.y>=this.top&&_e.y<=this.bottom);},_6A:function(_1){return(_1.left>=this.left&&_1.right<=this.right&&_1.top>=this.top&&_1.bottom<=this.bottom);},insetBy:function(){var _Y=arguments;if(_Y.length===1){this._7d(_Y[0]);}else if(_Y.length==2){this._5b(_Y[0],_Y[1]);}else{throw"Invalid number of arguments.";}
this.updateSecondaryValues();},_7d:function(_e){this._5b(_e.x,_e.y);},_5b:function(x,y){this.left+=x;this.top+=y;this.right-=x;this.bottom-=y;},offsetBy:function(){var _Y=arguments;if(_Y.length===1){this._7j(_Y[0]);}else if(_Y.length==2){this._5v(_Y[0],_Y[1]);}else{throw"Invalid number of arguments.";}
this.updateSecondaryValues();},_7j:function(_e){this._5v(_e.x,_e.y);},_5v:function(x,y){this.left+=x;this.top+=y;this.right+=x;this.bottom+=y;},offsetTo:function(){var _Y=arguments;if(_Y.length===1){this._7k(_Y[0]);}else if(_Y.length==2){this._5w(_Y[0],_Y[1]);}else{throw"Invalid number of arguments.";}
this.updateSecondaryValues();},_7k:function(_e){this._5w(_e.x,_e.y);},_5w:function(x,y){this.right+=x-this.left;this.left=x;this.bottom+=y-this.top;this.top=y;},equals:function(_1){return(this.left==_1.left&&this.top==_1.top&&this.right==_1.right&&this.bottom==_1.bottom);},intersection:function(_1){return new HRect(Math.max(this.left,_1.left),Math.max(this.top,_1.top),Math.min(this.right,_1.right),Math.min(this.bottom,_1.bottom));},union:function(_1){return new HRect(Math.min(this.left,_1.left),Math.min(this.top,_1.top),Math.max(this.right,_1.right),Math.max(this.bottom,_1.bottom));},bind:function(_q){},unbind:function(_q){}});HDefaultApplicationInterval=20;HSystemTickerInterval=10;HSystem=HClass.extend({constructor:null,type:'[HSystem]',apps:[],appPriorities:[],busyApps:[],appTimers:[],freeAppIds:[],defaultInterval:HDefaultApplicationInterval,viewsZOrder:[],ticks:0,maxAppRunTime:5000,scheduler:function(){for(var _n=0;_n<this.apps.length;_n++){if(this.apps[_n]){if(!this.busyApps[_n]){if((this.ticks%this.appPriorities[_n])==0){this.appTimers[_n]=setTimeout('if (HSystem.apps['+_n+']) {HSystem.apps['+_n+']._5S();}',10);}}}}
if(this._1N.length!=0){this._6V();}},ticker:function(){this.ticks++;this.scheduler();this._9p=setTimeout('HSystem.ticker();',HSystemTickerInterval);},addApp:function(_1q,_0m){if(this.freeAppIds.length>1024){var _n=this.freeAppIds.shift();this.apps[_n]=_1q;}else{this.apps.push(_1q);var _n=this.apps.length-1;}
_1q.parent=this;_1q.parents=[this];_1q.appId=_n;this.startApp(_n,_0m);return _n;},startApp:function(_n,_0m){if(_0m===undefined){_0m=this.defaultInterval;}
this.appPriorities[_n]=_0m;this.busyApps[_n]=false;},stopApp:function(_n){this.busyApps[_n]=true;},reniceApp:function(_n,_0m){this.appPriorities[_n]=_0m;},killApp:function(_n,_6W){if(!_6W){var _7P=new Date().getTime();while(this.busyApps[_n]==true){if(new Date().getTime()>_7P+this.maxAppRunTime){break;}}}
this.busyApps[_n]=true;this.apps[_n].destroyAllViews();delete this.apps[_n];this.apps[_n]=null;this.freeAppIds.push(_n);},views:[],_3D:[],addView:function(_f){var _31;if(this._3D.length==0){_31=this.views.length;this.views.push(_f);}
else{_31=this._3D.pop();this.views[_31]=_f;}
return _31;},delView:function(_h){this.views[_h]=null;this._3D.push(_h);},activeWindowId:0,windowFocus:function(_f){var _8s=this.activeWindowId,_1P=this.views,_h=_f.viewId;if(_1P[_8s]){if(_1P[_8s]["windowBlur"]){_1P[_8s].windowBlur();}}
this.activeWindowId=_h;_f.bringToFront();_f.windowFocus();},_1N:[],updateZIndexOfChildren:function(_h){if(this._1N.indexOf(_h)==-1){this._1N.push(_h);}},_6V:function(){var j=0;_2H=this._1N;for(;j!=_2H.length;j++){var _h=_2H.unshift(),_1P=this.views[_h].viewsZOrder,_8j=_1P.length,_7J=ELEM.setStyle,_7Y=this.views,_h,_f,_6L='elemId',_8p='z-index',i=0;for(;i!=_8j;i++){_h=_1P[i];_f=_7Y[_h];_7J(_f[_6L],_8p,i);}}}});LOAD('HSystem.ticker();');HApplication=HClass.extend({componentBehaviour:['app'],constructor:function(_0m){this.views=[];this.markupElemIds=[];this.viewsZOrder=HSystem.viewsZOrder;HSystem.addApp(this,_0m);},buildParents:function(_h){var _f=HSystem.views[_h];_f.parent=this;_f.parents=[];for(var _1i=0;_1i<this.parents.length;_1i++){_f.parents.push(this.parents[_1i]);}
_f.parents.push(this);},addView:function(_f){var _h=HSystem.addView(_f);this.views.push(_h);this.buildParents(_h);this.viewsZOrder.push(_h);return _h;},removeView:function(_h){HSystem.views[_h].remove();},destroyView:function(_h){HSystem.views[_h].die();},die:function(){HSystem.killApp(this.appId,false);},destroyAllViews:function(){var i,_h;for(i=0;i<this.views.length;i++){_h=this.views[i];HSystem.views[_h].die();}},_7q:function(){var i,_h,_f;for(i=0;i<this.views.length;i++){_h=this.views[i];_f=HSystem.views[_h];if((_f!==null)&&(_f['onIdle']!==undefined)){_f.onIdle();}}},_5S:function(){HSystem.busyApps[this.appId]=true;this.onIdle();this._7q();HSystem.busyApps[this.appId]=false;},onIdle:function(){}});HDefaultThemePath='/H/themes';HDefaultThemeName='default';HNoComponentCSS=[];HThemeHasIE6GifsInsteadOfPng=[];HThemeMode=1;HThemeManager=HClass.extend({constructor:null,init:function(){this.themePath=HDefaultThemePath;this._3d={};this._2K={};this.currentTheme=HDefaultThemeName;},setThemePath:function(_05){this.themePath=_05;},_6Q:function(_p){console.log("ERROR: Template Not Found: '"+_p+"' ");},_6P:function(_p){console.log("ERROR: Template Failure: '"+_p+"' ");},_6O:function(_p){console.log("ERROR: Template Exception: '"+_p+"' ");},fetch:function(_p,_1a){var _2p;if(!_1a){var _1a='text/html; charset=UTF-8';}
var _7y=new Ajax.Request(_p,{method:'GET',onSuccess:function(_8o){_2p=_8o.responseText;},on404:function(){HThemeManager._6Q(_p);},onFailure:function(){HThemeManager._6P(_p);},onException:function(){HThemeManager._6O(_p);},asynchronous:false,contentType:_1a});_7y.onStateChange();return _2p;},getThemeGfxPath:function(){var _l=this._22[0],_t=this._22[1],_B=this._22[2],_G=this._22[3],_16=this._16(_l,_t,_B,_G);return this._S(_16,'gfx');},getCssFilePath:function(_0v){var _l=this._22[0];if((HThemeHasIE6GifsInsteadOfPng.indexOf(_l)!=-1)&&ELEM._2h){return"url('"+this._S(this.getThemeGfxPath(),_0v.replace('.png','-ie6.gif'))+"')";}
else{return"url('"+this._S(this.getThemeGfxPath(),_0v)+"')";}},loadCSS:function(_p){var _1a='text/css';var _1b=this.fetch(_p,_1a);if(!_1b||_1b==""){return;}
_1b=this._4D(_1b);var _0p,_5U,_51;if(ELEM._2U){_0p=document.createStyleSheet();_0p.cssText=_1b;}
else{_0p=document.createElement("style");_0p.type=_1a;_0p.media="all";_51=document.getElementsByTagName('head')[0];_51.appendChild(_0p);if(navigator.userAgent.indexOf('KHTML')!=-1){var _6F=document.createTextNode(_1b);_0p.appendChild(_6F);}
else{_0p.innerHTML=_1b;}}},_6m:function(_K){if(_K[_K.length-1]!='/'){_K+='/';}
return _K;},_S:function(_7Q,_7R){return this._6m(_7Q)+_7R;},_16:function(_l,_t,_B,_G){var _05=_B;if(_B===null){_05=this.themePath;}
if(HThemeMode==0){if(_G){_05=this._S(_05,_G);}
if(_B===null){_05=this._S(_05,_t);_05=this._S(_05,'themes');}
_05=this._S(_05,_l);}
else if(HThemeMode==1){_05=this._S(_05,_l);}
return _05;},_2M:function(_l,_t,_B,_G){this._22=[_l,_t,_B,_G];var _6D=this._16(_l,_t,_B,_G);var _6E=this._S('css',_t+'.css');var _2M=this._S(_6D,_6E);return _2M;},_3T:function(_l,_t,_B,_G){var _75=this._16(_l,_t,_B,_G);var _76=this._S('html',_t+'.html');var _77=this._S(_75,_76);return _77;},loadMarkup:function(_l,_t,_B,_G){if(!this._3d[_l]){this._3d[_l]={};}
var _y=this._3d[_l][_t];if(null===_y||undefined===_y){var _3T=this._3T(_l,_t,_B,_G);_y=this.fetch(_3T);if(null===_y||undefined===_y){_y="";}
this._3d[_l][_t]=_y;}
return _y;},getMarkup:function(_l,_t,_B,_G){if(!this._2K[_l]){var _6w=this._2M(_l,'common',_B,null);this._2K[_l]={};this.loadCSS(_6w);}
if(HNoComponentCSS.indexOf(_l)==-1){if(!this._2K[_l][_t]){var _6x=this._2M(_l,_t,_B,_G);this._2K[_l][_t]=true;this.loadCSS(_6x);}}
return this.loadMarkup(_l,_t,_B,_G);},_1X:function(_l,_t,_B,_G){var _16=this._16(_l,_t,_B,_G);var _p=this._S(_16,'gfx');return _p;},_6y:function(_l,_t,_B,_G,_0v){if((HThemeHasIE6GifsInsteadOfPng.indexOf(_l)!=-1)&&ELEM._2h){return this._S(this._1X(_l,_t,_B,_G),_0v.replace('.png','-ie6.gif'));}
return this._S(this._1X(_l,_t,_B,_G),_0v);},getThemeGfxFile:function(_0v){return this.getThemeGfxPath()+_0v;},setTheme:function(_62){this.currentTheme=_62;},restoreDefaultTheme:function(){this.setTheme(HDefaultThemeName);},_1n:new RegExp(/#\{([^\}]*)\}/),_4D:function(_23){while(this._1n.test(_23)){_23=_23.replace(this._1n,eval(RegExp.$1));}
return _23;}});HMarkupView=HClass.extend({bindMarkupVariables:function(){var _0Z=this.markup;while(HMarkupView._4A.test(_0Z)){_0Z=_0Z.replace(HMarkupView._4A,this.evalMarkupVariable(RegExp.$1,true));}
while(HMarkupView._1n.test(_0Z)){_0Z=_0Z.replace(HMarkupView._1n,this.evalMarkupVariable(RegExp.$1));}
this.markup=_0Z;},evalMarkupVariable:function(_7T,_8T){try{var _ID=this.elemId.toString(),_WIDTH=this.rect.width,_HEIGHT=this.rect.height,_2p=eval(_7T);if(_8T){return'';}
if(_2p===undefined){return'';}
else{return _2p;}}
catch(e){return'';}},toggleCSSClass:function(_0u,_21,_5O){if(_0u){var _4Z=ELEM.hasClassName(_0u,_21);if(_5O){if(!_4Z){ELEM.addClassName(_0u,_21);}}
else{if(_4Z){ELEM.removeClassName(_0u,_21);}}}}},{_1n:new RegExp(/#\{([^\}]*)\}/),_4A:new RegExp(/\$\{([^\}]*)\}/)});HView=HClass.extend({themePath:null,packageName:null,isAbsolute:true,flexRight:false,flexLeft:true,flexTop:true,flexBottom:false,flexRightOffset:0,flexBottomOffset:0,componentBehaviour:['view'],constructor:function(_1,_m){if(this.theme===undefined){this.theme=HThemeManager.currentTheme;this.preserveTheme=false;}
else{this.preserveTheme=true;}
this.optimizeWidthOnRefresh=true;this.parent=_m;this.viewId=this.parent.addView(this);this.appId=this.parent.appId;this.app=HSystem.apps[this.appId];this.views=[];this.viewsZOrder=[];this._6C();this.setRect(_1);this.isHidden=true;this.drawn=false;this._4E=_1.left;this._4F=_1.top;this._1y=[];if(!this.isinherited){this.draw();this.show();}},setFlexRight:function(_8,_09){if(_8===undefined){_8=true;}
this.flexRight=_8;if(_09===undefined){_09=0;}
this.flexRightOffset=_09;},setFlexLeft:function(_8,_09){if(_8===undefined){_8=true;}
this.flexLeft=_8;if(_09!==undefined){this.rect.setLeft(_09);}},setFlexTop:function(_8,_09){if(_8===undefined){_8=true;}
this.flexTop=_8;if(_09!==undefined){this.rect.setTop(_09);}},setFlexBottom:function(_8,_09){if(_8===undefined){_8=true;}
this.flexBottom=_8;if(_09===undefined){_09=0;}
this.flexBottomOffset=_09;},setAbsolute:function(_8){if(_8===undefined){_8=true;}
this.isAbsolute=_8;},setRelative:function(_8){if(_8===undefined){_8=true;}
this.isAbsolute=(!_8);},getThemeGfxPath:function(){if(this.preserveTheme){_l=this.theme;}else{_l=HThemeManager.currentTheme;}
return HThemeManager._1X(_l,this.componentName,this.themePath,this.packageName);},getThemeGfxFile:function(_0v){if(this.preserveTheme){_l=this.theme;}else{_l=HThemeManager.currentTheme;}
return HThemeManager._6y(_l,this.componentName,this.themePath,this.packageName,_0v);},_5o:function(_1H){this.elemId=ELEM.make(_1H,'div');},_7I:function(_6n){var _2L='display:none;overflow:hidden;visibility:hidden;';if(this.isAbsolute){_2L+='position:absolute;';}else{_2L+='position:relative;';}
_2L+=_6n;ELEM.setCSS(this.elemId,_2L);},_3F:function(){var _1H;if(this.parent.elemId===undefined){_1H=0;}
else if(this.parent.markupElemIds&&this.parent.markupElemIds['subview']){_1H=this.parent.markupElemIds['subview'];}
else{_1H=this.parent.elemId;}
return _1H;},_6C:function(){if(!this.elemId){this._5o(this._3F());this._7I('');if(this.preserveTheme){ELEM.addClassName(this.elemId,this.theme);}
else{ELEM.addClassName(this.elemId,HThemeManager.currentTheme);}}},drawRect:function(){if(!this.parent||!this.rect.isValid){return;}
this.drawn=true;var _9=this.elemId;var _1=this.rect;ELEM.setStyle(_9,'left',this.flexLeft?(_1.left+'px'):'auto',true);ELEM.setStyle(_9,'top',this.flexTop?(_1.top+'px'):'auto',true);ELEM.setStyle(_9,'right',this.flexRight?(this.flexRightOffset+'px'):'auto',true);ELEM.setStyle(_9,'bottom',this.flexBottom?(this.flexBottomOffset+'px'):'auto',true);ELEM.setStyle(_9,'width',(this.flexLeft&&this.flexRight)?'auto':(_1.width+'px'),true);ELEM.setStyle(_9,'height',(this.flexTop&&this.flexBottom)?'auto':(_1.height+'px'),true);if(this.flexLeft&&this.flexRight){ELEM.setStyle(_9,'min-width',_1.width+'px',true);}
if(this.flexTop&&this.flexBottom){ELEM.setStyle(_9,'min-height',_1.height+'px',true);}
if(undefined===this.isHidden||this.isHidden==false){ELEM.setStyle(_9,'visibility','inherit',true);}
ELEM.setStyle(_9,'display','block',true);this._6c();if(this._4E!=_1.left||this._4F!=_1.top){this.invalidatePositionCache();this._4E=_1.left;this._4F=_1.top;}},_6c:function(){if(this.parent.viewId){HSystem.updateZIndexOfChildren(this.parent.viewId);}},_3f:function(){if(this.parent.viewId){HSystem.updateZIndexOfChildren(this.parent.viewId);}},draw:function(){var _1f=this.drawn;this.drawRect();if(!_1f&&(this.componentName!==undefined)){this.drawMarkup();}
this.refresh();},_5k:function(){var _l;if(this.preserveTheme){_l=this.theme;}
else{_l=HThemeManager.currentTheme;}
this.markup=HThemeManager.getMarkup(_l,this.componentName,this.themePath,this.packageName);},markupElemNames:['bg','label','state','control','value','subview'],drawMarkup:function(){ELEM.setStyle(this.elemId,'display','none',true);this._5k();this.bindMarkupVariables();ELEM.setHTML(this.elemId,this.markup);this.markupElemIds={};for(var i=0;i<this.markupElemNames.length;i++){var _0A=this.markupElemNames[i],_4U=_0A+this.elemId,_74=' id="'+_4U+'"';if(this.markup.indexOf(_74)!=-1){this.markupElemIds[_0A]=this.bindDomElement(_4U);}}
ELEM.setStyle(this.elemId,'display','block');},setHTML:function(_0w){ELEM.setHTML(this.elemId,_0w);},refresh:function(){if(this.drawn){this.drawRect();}
if(this.optimizeWidthOnRefresh){this.optimizeWidth();}},setRect:function(_1){if(this.rect){this.rect.unbind(this);}
this.rect=_1;this.rect.bind(this);this.refresh();},setStyle:function(_C,_8q,_3o){if(!this.elemId){return;}
ELEM.setStyle(this.elemId,_C,_8q,_3o);},style:function(_C){if(!this.elemId){return;}
return ELEM.getStyle(this.elemId,_C);},setStyleForPart:function(_0A,_C,_8q,_3o){if(!this.markupElemIds[_0A]){return;}
ELEM.setStyle(this.markupElemIds[_0A],_C,_8q,_3o);},styleForPart:function(_0A,_C){if(!this.markupElemIds[_0A]){return;}
ELEM.getStyle(this.markupElemIds[_0A],_C);},hide:function(){if(!this.isHidden){this.setStyle('visibility','hidden');this.setStyle('display','none');this.isHidden=true;}},show:function(){if(this.isHidden){this.setStyle('visibility','inherit');this.setStyle('display','block');this.isHidden=false;}},toggle:function(){if(this.isHidden){this.show();}else{this.hide();}},remove:function(){if(this.parent){var _8i=this.parent.viewsZOrder.indexOf(this.viewId),_8h=this.parent.views.indexOf(this.viewId);this.parent.views.splice(_8h,1);HSystem.delView(this.viewId);this.parent.viewsZOrder.splice(_8i,1);var _5W=HSystem._1N.indexOf(this.viewId);if(_5W!=-1){HSystem._1N.splice(_5W,1);}
this._3f();this.parent=null;this.parents=[];}},die:function(){var i=0,_4G;for(;i<this.views.length;i++){_4G=this.views[i];this.destroyView(_4G);}
this.remove();for(i=0;i<this._1y.length;i++){ELEM.del(this._1y[i]);}
this._1y=[];this.drawn=false;ELEM.del(this.elemId);delete this.rect;},onIdle:function(){for(var i=0;i<this.views.length;i++){HSystem.views[this.views[i]].onIdle();}},buildParents:function(_h){var _f=HSystem.views[_h];_f.parent=this;_f.parents=[];for(var _1i=0;_1i<this.parents.length;_1i++){_f.parents.push(this.parents[_1i]);}
_f.parents.push(this);},addView:function(_f){var _h=HSystem.addView(_f);this.views.push(_h);this.buildParents(_h);this.viewsZOrder.push(_h);return _h;},removeView:function(_h){HSystem.views[_h].remove();},destroyView:function(_h){HSystem.views[_h].die();},bounds:function(){var _18=new HRect(this.rect);_18.right-=_18.left;_18.left=0;_18.bottom-=_18.top;_18.top=0;return _18;},resizeBy:function(_3J,_2C){var _1=this.rect;_1.right+=_3J;_1.bottom+=_2C;_1.updateSecondaryValues();this.drawRect();},resizeTo:function(_s,_R){var _1=this.rect;_1.right=_1.left+_s;_1.bottom=_1.top+_R;_1.updateSecondaryValues();this.drawRect();},offsetTo:function(){this.rect.offsetTo.apply(this.rect,arguments);this.drawRect();},moveTo:function(){this.offsetTo.apply(this,arguments);},offsetBy:function(_3J,_2C){this.rect.offsetBy(_3J,_2C);this.drawRect();},moveBy:function(){this.offsetBy.apply(this,arguments);},bringToFront:function(){if(!this.parent){return;}
var _d=this.zIndex();this.parent.viewsZOrder.splice(_d,1);this.parent.viewsZOrder.push(this.viewId);this._3f();},sendToBack:function(){if(!this.parent){return;}
var _d=this.zIndex();this.parent.viewsZOrder.splice(_d,1);this.parent.viewsZOrder.splice(0,0,this.viewId);this._3f();},zIndex:function(){if(!this.parent){return;}
return this.parent.viewsZOrder.indexOf(this.viewId);},stringWidth:function(_13,_j,_9){if(_j!==undefined&&_j!=null){_13=_13.substring(0,_j);}
if(_9===undefined||_9==null){_9=this.elemId;}
var _1k=ELEM.make(_9);ELEM.setCSS(_1k,"visibility:hidden;position:absolute;white-space:nowrap;");ELEM.setHTML(_1k,_13);var _s=0,_R=0;if(ELEM._2h||ELEM._8V||ELEM._8W){_s=parseInt(ELEM.get(_1k).offsetWidth,10);if(arguments[3]){_R=parseInt(ELEM.get(_1k).offsetHeight,10);}}else{_s=parseInt(ELEM.get(_1k).clientWidth,10);if(ELEM._8U){_s+=1;}
if(arguments[3]){_R=parseInt(ELEM.get(_1k).clientHeight,10);}}
ELEM.del(_1k);if(arguments[3]){return[_s,_R];}else{return _s;}},pageX:function(){var _5=0;var _7=this;while(_7){if(_7.elemId&&_7.rect){_5+=ELEM.get(_7.elemId).offsetLeft;_5-=ELEM.get(_7.elemId).scrollLeft;}
if(_7.markupElemIds&&_7.markupElemIds.subview){_5+=ELEM.get(_7.markupElemIds.subview).offsetLeft;_5-=ELEM.get(_7.markupElemIds.subview).scrollLeft;}
_7=_7.parent;}
return _5;},pageY:function(){var _a=0;var _7=this;while(_7){if(_7.elemId&&_7.rect){_a+=ELEM.get(_7.elemId).offsetTop;_a-=ELEM.get(_7.elemId).scrollTop;}
if(_7.markupElemIds&&_7.markupElemIds.subview){_a+=ELEM.get(_7.markupElemIds.subview).offsetTop;_a-=ELEM.get(_7.markupElemIds.subview).scrollTop;}
_7=_7.parent;}
return _a;},pageLocation:function(){return new HPoint(this.pageX(),this.pageY());},optimizeWidth:function(){},invalidatePositionCache:function(){for(var i=0;i<this.views.length;i++){HSystem.views[this.views[i]].invalidatePositionCache();}},bindDomElement:function(_4Q){var _3n=ELEM.bindId(_4Q);if(_3n){this._1y.push(_3n);}
return _3n;},unbindDomElement:function(_0u){var _57=this._1y.indexOf(_0u);if(_57>-1){ELEM.del(_0u);this._1y.splice(_57,1);}},animateTo:function(_q,_0V,_0J){if(_q instanceof HPoint){var _1=new HRect(_q,_q);_1.setSize(this.rect.width,this.rect.height);this._3k(_1,_0V);}
else if(_q instanceof HRect){this._3k(_q,_0V);}
else{throw"Wrong argument type.";}},stopAnimation:function(){if(this._2G){window.clearInterval(this._2G);this._2G=null;var _0l=parseInt(this.style('left'),10),_15=parseInt(this.style('top'),10),_s=parseInt(this.style('width'),10),_R=parseInt(this.style('height'),10);this.rect.set(_0l,_15,_0l+_s,_15+_R);this.drawRect();if(this._4x){this.onAnimationEnd();}
else{this.onAnimationCancel();}}},_3k:function(_1,_0V,_0J){if(null===_0V||undefined===_0V){_0V=500;}
if(null===_0J||undefined===_0J||_0J<1){_0J=50;}
if(!this._2G){this._4x=false;this.onAnimationStart();var _7O=new Date().getTime();var _o=this;this._2G=window.setInterval(function(){_o._8u({startTime:_7O,duration:_0V,transition:function(t,b,c,d){return c*t/d+b;},props:[{prop:'left',from:_o.rect.left,to:_1.left,unit:'px'},{prop:'top',from:_o.rect.top,to:_1.top,unit:'px'},{prop:'width',from:_o.rect.width,to:_1.width,unit:'px'},{prop:'height',from:_o.rect.height,to:_1.height,unit:'px'}]});},Math.round(1000/_0J));}},_8u:function(_q){var _65=new Date().getTime();if(_65<_q.startTime+_q.duration){var _6s=_65-_q.startTime;for(var i=0;i<_q.props.length;i++){var _3E=_q.props[i].from;var _69=_q.props[i].to;if(_3E!=_69){var _7w=_q.transition(_6s,_3E,(_69-_3E),_q.duration);this.setStyle(_q.props[i].prop,_7w+_q.props[i].unit);}}}else{for(var i=0;i<_q.props.length;i++){this.setStyle(_q.props[i].prop,_q.props[i].to+_q.props[i].unit);}
this._4x=true;this.stopAnimation();}},onAnimationStart:function(){},onAnimationEnd:function(){},onAnimationCancel:function(){}});HView.implement(HMarkupView);HControl=HView.extend({componentBehaviour:['view','control'],refreshOnValueChange:true,refreshOnLabelChange:true,constructor:function(_1,_g,_2){if(!_2){_2={};}
var options=new(HComponentDefaults.extend(_2));this.options=options;if(this.isinherited){this.base(_1,_g);}
else{this.isinherited=true;this.base(_1,_g);this.isinherited=false;}
var _T=options.label;this.setLabel(_T);var _2c=options.events;this.setEvents(_2c);if(this.options.valueObj){this.setValueObj(this.options.valueObj);}
if(!this.valueObj){this.setValueObj(new HDummyValue());}
if((this.value===undefined)&&(options.value!==undefined)){this.setValue(options.value);}
var _7e=(_2.minValue||_2.maxValue);if(_7e){this.setValueRange(options.value,options.minValue,options.maxValue);}
this.setEnabled(options.enabled);this.action=options.action;if(options.visible){this.show();}
else{this.hide();}
if(!this.isinherited){this.draw();}},setAction:function(_4t){this.action=_4t;},die:function(){if(this.valueObj){this.valueObj.unbind(this);delete this.valueObj;}
EVENT.unreg(this);this.base();},setLabel:function(_T){this.label=_T;this.options.label=_T;this.refresh();},setEnabled:function(_8){for(var i=0;i<this.views.length;i++){HSystem.views[this.views[i]].setEnabled(_8);}
if(this.enabled===_8){return;}
this.enabled=_8;if(_8){EVENT.reg(this,this.events);}
else{EVENT.unreg(this);}
this.toggleCSSClass(this.elemId,HControl.CSS_ENABLED,this.enabled);this.toggleCSSClass(this.elemId,HControl.CSS_DISABLED,!this.enabled);},setValue:function(_8q){if(_8q===undefined){return;}
if(!this.valueObj){return;}
if(_8q!==this.value){this.value=_8q;this.valueObj.set(this.value);this.refresh();}},setValueObj:function(_4s){this.valueObj=_4s;this.setValue(_4s.value);},setValueRange:function(_8q,_2Y,_2X){this.minValue=_2Y;this.maxValue=_2X;_8q=(_8q<_2Y)?_2Y:_8q;_8q=(_8q>_2X)?_2X:_8q;this.setValue(_8q);this.refresh();},refreshValue:function(){if(this.markupElemIds){if(this.markupElemIds.value){ELEM.setHTML(this.markupElemIds.value,this.value);}}},refreshLabel:function(){if(this.markupElemIds){if(this.markupElemIds.label){ELEM.setHTML(this.markupElemIds.label,this.label);}}},refresh:function(){this.base();if(this.drawn){if(this.refreshOnValueChange){this.refreshValue();}
if(this.refreshOnLabelChange){this.refreshLabel();}}},setEvents:function(_2c){if(!this.events){var _6R=HClass.extend({mouseMove:false,mouseDown:false,mouseUp:false,draggable:false,droppable:false,keyDown:false,keyUp:false,mouseWheel:false,textEnter:false,click:false});this.events=new _6R;}
if(_2c){this.events.extend(_2c);}
this.events.ctrl=this;EVENT.focusOptions[this.elemId]=this.events;var _5r=this.events.mouseMove;var _3W=EVENT.coordListeners.indexOf(this.elemId);if(_5r&&(_3W==-1)){EVENT.coordListeners.push(this.elemId);}else if((!_5r)&&(_3W!=-1)){EVENT.coordListeners.splice(_3W,1);}
this.isDragged=false;},setMouseMove:function(_8){this.events.mouseMove=_8;this.setEvents();},setClickable:function(_8){this.events.click=_8;this.setEvents();},setMouseDown:function(_8){this.events.mouseDown=_8;this.setEvents();},setMouseUp:function(_8){this.events.mouseUp=_8;this.setEvents();},setMouseWheel:function(_8){this.events.mouseWheel=_8;this.setEvents();},setDraggable:function(_8){this.events.draggable=_8;this.setEvents();},setDroppable:function(_8){this.events.droppable=_8;this.setEvents();},setKeyDown:function(_8){this.events.keyDown=_8;this.setEvents();},setKeyUp:function(_8){this.events.keyUp=_8;this.setEvents();},setTextEnter:function(_8){this.events.textEnter=_8;this.setEvents();},textEnter:function(){},focus:function(){},blur:function(){},gainedActiveStatus:function(_3Q){},_6Y:function(_3Q){if(this.enabled){this.toggleCSSClass(this.elemId,HControl.CSS_ACTIVE,true);}
this.gainedActiveStatus(_3Q);},lostActiveStatus:function(_J){},_7g:function(_J){if(this.enabled){this.toggleCSSClass(this.elemId,HControl.CSS_ACTIVE,false);}
this.lostActiveStatus(_J);},mouseMove:function(_5,_a){},mouseDown:function(_5,_a,_1B){},mouseUp:function(_5,_a,_1B){},mouseWheel:function(_Z){},startDrag:function(x,y){this.isDragged=true;},doDrag:function(x,y){},endDrag:function(x,y){this.isDragged=false;this.invalidatePositionCache();},onDrop:function(obj){},onHoverStart:function(obj){},onHoverEnd:function(obj){},keyDown:function(_I){},keyUp:function(_I){},_5t:function(e){if(!Event.element){return;}
var _o=Event.element(e);while(_o&&_o.ctrl===undefined){_o=_o.parentNode;}
if(!_o){return;}
var _0=_o.ctrl;EVENT.focus(_0);Event.stop(e);},_5s:function(e){if(!Event.element){return;}
var _o=Event.element(e);while(_o&&_o.ctrl===undefined){_o=_o.parentNode;}
if(!_o){return;}
var _0=_o.owner;EVENT.blur(_0);Event.stop(e);},invalidatePositionCache:function(){this.base();EVENT.coordCacheFlush(this.elemId);}},{stopPropagation:function(event){if(event.stopPropagation){event.stopPropagation();}else{event.cancelBubble=true;}},H_CONTROL_ON:1,H_CONTROL_OFF:0,CSS_DISABLED:"disabled",CSS_ENABLED:"enabled",CSS_ACTIVE:"active"});HDummyValue=HClass.extend({constructor:function(_4,_8q){this.id=_4;this.value=_8q;},set:function(_8q){this.value=_8q;},get:function(){return this.value;},bind:function(_2x){},unbind:function(_2x){}});HComponentDefaults=HClass.extend({label:"Untitled",visible:true,events:{},value:0,action:function(){},enabled:true,active:false,minValue:-2147483648,maxValue:2147483648});HDynControl=HControl.extend({componentName:'dyncontrol',componentBehaviour:['view','control','window'],constructor:function(_1,_m,_2){if(!_2){_2={};}
var _w=HClass.extend({minSize:[24,54],maxSize:[16000,9000],resizeW:1,resizeE:1,resizeN:1,resizeS:1,resizeNW:[1,1],resizeNE:[1,1],resizeSW:[1,1],resizeSE:[1,1],noResize:false});_2=new(_w.extend(_2))();if(_2.noResize){_2.minSize=[_1.width,_1.height];_2.maxSize=[_1.width,_1.height];_2.resizeW=0;resizeE=0;resizeN=0;resizeS=0;resizeNW=[0,0];resizeNE=[0,0];resizeSW=[0,0];resizeSE=[0,0];}
if(this.isinherited){this.base(_1,_m,_2);}
else{this.isinherited=true;this.base(_1,_m,_2);this.isinherited=false;}
this.presrveTheme=true;this.setDraggable(true);this._79();this._59();if(!this.isinherited){this.draw();}},drawRect:function(_5i,_88){if(this.rect.width<this.options.minSize[0]){var _3z=0-(this.options.minSize[0]-this.rect.width);this.rect.setWidth(this.options.minSize[0]);if(_5i){this.rect.offsetBy(_3z,0);}}
else if(this.rect.width>this.options.maxSize[0]){var _3z=0-(this.options.maxSize[0]-this.rect.width);this.rect.setWidth(this.options.maxSize[0]);if(_5i){this.rect.offsetBy(_3z,0);}}
if(this.rect.height<this.options.minSize[1]){var _3u=0-(this.options.minSize[1]-this.rect.height);this.rect.setHeight(this.options.minSize[1]);if(_88){this.rect.offsetBy(0,_3u);}}
else if(this.rect.height>this.options.maxSize[1]){var _3u=0-(this.options.maxSize[1]-this.rect.height);this.rect.setHeight(this.options.maxSize[1]);if(_88){this.rect.offsetBy(0,_3u);}}
this.base();},draw:function(){var _1f=this.drawn;this.base();if(!_1f){this.buildStructure();}},buildStructure:function(){},_0t:function(_5,_a){return this._7s.subtract(_5,_a);},dynResizeNW:function(_0,_5,_a){var _M=_0._0t(_5,_a);_0.rect.setLeftTop(_0.rect.leftTop.subtract(_M));_0.drawRect(1,1);_0._7s.set(_5,_a);},dynResizeNE:function(_0,_5,_a){var _M=_0._0t(_5,_a);_0.rect.setRightTop(_0.rect.rightTop.subtract(_M));_0.drawRect(0,1);_0._7s.set(_5,_a);},dynResizeSW:function(_0,_5,_a){var _M=_0._0t(_5,_a);_0.rect.setLeftBottom(_0.rect.leftBottom.subtract(_M));_0.drawRect(1,0);_0._7s.set(_5,_a);},dynResizeSE:function(_0,_5,_a){var _M=_0._0t(_5,_a);_0.rect.setRightBottom(_0.rect.rightBottom.subtract(_M));_0.drawRect(0,0);_0._7s.set(_5,_a);},dynResizeW:function(_0,_5,_a){var _M=_0._0t(_5,_a);_0.rect.setLeft(_0.rect.left-_M.x);_0.drawRect(1,0);_0._7s.set(_5,_a);},dynResizeE:function(_0,_5,_a){var _M=_0._0t(_5,_a);_0.rect.setRight(_0.rect.right-_M.x);_0.drawRect(0,0);_0._7s.set(_5,_a);},dynResizeN:function(_0,_5,_a){var _M=_0._0t(_5,_a);_0.rect.setTop(_0.rect.top-_M.y);_0.drawRect(0,1);_0._7s.set(_5,_a);},dynResizeS:function(_0,_5,_a){var _M=_0._0t(_5,_a);_0.rect.setBottom(_0.rect.bottom-_M.y);_0.drawRect(0,0);_0._7s.set(_5,_a);},dynDrag:function(_0,_5,_a){var _M=_0._0t(_5,_a);_0.rect.offsetTo(_0.rect.leftTop.subtract(_M));_0.drawRect(1,1);_0._7s.set(_5,_a);},_79:function(){this._0b=[];var i,_0=this,_9c=0,_9b=1,_9f=2,_9e=3,_9g=4,_99=5,_9a=6,_9d=7,_8F=8,_0b=this._0b;_0b[_9c]=_0.dynResizeNW;_0b[_9b]=_0.dynResizeNE;_0b[_9f]=_0.dynResizeSW;_0b[_9e]=_0.dynResizeSE;_0b[_9g]=_0.dynResizeW;_0b[_99]=_0.dynResizeE;_0b[_9a]=_0.dynResizeN;_0b[_9d]=_0.dynResizeS;_0b[_8F]=_0.dynDrag;},_59:function(){this._1Q=-1;this._2D=[];var i,_2s,_z=this.options,_1=this.rect,_7x=[[0,0,_z.resizeNW[0],_z.resizeNW[1]],[_1.width-_z.resizeNE[0],0,_1.width,_z.resizeNE[1]],[0,_1.height-_z.resizeSW[1],_z.resizeSW[0],_1.height],[_1.width-_z.resizeSE[0],_1.height-_z.resizeSE[1],_1.width,_1.height],[0,_z.resizeN,_z.resizeW,_1.height-_z.resizeS],[_1.width-_z.resizeE,_z.resizeN,_1.width,_1.height-_z.resizeS],[_z.resizeW,0,_1.width-_z.resizeE,_z.resizeN],[_z.resizeW,_1.height-_z.resizeS,_1.width-_z.resizeE,_1.height],[_z.resizeW,_z.resizeN,_1.width-_z.resizeE,_1.height-_z.resizeS]];for(i=0;i!=9;i++){_2s=_7x[i];this._2D.push(new HRect(_2s[0],_2s[1],_2s[2],_2s[3]));}},_6H:function(){var i,_6k=this._7M.subtract(this.rect.left,this.rect.top),_2D=this._2D;for(i=0;i!=9;i++){if(_2D[i].contains(_6k)){this._1Q=i;return;}}},startDrag:function(_5,_a,_2T){this._7M=new HPoint(_5,_a);this._7s=new HPoint(_5,_a);this._9m=new HRect(this.rect);this._6H();if(this._1Q==8){this.setStyle('cursor','move');}
this.bringToFront();this.doDrag(_5,_a,_2T);},doDrag:function(_5,_a,_2T){if(this._1Q!=-1){this._0b[this._1Q](this,_5,_a);}},endDrag:function(_5,_a,_2T){this.doDrag(_5,_a,_2T);if(this._1Q==8){this.setStyle('cursor','default');}
this._59();}});var HClass=function(){if(arguments.length){var _4r=arguments[0];if(this==window){HClass.prototype.extend.call(_4r,arguments.callee.prototype);}else{this.extend(_4r);}}};HClass.prototype={extend:function(_0B,_8q){var _2d=HClass.prototype.extend;if(arguments.length==2){var _3j=this[_0B];if((_3j instanceof Function)&&(_8q instanceof Function)&&_3j.valueOf()!=_8q.valueOf()&&(/\bbase\b/).test(_8q)){var _3V=_8q;_8q=function(){var _7u=this.base;this.base=_3j;var _7C=_3V.apply(this,arguments);this.base=_7u;return _7C;};_8q.valueOf=function(){return _3V;};_8q.toString=function(){return String(_3V);};}
return this[_0B]=_8q;}else if(_0B){var _0O={toSource:null};var _5H=["toString","valueOf"];if(HClass._48){_5H.push("constructor");}
for(var i=0;(_C=_5H[i]);i++){if(_0B[_C]!=_0O[_C]){_2d.call(this,_C,_0B[_C]);}}
for(var _C in _0B){if(!_0O[_C]){_2d.call(this,_C,_0B[_C]);}}}
this.nu=function(){var _4y=[],_0=this;for(var i=0;i<arguments.length;i++){_4y.push('arguments['+i+']');}
return eval('new _0('+_4y.join(',')+')');};return this;},base:function(){}};HClass.extend=function(_0L,_4g){var _2d=HClass.prototype.extend;if(!_0L){_0L={};}
HClass._48=true;var _0O=new this;_2d.call(_0O,_0L);var _1u=_0O.constructor;_0O.constructor=this;delete HClass._48;var _1h=function(){if(!HClass._48){_1u.apply(this,arguments);}
this.constructor=_1h;};_1h.prototype=_0O;_1h.extend=this.extend;_1h.implement=this.implement;_1h.toString=function(){return String(_1u);};_2d.call(_1h,_4g);var _3Z=_1u?_1h:_0O;if(_3Z.init instanceof Function){_3Z.init();}
return _3Z;};HClass.implement=function(_2g){if(_2g instanceof Function){_2g=_2g.prototype;}
this.prototype.extend(_2g);};var Base=HClass;if([]['indexOf']===undefined){Object.extend=function(destination,source){for(property in source){destination[property]=source[property];}
return destination;};Object.extend(Array.prototype,{indexOf:function(_6p){var i=0,l=this.length;for(;i<l;i++){if(this[i]==_6p){return i;}}
return-1;}});}
is_ie=!(navigator.userAgent.toLowerCase().indexOf("opera")>-1)&&navigator.appName=="Microsoft Internet Explorer";Array.prototype.toQueryString=function(){var i,l=this.length,_4z=[];for(i=0;i<l;i++){_4z.push(encodeURIComponent(this[i].key)+"="+
encodeURIComponent(this[i].value));}
return _4z.join("&");};Ajax=HClass.extend({constructor:null,getTransport:function(){if(window.XMLHttpRequest){return new XMLHttpRequest();}else if(is_ie){if(ScriptEngineMajorVersion()>=5){return new ActiveXObject("Msxml2.XMLHTTP");}else{return new ActiveXObject("Microsoft.XMLHTTP");}}else{return false;}}});Ajax.Request=HClass.extend({constructor:function(_p,_2){this.transport=Ajax.getTransport();if(!_2){_2={};}
var _w=HClass.extend({method:"post",asynchronous:true,contentType:"application/x-www-form-urlencoded",encoding:"UTF-8",parameters:""});_w=_w.extend(_2);this.options=new _w();this.request(_p);},request:function(_p){this.url=_p;if(this.options.method=="get"&&this.options.parameters.length){this.url+=(this.url.indexOf("?")>=0?"&":"?")+this.options.parameters.toQueryString();}
try{this.transport.open(this.options.method.toUpperCase(),this.url,this.options.asynchronous,this.options.username,this.options.password);var _q=this;this.transport.onreadystatechange=function(){_q.onStateChange();};this.setRequestHeaders();var _6r=this.options.method=="post"?(this.options.postBody||this.options.parameters.toQueryString()):null;this.transport.send(_6r);if(!this.options.asynchronous&&this.transport.overrideMimeType){this.onStateChange();}}catch(e){console.log('error:',e);}},setRequestHeaders:function(){var headers={},o;if(this.options.method=="post"){headers["Content-type"]=this.options.contentType+
(this.options.encoding?"; charset="+this.options.encoding:"");if(this.transport.overrideMimeType&&(navigator.userAgent.match(/Gecko\/(\d{4})/)||[0,2005])[1]<2005){headers["Connection"]="close";}}
for(o in headers){this.transport.setRequestHeader(o,headers[o]);}},onStateChange:function(){var _2o=this.transport.readyState;if(_2o>1){this.respondToReadyState(_2o);}},respondToReadyState:function(_2o){if(_2o==4){(this.options["on"+(this.success()?"Success":"Failure")]||(function(){console.log('aa');}))(this.transport);}
if(_2o==4){this.transport.onreadystatechange=function(){};}},success:function(){return(this.transport.status>=200&&this.transport.status<300);}});HTransportURL=false;HTransportPoll=true;HFailPageUrl='/';HTransporterMaxRetryCount=60;HTransporterMaxRetryTime=60000;HTransporterRetryDelay=1000;HTransporterDebug=false;HTransporter=HClass.extend({constructor:null,start:function(_8d){var _0=HTransporter;_0.url_base=_8d;_0.ses_id=0;_0.err_msg='';_0.isBusy=false;_0.syncNum=0;_0.syncDelay=100;_0.prevData='';_0.failCount=0;_0.firstFail=0;_0.pollMode=HTransportPoll;_0.req_timeout=setTimeout('HTransporter.sync();',_0.syncDelay);},setPollMode:function(_8){HTransporter.pollMode=_8;},failure:function(resp){var _6G=HTransporterMaxRetryTime+(new Date().getTime()),_0=HTransporter;clearTimeout(_0.req_timeout);if(_0.firstFail==0){_0.isBusy=false;_0.firstFail=(new Date().getTime());_0.failCount++;window.status='Communications error, retry attempt '+_0.failCount+' of '+HTransporterMaxRetryCount+'...';}
else if((_0.failCount<HTransporterMaxRetryCount)&&(_0.firstFail<_6G)){_0.isBusy=false;_0.failCount++;window.status='Communications error, retry attempt '+_0.failCount+' of '+HTransporterMaxRetryCount+'...';}
else{window.status='Communications error, reloading page...';location.href=HFailPageUrl;_0.isBusy=true;}
_0.req_timeout=setTimeout('HTransporter.sync();',HTransporterRetryDelay);},respond:function(resp){var _7B=resp.responseText,_0=HTransporter;try{_0.err_msg='';eval(_7B);}
catch(e){if(HTransporterDebug){console.log(e);console.log(e.description);}
_0.err_msg='&err_msg='+e+" - "+e.description;_0.failure(resp);}
_0.prevData='';if(_0.failCount!=0){window.status='';}
_0.failCount=0;_0.firstFail=0;_0.isBusy=false;if(_0.pollMode){_0.req_timeout=setTimeout('HTransporter.sync();',_0.syncDelay);}},sync:function(){var _0=HTransporter,_8f=((_0.syncDelay>0)||(_0.syncDelay==0));if(_8f&&_0.url_base){if(!_0.isBusy){_0.isBusy=true;if(_0.prevData!=''){_1L=_0.prevData;}
else{_1L=HValueManager.toXML();_0.prevData=_1L;}
if(""!=_1L||_0.pollMode){_0.syncNum++;HVM.isGetting=true;req_args={onSuccess:function(resp){_0.respond(resp);},onFailure:function(resp){_0.failure(resp);},method:'post',postBody:'ses_id='+_0.ses_id+_0.err_msg+_1L};try{_0.req=new Ajax.Request(_0.url_base,req_args);HVM.isGetting=false;}
catch(e){window.status='conn error:'+e;HVM.isGetting=false;_0.failure(null);}}
else{_0.isBusy=false;}}}},stop:function(){clearTimeout(_0.req_timeout);}});LOAD("HTransporter.start(HTransportURL);");HValueManager=HClass.extend({constructor:null,values:{},tosync:[],isSending:false,isGetting:false,add:function(_4,_q){this.values[_4]=_q;},set:function(_4,_8q){this.values[_4].set(_8q);},s:function(_4,_8q){this.values[_4].s(_8q);},del:function(_4){var _63=this.values[_4],_8e=_63.views,_0q=0,_64=null;for(;_0q<_8e.length;_0q++){_64=_8e[_0q];_64.valueObj=new HDummyValue(0,_63.value);}
this.values[_4]=null;},changed:function(_2x){if(this.isGetting==false){if(this.tosync.indexOf(_2x.id)==-1){this.tosync.push(_2x.id);}
var _X=HTransporter;if(!_X.pollMode){clearTimeout(_X.req_timeout);_X.req_timeout=setTimeout('HTransporter.sync();',_X.syncDelay);}}},toXML:function(){var _5G='&HSyncData=';if(!this.isSending){this.isSending=true;var _7V=this.tosync.length;if(_7V==0){this.isSending=false;return'';}
var _5V=[],_0K;for(_0K=0;_0K<_7V;_0K++){var _1m=this.tosync.shift();var _7W=this.values[_1m];_5V.push(_7W.toXML(_0K));}
var _7X=_5V.join('');_5G+='<hsyncvalues version="8118">'+_7X+'</hsyncvalues>';this.isSending=false;}
return _5G;},output:function(){return this.toXML();}});HVM=HValueManager;HValue=HClass.extend({constructor:function(_4,_8q){this.id=_4;this.type='[HValue]';this.value=_8q;this.views=[];HValueManager.add(_4,this);},set:function(_8q){if(_8q!=this.value){this.value=_8q;HValueManager.changed(this);this.refresh();}},s:function(_8q){this.value=_8q;this.refresh();},get:function(){return this.value;},bind:function(_N){if(_N===undefined){throw("HValueBindError: _N is undefined!");}
this.views.push(_N);_N.setValueObj(this);},unbind:function(_N){for(var _0q=0;_0q<this.views.length;_0q++){var _89=this.views[_0q];if(_89===_N){this.views.splice(_0q);return;}}},release:function(_N){return this.unbind(_N);},refresh:function(){for(var _0q=0;_0q<this.views.length;_0q++){var _N=this.views[_0q];if(_N.value!=this.value){if(!_N._valueIsBeingSet){_N._valueIsBeingSet=true;_N.setValue(this.value);_N._valueIsBeingSet=false;}}}},toXML:function(_0K){var _1m=this.id.toString();var _0g=this.value;var _0P=(typeof _0g).slice(0,1);var _14;if(_0P=='s'){_14=_0g.toString();_14=SHA.str2Base64(_14);}
else if(_0P=='n'){if(Math.ceil(_0g)===Math.floor(_0g)===_0g){_0P='i';_14=parseInt(_0g,10).toString();}
else{_0P='f';_14=parseFloat(_0g).toString();}}
else if(_0P=='b'){if(_0g){_14='1';}
else{_14='0';}}
else{try{if(console&&console.log){console.log('syncvalue type error');console.log('  syncid:',_1m);console.log('  syncjstype:',_0P);console.log('  typeof:',(typeof _0g));console.log('  syncvalue:',_0g);}}
catch(e){alert('value error, syncid:'+_1m+' syncjstype:'+_0P+' typeof:'+(typeof _0g)+' syncvalue:'+_0g);}
return'';}
return'<'+_0P+' id="'+_1m+'">'+_14+'</'+_0P+'>';}});JSLoader=HClass.extend({constructor:function(_8c){var _0=this;_0._loadedJS=[];_0.uri=_8c;_0._7y=null;_0._okayed=false;},_93:function(_7A){var _0=this;if(_0._okayed){return;}
eval(_7A.responseText);_0._okayed=true;},load:function(_2i,_6X){var _0=this;if((_0._loadedJS.indexOf(_2i)!=-1)&&(_6X===undefined)){return;}
if(_6X){document.write('<scr'+'ipt type="text/javascript" src="'+_2i+'"><'+'/scr'+'ipt>');}else{var _7z={onSuccess:function(resp){_0._93(resp);},onFailure:function(resp){window.status="failed to load js: "+_0.uri+_2i+'.js';},method:'get',asynchronous:false};var _p=this.uri+_2i+'.js';_0._7y=new Ajax.Request(_p,_7z);_0._loadedJS.push(_2i);_0._okayed=false;}}});RUN("jsLoader = new JSLoader('/H/js/');");HButton=HControl.extend({componentName:'button'});HCheckbox=HButton.extend({componentName:'checkbox',constructor:function(_1,_m,_2){this.base(_1,_m,_2);this.setClickable(true);},click:function(){this.setValue(!this.value);},refreshValue:function(){if(this.markupElemIds.control){if(this.value){this.toggleCSSClass(this.markupElemIds.control,'checked',true);this.toggleCSSClass(this.markupElemIds.control,'unchecked',false);}
else{this.toggleCSSClass(this.markupElemIds.control,'checked',false);this.toggleCSSClass(this.markupElemIds.control,'unchecked',true);}}}});HCheckBox=HCheckbox;HRadioButton=(HCheckbox.extend(HValueMatrixComponentExtension)).extend({componentName:'radiobutton'});HRadiobutton=HRadioButton;HStringView=HControl.extend({componentName:"stringview",componentBehaviour:['view','control','text'],refreshLabel:function(){if(this.markupElemIds){if(this.markupElemIds.value){ELEM.setAttr(this.markupElemIds.value,'title',this.label);}}}});HTextControl=HControl.extend({componentName:"textcontrol",constructor:function(_1,_g,_2){this.base(_1,_g,_2);this.setTextEnter(true);},setEnabled:function(_8){this.base(_8);if(this['markupElemIds']===undefined){return;}
if(this.markupElemIds.value){ELEM.setAttr(this.markupElemIds.value,'disabled',!this.enabled);}},refreshValue:function(){if(this.markupElemIds){if(this.markupElemIds.value){ELEM.get(this.markupElemIds.value).value=this.value;}}},textEnter:function(){if(this['markupElemIds']===undefined){return;}
var _8q=ELEM.get(this.markupElemIds.value).value;if(_8q!=this.value){this.setValue(_8q);}}});HUploader=HControl.extend({componentName:'uploader',uploadState:false,uploadKey:false,uploadStateLabels:{'0':"Select file...",'1':"Uploading...",'2':"Processing data...",'3':"Upload Complete",'4':"Preparing upload",'-1':"Error: Invalid request",'-2':"Error: Invalid upload key",'-3':"Error: Invalid data format",'-4':"Error: File too big",'-6':"Error: Post-processing failed"},markupElemNames:['form','file','iframe','upload_progress','progress_label','progress_indicator','button','button_label','value','ack_button'],setUploadState:function(_W,_6d){if(_W!==this.uploadState){this.uploadState=_W;var _4f=_W.toString();if(this.uploadStateLabels[_4f]!==undefined){ELEM.get(this.markupElemIds.value).value=this.valueObj.id;var _T=this.uploadStateLabels[_4f];if(_W==0){ELEM.setStyle(this.markupElemIds.upload_progress,'visibility','hidden');ELEM.setStyle(this.markupElemIds.progress_indicator,'visibility','hidden');ELEM.setStyle(this.markupElemIds.ack_button,'visibility','hidden');ELEM.setHTML(this.markupElemIds.button_label,_T);ELEM.setStyle(this.markupElemIds.button,'visibility','inherit');ELEM.setStyle(this.markupElemIds.form,'visibility','inherit');ELEM.setAttr(this.markupElemIds.form,'action','/U/'+_6d,true);ELEM.get(this.markupElemIds.file).value='';this.uploadKey=_6d;}
else if(_W==1||_W==2||_W==3||_W==4){ELEM.setStyle(this.markupElemIds.upload_progress,'visibility','inherit');if(_W==1||_W==2||_W==4){ELEM.setStyle(this.markupElemIds.progress_indicator,'visibility','inherit');ELEM.setStyle(this.markupElemIds.ack_button,'visibility','hidden');}
else{ELEM.setStyle(this.markupElemIds.progress_indicator,'visibility','hidden');ELEM.setStyle(this.markupElemIds.ack_button,'visibility','inherit');}
ELEM.setHTML(this.markupElemIds.progress_label,_T);ELEM.setStyle(this.markupElemIds.button,'visibility','hidden');ELEM.setStyle(this.markupElemIds.form,'visibility','hidden');if(_W==1){ELEM.get(this.markupElemIds.form).submit();}}
else if(_W<0){ELEM.setStyle(this.markupElemIds.progress_indicator,'visibility','hidden');ELEM.setStyle(this.markupElemIds.ack_button,'visibility','inherit');ELEM.setHTML(this.markupElemIds.progress_label,'<span style="color:red;">'+_T+'</span>');ELEM.setStyle(this.markupElemIds.button,'visibility','hidden');ELEM.setStyle(this.markupElemIds.form,'visibility','hidden');}}}},refreshValue:function(){if(typeof this.value!='string'){return;}
if(this.value.indexOf(':::')<1){return;}
var _4e=this.value.split(':::');if(_4e.length!=2){return;}
var _W=parseInt(_4e[0],10),_6d=_4e[1];this.setUploadState(_W,_6d);},upload:function(){this.setValue('1:::'+this.uploadKey);},getNewUploadKey:function(){this.setValue('4:::'+this.uploadKey);},click:function(){if((this.uploadState==3)||(this.uploadState<0)){this.getNewUploadKey();}}});HTextArea=HTextControl.extend({componentName:"textarea"});HSlider=HControl.extend({componentName:"slider",constructor:function(_1,_g,_2){if(!_2){_2={};}
_2.events={mouseDown:false,mouseUp:false,draggable:true,keyDown:true,keyUp:true,mouseWheel:true};var _w=Base.extend({minValue:0,maxValue:1});_w=_w.extend(_2);_2=new _w();if(this.isinherited){this.base(_1,_g,_2);}
else{this.isinherited=true;this.base(_1,_g,_2);this.isinherited=false;}
this.refreshOnValueChange=false;this._5g='sliderknob';this._0z=false;if(!this.isinherited){this.draw();}},setValue:function(_8q){if(_8q<this.minValue){_8q=this.minValue;}
if(_8q>this.maxValue){_8q=this.maxValue;}
this.base(_8q);if(this._3M){this.drawKnobPos();}},draw:function(){if(!this.drawn){this.drawRect();this.drawMarkup();this._7a();}
this.refresh();},startDrag:function(_5,_a){var _6=ELEM.get(this.elemId);var _5D=helmi.Element.getPageLocation(_6,true);this._7l=_5D[0];this._7m=_5D[1];this.doDrag(_5,_a);},endDrag:function(_5,_a){this.doDrag(_5,_a);},doDrag:function(_5,_a){_5-=this._7l;_a-=this._7m;_95=this._0z?_a:_5;_8q=this._7r(_95);this.setValue(_8q);},keyDown:function(_I){if((_I==Event.KEY_LEFT&&!this._0z)||(_I==Event.KEY_UP&&this._0z)){this._2j=true;this._30(-0.05);}
else if((_I==Event.KEY_RIGHT&&!this._0z)||(_I==Event.KEY_DOWN&&this._0z)){this._2j=true;this._30(0.05);}
else if(_I==Event.KEY_HOME){this.setValue(this.minValue);}
else if(_I==Event.KEY_END){this.setValue(this.maxValue);}
else if(_I==Event.KEY_PAGEUP){this._2j=true;this._30(-0.25);}
else if(_I==Event.KEY_PAGEDOWN){this._2j=true;this._30(0.25);}},keyUp:function(_I){this._2j=false;},mouseWheel:function(_Z){var _1O;if(_Z>0){_1O=-0.05;}
else{_1O=0.05;}
_8q=(this.maxValue-this.minValue)*_1O;this.setValue(this.value+_8q);},_30:function(_1O,_1J){if(!_1J){_1J=300;}
else if(_1J==300){_1J=50;}
if(this._2j&&this.active){_8q=(this.maxValue-this.minValue)*_1O;this.setValue(this.value+_8q);var _o=this;if(this._3N){window.clearTimeout(this._3N);this._3N=null;}
this._3N=window.setTimeout(function(){_o._30(_1O,_1J);},_1J);}},_7a:function(){this._3M=this.bindDomElement(this._5g+this.elemId);this.drawKnobPos();},_4p:function(){var _7=ELEM.get(this._3M);if(this._0z){_5I=this.rect.height-parseInt(_7.offsetHeight,10);}else{_5I=this.rect.width-parseInt(_7.offsetWidth,10);}
_3L=_5I*((this.value-this.minValue)/(this.maxValue-this.minValue));_49=parseInt(_3L,10)+'px';return _49;},_7r:function(_5u){_10=this._0z?(_5u):(_5u);if(_10<0){_10=0;}
if(this._0z){if(_10>this.rect.height){_10=this.rect.height;}
return this.minValue+((_10/this.rect.height)*(this.maxValue-this.minValue));}else{if(_10>this.rect.width){_10=this.rect.width;}
return this.minValue+((_10/this.rect.width)*(this.maxValue-this.minValue));}},drawKnobPos:function(){_9s=this._0z?'top':'left';_47=this._4p();ELEM.setStyle(this._3M,_9s,_47);}});HVSlider=HSlider.extend({componentName:"vslider",constructor:function(_1,_g,_2){if(this.isinherited){this.base(_1,_g,_2);}
else{this.isinherited=true;this.base(_1,_g,_2);this.isinherited=false;}
this.type='[HVSlider]';this._5g='vsliderknob';this._0z=true;if(!this.isinherited){this.draw();}}});HProgressBar=HControl.extend({componentName:"progressbar",constructor:function(_1,_g,_2){if(this.isinherited){this.base(_1,_g,_2);}
else{this.isinherited=true;this.base(_1,_g,_2);this.isinherited=false;}
if(!_2){_2={};}
var _w=Base.extend({value:0,minValue:0,maxValue:100});_w=_w.extend(_2);_2=new _w();this.value=_2.value;this.minValue=_2.minValue;this.maxValue=_2.maxValue;this.visibleWidth=this.rect.width-2;this.type='[HProgressBar]';this._46='progressmark';if(!this.isinherited){this.draw();}
this.progressFrameHeight=20;this.progressFrames=10;this.currProgressFrame=0;},setProgressFrameHeight:function(_09){this.progressFrameHeight=_09;},setProgressFrameNum:function(_34){this.progressFrames=_34;},setValue:function(_8q){this.base(_8q);this.drawProgress();},onIdle:function(){if(this.progressbarElemId){this.currProgressFrame++;if(this.currProgressFrame>=this.progressFrames){this.currProgressFrame=0;}
var _09=this.currProgressFrame*this.progressFrameHeight;ELEM.setStyle(this.progressbarElemId,'background-position','0px -'+_09+'px');}},draw:function(){if(!this.drawn){this.drawRect();this.drawMarkup();this._3K();}},_3K:function(){this.progressbarElemId=this.bindDomElement(this._46+this.elemId);this.drawProgress();},_4p:function(){var _3L=this.visibleWidth*((this.value-this.minValue)/(this.maxValue-this.minValue));var _49=parseInt(Math.round(_3L),10)+'px';return _49;},drawProgress:function(){if(this.progressbarElemId){var _47=this._4p();ELEM.setStyle(this.progressbarElemId,'width',_47);}}});HProgressIndicator=HControl.extend({packageName:"progress",componentName:"progressindicator",constructor:function(_1,_g,_2){if(this.isinherited){this.base(_1,_g,_2);}
else{this.isinherited=true;this.base(_1,_g,_2);this.isinherited=false;}
if(!_2){_2={};}
var _w=Base.extend({value:0,interval:20});_w=_w.extend(_2);_2=new _w();this.type='[HProgressIndicator]';this._46='progressmark';this.interval=_2.interval;this.value=_2.value;this._1v=null;if(!this.isinherited){this.draw();}},setValue:function(_8q){if(this._45){if(_8q==true&&!this._1v){var temp=this;this._1v=setInterval(function(){temp.drawProgress();},temp.interval);}
else{clearInterval(this._1v);this._1v=null;}}},die:function(){this.base();if(this._1v){clearInterval(this._1v);}},draw:function(){if(!this.drawn){this.drawRect();this.drawMarkup();this._3K();}},_3K:function(){this._45=this.bindDomElement(this._46+this.elemId);this.drawProgress();},drawProgress:function(){this.progressPosition++;if(this.progressPosition>this.positionLimit-1){this.progressPosition=0;}
if(this._45){ELEM.setStyle(this._45,'background-position','0px -'+
(this.progressPosition*this.rect.height)+'px');}}});HImageView=HControl.extend({constructor:function(_1,_g,_2){if(!_2){_2={};}
var _w=HClass.extend({scaleToFit:true});_2=new(_w.extend(_2))();if(this.isinherited){this.base(_1,_g,_2);}
else{this.isinherited=true;this.base(_1,_g,_2);this.isinherited=false;}
if(!this.value){this.value=this.getThemeGfxPath()+"/blank.gif";}
if(!this.isinherited){this.draw();}},_5p:function(_36){this.elemId=ELEM.make(_36,'img');ELEM.setAttr(this.elemId,'src',this.value);ELEM.setAttr(this.elemId,'alt',this.label);},_5q:function(_36){this.elemId=ELEM.make(_36,'div');ELEM.setStyle(this.elemId,'background-image','url('+this.value+')');ELEM.setStyle(this.elemId,'background-position','0px 0px');ELEM.setStyle(this.elemId,'background-repeat','no-repeat');},_5o:function(_36){if(this.options.scaleToFit){this._5p(_36);}
else{this._5q(_36);}},refreshValue:function(){ELEM.setAttr(this.elemId,'src',this.value);},refreshLabel:function(){ELEM.setAttr(this.elemId,'alt',this.label);},scaleToFit:function(){if(!this.options.scaleToFit){ELEM.del(this.elemId);this._5p(this._3F());this.options.scaleToFit=true;}},scaleToOriginal:function(){if(this.options.scaleToFit){ELEM.del(this.elemId);this._5q(this._3F());this.options.scaleToFit=false;}}});HSplitView=HControl.extend({componentName:"splitview",constructor:function(_1,_g,_2){_2=new(Base.extend({vertical:false}).extend(_2));if(this.isinherited){this.base(_1,_g,_2);}
else{this.isinherited=true;this.base(_1,_g,_2);this.isinherited=false;}
this.preserveTheme=true;this.vertical=this.options.vertical;this.dividerWidth=6;this.splitviews=[];this.dividers=[];this.setDraggable(true);if(!this.isinherited){this.draw();}},startDrag:function(_5,_a,_L){if(!_L){return;}
_5-=this.pageX();_a-=this.pageY();var _d=this.dividers.indexOfObject(_L);this._2t=new HPoint(_5,_a);this._38=new HPoint(_5,_a);this._0t=this._2t.subtract(_L.rect.leftTop);this._0o=this.splitviews[_d];this._V=this.splitviews[_d+1];this._L=_L;if(this.vertical==false){this._2V=this._0o.rect.top;this._2W=this._V.rect.bottom-this.dividerWidth;}else{this._2V=this._0o.rect.left;this._2W=this._V.rect.right-this.dividerWidth;}},doDrag:function(_5,_a,_L){if(!_L){return;}
_5-=this.pageX();_a-=this.pageY();if(this.vertical==false){var _v=_a-this._0t.y;if(_v<this._2V||_v>this._2W){return;}
this._0o.rect.setHeight(_v);this._0o.rect.updateSecondaryValues();this._0o.setStyle('height',this._0o.rect.height+'px',true);this._L.rect.setTop(_v);this._L.rect.updateSecondaryValues();this._L.setStyle('top',this._L.rect.top+'px',true);this._V.rect.setTop(_v+this.dividerWidth);this._V.rect.updateSecondaryValues();this._V.setStyle('top',this._V.rect.top+'px',true);this._V.setStyle('height',this._V.rect.height+'px',true);}else{var _v=_5-this._0t.x;if(_v<this._2V||_v>this._2W){return;}
this._0o.rect.setRight(_v);this._0o.rect.updateSecondaryValues();this._0o.setStyle('width',this._0o.rect.width+'px',true);this._L.rect.setLeft(_v);this._L.rect.updateSecondaryValues();this._L.setStyle('left',this._L.rect.left+'px',true);this._V.rect.setLeft(_v+this.dividerWidth);this._V.rect.updateSecondaryValues();this._V.setStyle('left',this._V.rect.left+'px',true);this._V.setStyle('width',this._V.rect.width+'px',true);}},endDrag:function(_5,_a,_L){this.doDrag(_5,_a);delete this._2t;delete this._38;delete this._0t;delete this._0o;delete this._V;delete this._L;delete this._2V;delete this._2W;},addSplitViewItem:function(_0N,_d){if(_d!==undefined){this.splitviews.splice(_d,0,_0N);}else{this.splitviews.push(_0N);}},removeSplitViewItem:function(_0N){if(typeof _0N=="object"){var _d=this.splitviews.indexOfObject(_0N);if(_d!=-1){this.splitviews.splice(_d,1);_0N.die();this.dividers.splice(_d,1);this.dividers[_d].die();}}},setVertical:function(_8){this.vertical=_8;this.options.vertical=_8;},adjustViews:function(){var _0G=this.splitviews.length;var _32;var _1F;var _39;var _1K;if(this.vertical==false){_32=this.rect.height-this.dividerWidth*(_0G-1);_1F=0;for(var i=0;i<_0G;i++){_1F+=this.splitviews[i].rect.height;}
_39=_32/_1F;_1K=0;for(var i=0;i<_0G;i++){var _f=this.splitviews[i];var _1D=_f.rect.height*_39;if(i==_0G-1){_1D=Math.floor(_1D);}else{_1D=Math.ceil(_1D);}
_f.rect.offsetTo(0,_1K);_f.rect.setSize(this.rect.width,_1D);_f.draw();_1K+=_1D+this.dividerWidth;}}else{_32=this.rect.width-this.dividerWidth*(_0G-1);_1F=0;for(var i=0;i<_0G;i++){_1F+=this.splitviews[i].rect.width;}
_39=_32/_1F;_1K=0;for(var i=0;i<_0G;i++){var _f=this.splitviews[i];var _1E=_f.rect.width*_39;if(i==_0G-1){_1E=Math.floor(_1E);}else{_1E=Math.ceil(_1E);}
_f.rect.offsetTo(_1K,0);_f.rect.setSize(_1E,this.rect.height);_f.draw();_1K+=_1E+this.dividerWidth;}}
this.draw();},refresh:function(){this.base();if(this.drawn){var _0G=this.splitviews.length;var _01;for(var i=0;i<(_0G-1);i++){_01=new HRect(this.splitviews[i].rect);if(!this.vertical){_01.offsetTo(_01.left,_01.bottom);_01.setHeight(this.dividerWidth);}else{_01.offsetTo(_01.right,_01.top);_01.setWidth(this.dividerWidth);}
if(!this.dividers[i]){this.dividers[i]=new HDivider(_01,this);}else{var _f=this.dividers[i];_f.rect.offsetTo(_01.left,_01.top);_f.rect.setSize(_01.width,_01.height);_f.draw();}}}}});HStepper=HButton.extend({componentName:"stepper",constructor:function(_1,_g,_2){if(!_2){_2={};}
_2.events={mouseDown:true,keyDown:true,mouseWheel:true};var _w=Base.extend({minValue:0,value:0,interval:500});_w=_w.extend(_2);_2=new _w();if(this.isinherited){this.base(_1,_g,_2);}
else{this.isinherited=true;this.base(_1,_g,_2);this.isinherited=false;}
this.interval=_2.interval;this._68="stepperlabel";this.border=((_1.bottom-_1.top)/2+_1.top);if(!this.isinherited){this.draw();}},stepUp:function(_8q){_8q--;_8q=(_8q<this.minValue)?this.maxValue:_8q;this.setValue(_8q);},stepDown:function(_8q){_8q++;_8q=(_8q>this.maxValue)?this.minValue:_8q;this.setValue(_8q);},mouseDown:function(_5,_a,_04){this.setMouseUp(true);var temp=this;if(_a<this.border){this.stepUp(this.value);this.counter=setInterval(function(){temp.stepUp(temp.value);},this.interval);}else{this.stepDown(this.value);this.counter=setInterval(function(){temp.stepDown(temp.value);},this.interval);}},mouseUp:function(_5,_a,_04){clearInterval(this.counter);},blur:function(){clearInterval(this.counter);},keyDown:function(_I){this.setKeyUp(true);var temp=this;if(_I==Event.KEY_UP){this.stepUp(this.value);this.counter=setInterval(function(){temp.stepUp(temp.value);},this.interval);}
else if(_I==Event.KEY_DOWN){this.stepDown(this.value);this.counter=setInterval(function(){temp.stepUp(temp.value);},this.interval);}},keyUp:function(_I){clearInterval(this.counter);},mouseWheel:function(_Z){if(_Z>0){this.stepUp(this.value);}
else{this.stepDown(this.value);}}});HPasswordControl=HTextControl.extend({componentName:"passwordcontrol"});HDivider=HControl.extend({componentName:"divider",constructor:function(_1,_g,_2){if(this.isinherited){this.base(_1,_g,_2);}
else{this.isinherited=true;this.base(_1,_g,_2);this.isinherited=false;}
this.type='[HDivider]';this.preserveTheme=true;this.setDraggable(true);if(!this.isinherited){this.draw();}},startDrag:function(_5,_a){this.parent.startDrag(_5,_a,this);},doDrag:function(_5,_a){this.parent.doDrag(_5,_a,this);},endDrag:function(_5,_a){this.parent.endDrag(_5,_a,this);},draw:function(){if(!this.drawn){this.drawRect();this.drawMarkup();this.drawn=true;}
this.refresh();}});HValidatorView=HControl.extend({constructor:function(_1,_m,_2){if(_2!==undefined){if(_2.valueField!==undefined){_1.offsetTo(_2.valueField.rect.right,_2.valueField.rect.top);}}
if(this.isinherited){this.base(_1,_m,_2);}
else{this.isinherited=true;this.base(_1,_m,_2);this.isinherited=false;}
if(!this.isinherited){this.draw();}},setValue:function(_8){if(null===_8||undefined===_8){_8=false;}
this.base(_8);},refresh:function(){this.base();this._8b();},_8b:function(){var _5=0,_a=0;this.setStyle('background-image',"url('"+this.getThemeGfxFile('validator.png')+"')");this.setStyle('background-repeat','no-repeat');if(this.enabled==false){_a=-21;}
if(this.value==true){_5=-21;_66='';}else{_66=this.value;}
ELEM.setAttr(this.elemId,'title',_66);this.setStyle('background-position',_5+'px '+_a+'px');}});HWindow=HDynControl.extend({componentName:'window',constructor:function(_1,_94,_2){if(_94.componentBehaviour[0]!='app'){console.log("Himle.ComponentParentError","HWindow parent must be an HApplication instance!");}
if(!_2){_2={};}
var _w=HClass.extend({minSize:[96,54],maxSize:[16000,9000],resizeW:2,resizeE:2,resizeN:2,resizeS:2,resizeNW:[2,2],resizeNE:[2,2],resizeSW:[2,2],resizeSE:[16,16],noResize:false});_2=new(_w.extend(_2))();if(_2.noResize){_2.minSize=[_1.width,_1.height];_2.maxSize=[_1.width,_1.height];_2.resizeW=0;resizeE=0;resizeN=0;resizeS=0;resizeNW=[0,0];resizeNE=[0,0];resizeSW=[0,0];resizeSE=[0,0];}
this.base(_1,_94,_2);this.windowView=this;HSystem.windowFocus(this);},gainedActiveStatus:function(){HSystem.windowFocus(this);},windowFocus:function(){this.toggleCSSClass(this.elemId,'inactive',false);this.setStyle('cursor','move');},windowBlur:function(){this.toggleCSSClass(this.elemId,'inactive',true);this.setStyle('cursor','default');}});HTabView=HView.extend({tabIndex:0,flexRight:true,flexRightOffset:0,flexBottom:true,flexBottomOffset:0,draw:function(){var _1f=this.drawn;this.base();if(!_1f){var i=0,_4h=[['overflow','auto']];for(i;i<_4h.length;i++){this.setStyle(_4h[i][0],_4h[i][1]);}
this.hide();}}});HTab=HControl.extend({componentName:"tab",componentBehaviour:['view','control','tab'],refreshOnValueChange:false,refreshOnLabelChange:false,constructor:function(_1,_m,_2){this.tabInit();if(this.isinherited){this.base(_1,_m,_2);}
else{this.isinherited=true;this.base(_1,_m,_2);this.isinherited=false;}
this.type='[HTab]';this.setMouseDown(true);if(!this.isinherited){this.draw();}},setValue:function(_8q){this.base(_8q);if(typeof _8q=='number'){var _d=parseInt(_8q,10);if(_d<this.tabs.length){if(_d!=this.selectIdx){this.selectTab(_d);}}}},stringWidth:function(_13,_9){var _0w='<span style="'+this.fontStyle+'">'+_13+'</span>',_s=this.base(_0w,null,_9);return _s;},tabInit:function(){this.tabs=[];this.tabLabels=[];this.tabLabelBounds=[];this.tabLabelStrings=[];this.rightmostPx=0;this.selectIdx=-1;this.tabLabelHeight=20;this.tabLabelLeftEdge=4;this.tabLabelRightEdge=4;this.fontStyle='font-family:Arial,sans-serif;font-size:13px;';this.tabLabelHTMLPrefix1='<div class="edge-left"></div><div class="tablabel" style="width:';this.tabLabelHTMLPrefix2='px">';this.tabLabelHTMLSuffix='</div><div class="edge-right"></div>';this.tabLabelParentElem='label';this.tabLabelElementTagName='div';this.tabLabelAlign='left';this.tabLabelFillBg=false;this.tabTriggerLink=false;this.tabLabelNoHTMLPrefix=false;},setLabel:function(_T){this.label=_T;},selectTab:function(_u){if(_u instanceof HTabView){_u=_u.tabIndex;}
if(this.selectIdx!=-1){var _60=this.tabLabels[this.selectIdx],_80=this.tabs[this.selectIdx];ELEM.removeClassName(_60,'item-fg');ELEM.addClassName(_60,'item-bg');HSystem.views[_80].hide();}
if(_u!=-1){var _0h=this.tabLabels[_u],_4i=this.tabs[_u];ELEM.removeClassName(_0h,'item-bg');ELEM.addClassName(_0h,'item-fg');HSystem.views[_4i].show();}
this.selectIdx=_u;this.setValue(_u);},addTab:function(_3b,_8C){var _u=this.tabs.length,_5Z='',_7f=this.stringWidth(_3b,0),_3P=_7f+this.tabLabelLeftEdge+this.tabLabelRightEdge,_1M=new HTabView(new HRect(0,this.tabLabelHeight,this.rect.width,this.rect.height),this),_u=this.tabs.length,_0h=ELEM.make(this.markupElemIds[this.tabLabelParentElem],this.tabLabelElementTagName);if(this.tabLabelNoHTMLPrefix){_5Z=_3b;}
else{_5Z=this.tabLabelHTMLPrefix1+_7f+this.tabLabelHTMLPrefix2+_3b+this.tabLabelHTMLSuffix;}
_1M.hide();ELEM.addClassName(_0h,'item-bg');ELEM.setStyle(_0h,'width',_3P+'px');ELEM.setStyle(_0h,this.tabLabelAlign,this.rightmostPx+'px');ELEM.setHTML(_0h,_5Z);this.tabLabelStrings.push(_3b);if(this.tabTriggerLink&&this.tabLabelElementTagName=='a'){ELEM.setAttr(_0h,'href','javascript:HSystem.views['+this.viewId+'].selectTab('+_u+');');}
else if(this.tabTriggerLink){ELEM.setAttr(_0h,'mouseup','HSystem.views['+this.viewId+'].selectTab('+_u+');');}
else{this.tabLabelBounds.push([this.rightmostPx,this.rightmostPx+_3P]);}
this.rightmostPx+=_3P;if(this.tabLabelAlign=='right'){ELEM.setStyle(this.markupElemIds[this.tabLabelParentElem],'width',this.rightmostPx+'px');}
else if(this.tabLabelFillBg){ELEM.setStyle(this.markupElemIds.state,'left',this.rightmostPx+'px');}
this.tabs.push(_1M.viewId);this.tabLabels.push(_0h);_1M.tabIndex=_u;if(_8C){this.selectTab(_u);}
return _1M;},mouseDown:function(_5,_a){if(this.tabTriggerLink){this.setMouseDown(false);return;}
_5-=this.pageX();_a-=this.pageY();if(_a<=this.tabLabelHeight){if(this.tabLabelAlign=='right'){_5=this.rect.width-_5;}
if(_5<=this.rightmostPx){var i=0,_5h;for(i;i<this.tabLabelBounds.length;i++){_5h=this.tabLabelBounds[i];if(_5<_5h[1]&&_5>=_5h[0]){this.selectTab(i);return;}}}}},removeTab:function(_u){var _7H=this.selectIdx,_4i=this.tabs[_u],_0h=this.tabViews[_u];this.tabs.splice(_u,1);this.tabLabels.splice(_u,1);this.tabLabelBounds.splice(_u,1);this.tabLabelStrings.splice(_u,1);if(_u==_7H){this.selectIdx=-1;if(_u==0&&this.tabs.length==0){this.selectTab(-1);}
else if(_u==(this.tabs.length-1)){this.selectTab(_u-1);}
else{this.selectTab(_u);}}
else if(_u<_7H){this.selectIdx--;}
ELEM.del(_0h);HSystem.views[_4i].die();},draw:function(){var _1f=this.drawn;this.base();if(!_1f){this.drawMarkup();}
this.refresh();}});HImageButton=HControl.extend({componentName:"imagebutton",constructor:function(_1,_g,_2){if(this.isinherited){this.base(_1,_g,_2);}
else{this.isinherited=true;this.base(_1,_g,_2);this.isinherited=false;}
this.styleButtonDefaults=new(Base.extend({image:this.getThemeGfxPath()+"blank.gif",alternateImage:""}).extend(_2));this._0X=this.getThemeGfxPath()+this.styleButtonDefaults.image;this._4w=this.getThemeGfxPath()+this.styleButtonDefaults.alternateImage;this.type='[HImageButton]';this.preserveTheme=true;this.setMouseUp(true);if(!this.isinherited){this.draw();}},draw:function(){if(!this.drawn){this.drawRect();this.drawMarkup();this.drawn=true;}
this.refresh();},_8a:function(){if(!this.value){ELEM.get(this._2S).src=this._0X;}else{if(this._4w){ELEM.get(this._2S).src=this._4w;}}},refresh:function(){if(this.drawn){this.base();if(!this._2S){this._2S=this.bindDomElement(HImageButton._67+this.elemId);}
if(this._2S){this._8a();}}},mouseUp:function(_5,_a,_04){this.setValue(!this.value);}},{_67:"imagebutton"});HDataBuffer=HClass.extend({constructor:function(_H,_02,_U,_2a,_j){this._H=_H;this._02=_02;this._U=_U;this._2a=_2a;this._2I=3;this._j=_j;},startingRow:function(){return this._H-this._j;},endingRow:function(){return this._02+this._j;},lowerLimit:function(){return this._U+parseInt(this._j/2,10);},upperLimit:function(){return this._U+(this._2I-1)*(this._02-this._H)-parseInt(this._j/2,10);},endBufferStartRow:function(){return(this._2I-1)*this._j;},getNewBottomRow:function(){return this._U+this._2I*this._j;},getNewBottomRowEnd:function(){return this._U+(this._2I+1)*this._j;},getNewTopRow:function(){return this._U-this._j;},getNewTopRowEnd:function(){return this._U;},getNewDownBufferIndexes:function(_0n){if(_0n==0){return[this._j,0];}else if(_0n==this._j){return[2*this._j,this._j];}else if(_0n==2*this._j){return[0,2*this._j];}},getNewUpBufferIndexes:function(_0n){if(_0n==0){return[2*this._j,this._j];}else if(_0n==2*this._j){return[this._j,0];}else if(_0n==this._j){return[0,2*this._j];}}});HLocalTableValue=HValue.extend({constructor:function(_4,_8q){this.initTable(_4,_8q);this.value=_8q.value;},initTable:function(_4,_8q){},set:function(_8q){},updateBuffer:function(_0D,_2b){},setCell:function(_4j,_8q,_A,_k){if(!this.value[_A]){return;}
this.value[_A][_k]=_8q;},getCell:function(_4j,_A,_k){if(!this.value[_A]){return"";}
return this.value[_A][_k];},numberOfRows:function(){return 100;},toXML:function(){}});HTableValue=HValue.extend({constructor:function(_4,_8q){this.initTable(_4,_8q);},initTable:function(_4,_8q){if(typeof _8q!="object"){throw"HTableValue error: value not an object";}
if(typeof _8q.value!="object"){throw"HTableValue error: object.value not an array";}
if(typeof _8q.length!="number"){throw"HTableValue error: object.length not a number";}
if(typeof _8q.startrow!="number"){throw"HTableValue error: object.startrow not a number";}
if(typeof _8q.endrow!="number"){throw"HTableValue error: object.endrow not a number";}
if(typeof _8q.columns!="object"){throw"HTableValue error: object.columns not an array";}
this.value=_8q.value;this.length=_8q.length;this.columns=_8q.columns;this.startrow=_8q.startrow;this.endrow=_8q.endrow;this.startrow1=0;this.endrow1=0;this.id=_4;this.type='[HTableValue]';this.views=[];this.startdatarow=this.startrow;this.enddatarow=this.endrow;this.datalength=this.endrow-(this.startrow-1);this.gettingData=false;this.gettingData1=false;this.gettingDataInterrupted=false;this.gettingDataInterrupted1=false;this.index1=0;this.index2=0;this.valueRequested=undefined;HValueManager.add(_4,this);},set:function(_8q){if(this.valueRequested==1){this.value1=_8q;this.gettingData1=false;}else if(this.valueRequested==0){this.value=_8q;this.gettingData=false;}
if(this.gettingDataInterrupted){this.tableControl.reloadData();this.gettingDataInterrupted=false;}
if(this.gettingDataInterrupted1){this.tableControl.reloadData();this.gettingDataInterrupted1=false;}
if(this.reloading==true){this.tableControl.reloadData();this.reloading=false;}},updateBuffer:function(_0D,_2b){var _j=this.datalength;var _1o=undefined;if(this.startdatarow-1<=_0D&&_2b<=this.enddatarow-1){var _4c;var _4b;if(this.startrow-1<=_0D&&_2b<=this.endrow-1){_4c=this.startrow-1+parseInt(_j/4,10);_4b=this.endrow-1-parseInt(_j/4,10);_1o=0;}else if((this.startrow1&&this.endrow1)&&this.startrow1-1<=_0D&&_2b<=this.endrow1-1){_4c=this.startrow1-1+parseInt(_j/4,10);_4b=this.endrow1-1-parseInt(_j/4,10);_1o=1;}
if(_2b>_4b){if(_1o==0&&this.startrow1<this.startrow){var _x=this.endrow+1;var _D=this.endrow+_j;if(_D>this.length){_D=this.length;}
this.startrow1=_x;this.endrow1=_D;this.startrow2=this.startrow1;this.endrow2=this.endrow1;window.status="going down 0 "+"this.startrow "+this.startrow+" "+"this.endrow "+this.endrow+" "+"this.startrow1 "+this.startrow1+" "+"this.endrow1 "+this.endrow1+" ";this.startdatarow=this.startrow;this.enddatarow=this.endrow1;this.valueRequested=1;this.gettingData1=true;HValueManager.changed(this);}
if(_1o==1&&this.startrow<this.startrow1){var _x=this.endrow1+1;var _D=this.endrow1+_j;if(_D>this.length){_D=this.length;}
this.startrow=_x;this.endrow=_D;this.startrow2=this.startrow;this.endrow2=this.endrow;window.status="going down 1 "+"this.startrow1 "+this.startrow1+" "+"this.endrow1 "+this.endrow1+" "+"this.startrow "+this.startrow+" "+"this.endrow "+this.endrow+" ";this.startdatarow=this.startrow1;this.enddatarow=this.endrow;this.valueRequested=0;this.gettingData=true;HValueManager.changed(this);}}
if(_0D<_4c){if(this.startrow-1==0&&_1o==0){}else{if(_1o==0&&this.startrow<this.startrow1){var _x=this.startrow-_j;var _D=this.startrow-1;if(_x<1){_x=1;}
this.startrow1=_x;this.endrow1=_D;this.startrow2=this.startrow1;this.endrow2=this.endrow1;this.startdatarow=this.startrow1;window.status="going up 0 "+"this.startrow "+this.startrow+" "+"this.endrow "+this.endrow+" "+"this.startrow1 "+this.startrow1+" "+"this.endrow1 "+this.endrow1+" ";this.enddatarow=this.endrow;this.valueRequested=1;this.gettingData1=true;HValueManager.changed(this);}
if(_1o==1&&this.startrow1<this.startrow){var _x=this.startrow1-_j;var _D=this.startrow1-1;if(_x<1){_x=1;}
this.startrow=_x;this.endrow=_D;this.startrow2=this.startrow;this.endrow2=this.endrow;this.startdatarow=this.startrow;this.enddatarow=this.endrow1;window.status="going up 1 "+"this.startrow "+this.startrow+" "+"this.endrow "+this.endrow+" "+"this.startrow1 "+this.startrow1+" "+"this.endrow1 "+this.endrow1+" ";this.valueRequested=0;this.gettingData=true;HValueManager.changed(this);}}}}else{var _8g=_2b-_0D;var _x=_0D-parseInt(_j/2,10)+parseInt(_8g/2,10);if(_x<1){_x=1;}
var _D=_x+_j-1;if(_D>this.length){_D=this.length;}
this.startrow=_x;this.endrow=_D;this.startrow1=undefined;this.endrow1=undefined;this.startrow2=this.startrow;this.endrow2=this.endrow;this.startdatarow=_x;this.enddatarow=_D;this.valueRequested=0;this.gettingData=true;this.reloading=true;HValueManager.changed(this);}},setCell:function(_4j,_8q,_A,_k){this.value[_A][_k]=_8q;},getCell:function(_4j,_A,_k){if(this.startrow-1<=_A&&_A<=this.endrow-1){if(this.gettingData){this.gettingDataInterrupted=true;}else{if(this.value[_A-(this.startrow-1)]){return this.value[_A-(this.startrow-1)][_k];}}}else if(this.startrow1-1<=_A&&_A<=this.endrow1-1){if(this.gettingData1){this.gettingDataInterrupted1=true;}else{if(this.value1&&this.value1[_A-(this.startrow1-1)]){return this.value1[_A-(this.startrow1-1)][_k];}}}
return"-";},numberOfRows:function(){return this.length;},toXML:function(_0K){var _1m=this.id;var _5N="";for(var _k=0;_k<this.columns.length;_k++){_5N+='<getrows column="'+this.columns[_k]+'" startrow="'+this.startrow2+'" endrow="'+this.endrow2+'" />';}
return'<tablevalue length="'+this.columns.length+'" id="'+_1m+'" order="'+_0K+'">'+_5N+'</tablevalue>';}});HTableHeaderColumn=HControl.extend({packageName:"table",componentName:"tableheadercolumn",constructor:function(_1,_g,_2){this.isinherited=true;this.base(_1,_g,_2);this.isinherited=false;this.type='[HTableHeaderColumn]';this._68="tableheadercolumnlabel";this._87="tableheaderselected";this._86="tableheaderorder";this.preserveTheme=true;this.setMouseUp(true);this.setDraggable(true);this.options=this.parent.parent.tableViewDefaults;this._4a();},draw:function(){if(!this.drawn){this.drawRect();this.drawMarkup();this.drawn=true;}
this.refresh();},refresh:function(){if(!this._3O){this._3O=ELEM.bindId(this._68+this.elemId);this._4d=ELEM.bindId(this._87+this.elemId);this._1G=ELEM.bindId(this._86+this.elemId);}
if(this._3O){ELEM.setHTML(this._3O,this.label);}},_7K:function(){_00.direction=!_00.direction;this.toggleCSSClass(ELEM.get(this._1G),'order-dn',!_00.direction);this.toggleCSSClass(ELEM.get(this._1G),'order-up',_00.direction);for(var _35=0;_35<this.parent.parent.tableHeaderColumns.length;_35++){var _40=this.parent.parent.tableHeaderColumns[_35]._4d;if(_40&&(_40!=this._9j)){ELEM.setStyle(_40,'visibility','hidden');}
var _41=this.parent.parent.tableHeaderColumns[_35]._1G;if(_41&&(_41!=this._1G)){ELEM.setStyle(_41,'visibility','hidden');}}
if(this._4d){ELEM.setStyle(this._4d,'visibility','inherit');}
if(this._1G){ELEM.setStyle(this._1G,'visibility','inherit');}
var _d=this.parent.parent.tableHeaderColumns.indexOf(this);_00.column=_d;this.parent.parent.data.value.sort(_00);this.parent.parent.reloadData();},startDrag:function(_5,_a){this.base(_5,_a);this._4a();_5-=this.parent.pageX();_a-=this.parent.pageY();this._0n=this.parent.parent.tableHeaderColumns.indexOf(this);this._3x=false;this._2t=new HPoint(_5,_a);this._38=new HPoint(_5,_a);this._2u=new HRect(this.rect);this._4a();var _42=this._2t.subtract(this._2u.leftTop);if(this._0c.resizeWRect.contains(_42)){this._0t=_5-this.rect.left;this._0c.resizeW=true;}else if(this._0c.resizeERect.contains(_42)){this._0t=_5-this.rect.right;this._0c.resizeE=true;}else if(this._0c.dragColumnRect.contains(_42)){this._0t=this._2t.subtract(this._2u.leftTop);this._0c.dragColumn=true;}
this.bringToFront();this._4S=true;this.doDrag(_5,_a);this._4S=false;},doDrag:function(_5,_a){if(this._4S==false){_5-=this.parent.pageX();_a-=this.parent.pageY();}
var _0R=this.parent.parent;var _v;var _3t=new HPoint(_5,_a);var _d=this.parent.parent.tableHeaderColumns.indexOf(this);var _k=this.parent.parent.tableColumns[_d];if(!this._38.equals(_3t)){if(this._0c.resizeW==true){if(_d==0){return;}
_v=_5-this._0t;this.rect.left=_v;this.rect.updateSecondaryValues();this.drawRect();_k.rect.left=_v+this.parent.parent.scrollLeft();_k.rect.updateSecondaryValues();_k.drawRect();this.parent.parent._O[_d]=_v+this.parent.parent.scrollLeft();_0R._r[_d].width=this.rect.width;var _2m=this.parent.parent.tableColumns[(_d-1)];if(_2m){_2m.rect.right=_v+this.parent.parent.scrollLeft();_2m.rect.updateSecondaryValues();_2m.drawRect();this.parent.parent._r[_d-1].width=_2m.rect.width;_44=this.parent.parent.tableHeaderColumns[_d-1];_44.rect.right=_v;_44.rect.updateSecondaryValues();_44.drawRect();}}else if(this._0c.resizeE==true){var l=this.parent.parent.tableColumns.length;if(_d==l-1){return;}
_v=_5-this._0t;this.rect.right=_v;this.rect.updateSecondaryValues();this.drawRect();_k.rect.right=_v+this.parent.parent.scrollLeft();_k.rect.updateSecondaryValues();_k.drawRect();this.parent.parent._O[_d+1]=_v+this.parent.parent.scrollLeft();this.parent.parent._r[_d].width=this.rect.width;var _2l=this.parent.parent.tableColumns[(_d+1)];if(_2l){_2l.rect.left=_v+this.parent.parent.scrollLeft();_2l.rect.updateSecondaryValues();_2l.drawRect();this.parent.parent._r[_d+1].width=_2l.rect.width;_3Y=this.parent.parent.tableHeaderColumns[_d+1];_3Y.rect.left=_v;_3Y.rect.updateSecondaryValues();_3Y.drawRect();}}else if(this._0c.dragColumn==true){_v=_3t.subtract(this._0t);this.setStyle('opacity',0.4);this.setStyle('left',_v.x+"px");_k.setStyle('opacity',0.4);_k.setStyle('left',_v.x+this.parent.parent.scrollLeft()+"px");}
this._3x=true;if(this._0c.dragColumn==false){}
this._38=_3t;}},endDrag:function(_5,_a){this.base(_5,_a);this.doDrag(_5,_a);_5-=this.parent.pageX();_a-=this.parent.pageY();var _0R=this.parent.parent;this.setStyle('opacity',1.0);_0R.tableColumns[this._0n].setStyle('opacity',1.0);var _8=false;var i,l=_0R.tableHeaderColumns.length;for(i=0;i<l;i++){if(_0R.tableHeaderColumns[i].rect.left<=_5&&_5<=_0R.tableHeaderColumns[i].rect.right&&_0R.tableHeaderColumns[i]!=this){if(this._0c.dragColumn==true){_0R.moveColumn(this._0n,i);_8=true;}}}
if(_8==false&&this._0c.dragColumn==true){this.setStyle('left',this._2u.left+"px");_0R.tableColumns[this._0n].setStyle('left',this._2u.left+"px");this._7K();}},drawRect:function(){this._3x=false;this.base();},_4a:function(){this._0c={dragColumn:false,resizeW:false,resizeE:false,dragColumnRect:new HRect(this.options.resizeW,0,this.rect.width-this.options.resizeE,this.rect.height),resizeWRect:new HRect(0,0,this.options.resizeW,this.rect.height),resizeERect:new HRect(this.rect.width-this.options.resizeE,0,this.rect.width,this.rect.height)};}});_00=function(a,b){if(a[_00.column]<b[_00.column]){return(_00.direction)?-1:1;}
if(a[_00.column]>b[_00.column]){return(_00.direction)?1:-1;}
return 0;};_00.direction=true;_00.column=0;HTableHeaderView=HControl.extend({packageName:"table",componentName:"tableheaderview",constructor:function(_1,_g,_2){if(this.isinherited){this.base(_1,_g,_2);}
else{this.isinherited=true;this.base(_1,_g,_2);this.isinherited=false;}
this.type='[HTableHeaderView]';this.preserveTheme=true;if(!this.isinherited){this.draw();}},draw:function(){this.base();}});HTableCornerView=HView.extend({packageName:"table",componentName:"tablecornerview",constructor:function(_1,_g){if(this.isinherited){this.base(_1,_g);}
else{this.isinherited=true;this.base(_1,_g);this.isinherited=false;}
this.type='[HTableCornerView]';this.preserveTheme=true;if(!this.isinherited){this.draw();}},draw:function(){if(!this.drawn){this.drawMarkup();}
this.drawRect();}});HTableColumn=HControl.extend({packageName:"table",componentName:"tablecolumn",constructor:function(_1,_g,_2){_2=new(Base.extend({dataView:"",headerView:""}).extend(_2));if(this.isinherited){this.base(_1,_g,_2);}
else{this.isinherited=true;this.base(_1,_g,_2);this.isinherited=false;}
this.type='[HTableColumn]';this.width=_1.width;this.dataView=this.options.dataView;this.headerView=this.options.headerView;this.index=this.options.index;this.preserveTheme=true;if(!this.isinherited){this.draw();}}});_6i=function(_d,_s,_13,_1x,_3I){this.index=_d;this.width=_s;this.string=_13;this.dataView=_1x;this.headerView=_3I;this.headerCreated=false;this.created=false;};HTableControl=HControl.extend({packageName:"table",componentName:"tablecontrol",calculateDimensions:function(){this._1W();},updateColumns:function(){this._2z();},constructor:function(_1,_g,_2){_2=new(Base.extend({rowHeight:21,headerViewHeight:21,bufferLength:3,resizeW:5,resizeE:5}).extend(_2));if(this.isinherited){this.base(_1,_g,_2);}
else{this.isinherited=true;this.base(_1,_g,_2);this.isinherited=false;}
this.tableViewDefaults=_2;this.type='[HTableControl]';this.preserveTheme=true;this.tableColumns=[];this._O=[];this.tableHeaderColumns=[];this._r=[];this._1d=[];this._0Q=[];this.numberOfRows=0;this._1c=0;this._4O=0;this._1e=0;this._25=0;this._08=0;this.headerView=new HTableHeaderView(new HRect(0,0,this.rect.width,this.options.headerViewHeight),this);this.tableView=new HView(new HRect(0,this.options.headerViewHeight,this.rect.width,this.rect.height),this);this.tableView.setStyle("overflow","auto");this.columnsView=new HView(new HRect(0,0,this.rect.width,this.rect.height-this.options.headerViewHeight),this.tableView);var _6B=new HRect(this.rect.width-18,0,this.rect.width,this.options.headerViewHeight);this.cornerView=new HTableCornerView(_6B,this);this._0a=new HRect(this.tableView.rect);this._0a.offsetTo(0,0);if(!this.isinherited){this.draw();}},onIdle:function(){this._2H();this.base();},_2z:function(){if(this.numberOfRows==0||this._r.length==0){return;}
var _H=this._5M(new HPoint(0,this._0a.top));var _02=this._5M(new HPoint(0,this._0a.bottom));var _3a,_2P;var _3h=this._0a.left;var i=0;while(i<this._r.length&&_3h>this._O[i]){i++;}
_3a=i-1;if(_3a==-1){_3a=0;}
var _3h=this._0a.right;while(i<this._r.length&&_3h>this._O[i]){i++;}
_2P=i-1;if(_2P==-1){_2P=this._r.length-1;}
var _5E=false;var _5F=false;var _4v=false;for(var i=_3a;i<=_2P;i++){if(this._r[i].created==false){var _6v=new HRect(this._O[i],0,this._O[i]+this._r[i].width,this.columnsView.rect.height);this.tableColumns[i]=new HTableColumn(_6v,this.columnsView,{label:this._r[i].string,dataView:this._r[i].dataView,headerView:this._r[i].headerView});this._r[i].created=true;}
if(this._r[i].headerCreated==false){var _72=new HRect(this._O[i]-this._0a.left,0,this._O[i]-this._0a.left+this._r[i].width,this.options.headerViewHeight);this.tableHeaderColumns[i]=new HTableHeaderColumn(_72,this.headerView,{label:this._r[i].string});this.tableHeaderColumns[i].draw();this._r[i].headerCreated=true;}
var _0E=this.tableColumns[i];var _4l=this.tableHeaderColumns[i];if(this._1d[i]==false){this._7b(i,_H,_02);this._1d[i]=true;}}
for(var i=0;i<this._r.length;i++){if(this._r[i].created==true){var _0E=this.tableColumns[i];var _4l=this.tableHeaderColumns[i];_4l.rect.offsetTo(this._O[i]-this._0a.left,0);_4l.drawRect();_0E.rect.set(this._O[i],0,this._O[i]+_0E.width,this.columnsView.rect.height);_0E.drawRect();if(!this._5J&&this._1c<=_H&&_H<this._1c+this.tableViewDefaults.bufferLength*this._08){var _F=new HDataBuffer(_H,_02,this._1c,this._4O,this._08);var _7D=_F.lowerLimit();var _7E=_F.upperLimit();if(_H>_7E){_5E=true;var _0C=this._1e;var _0S=_F.getNewBottomRow()*this.options.rowHeight;var _x=_F.getNewBottomRow();var _D=_F.getNewBottomRowEnd();this._4o(_0C,_x,_D,i,_0S,_0E);}else if(_H<=_7D){_5F=true;var _0C=this._25;var _0S=_F.getNewTopRow()*this.options.rowHeight;var _x=_F.getNewTopRow();var _D=_F.getNewTopRowEnd();this._4o(_0C,_x,_D,i,_0S,_0E);}}else{_4v=true;var _F=new HDataBuffer(_H,_02,0,0,this._08);var _U=_F.startRow();var _2a=_F.endRow();var _0C=0;var _0S=_U*this.options.rowHeight;this._4o(_0C,_U,_U+this._08*3,i,_0S,_0E);}}}
if(_5E==true){var _F=new HDataBuffer(_H,_02,0,0,this._08);var _2f=_F.getNewDownBufferIndexes(this._1e);this._1e=_2f[0];this._25=_2f[1];this._1c+=this._08;}
if(_5F==true){var _F=new HDataBuffer(_H,_02,0,0,this._08);var _2f=_F.getNewUpBufferIndexes(this._1e);this._1e=_2f[0];this._25=_2f[1];this._1c-=this._08;}
if(_4v==true){var _F=new HDataBuffer(_H,_02,0,0,this._08);this._1e=0;this._25=_F.endBufferStartRow();this._1c=_H-this._08;}
this.data.updateBuffer(_H,_02);},_4o:function(_0C,_7N,_6N,_1t,_5l,_0N){var _8q;for(var _1j=_7N;_1j<_6N;_1j++){_8q=this.data.getCell(this,_1j,this._r[_1t].index);_8q=(_8q)?_8q:"1";this._0Q[_1t][_0C].setValue(_8q);this._0Q[_1t][_0C].rect.offsetTo(0,_5l);this._0Q[_1t][_0C].drawRect();_5l+=this.options.rowHeight;_0C++;}},_7b:function(_1t,_H,_02){var _0E=this.tableColumns[_1t];if(!this._08){this._08=_02-_H;}
var _F=new HDataBuffer(_H,_02,0,0,this._08);var _U=_F.startRow();var _2a=_F.endRow();this._1c=_U;this._4O=_2a;var _0S=_U*this.options.rowHeight;this._25=_F.endBufferStartRow();this._0Q[_1t]=new Array();var _1x=_0E.dataView;if(typeof _1x=="string"){_1x=ITextControl;}
var _f,_6f,_8q;for(var _1j=_U;_1j<_2a;_1j++){_8q=this.data.getCell(this,_1j,this._r[_1t].index);_8q=(_8q)?_8q:"1";_6f=new HRect(0,_0S,_0E.rect.width,_0S+this.options.rowHeight);_f=new _1x(_6f,_0E,{value:_8q});this._0Q[_1t].push(_f);_0S+=this.options.rowHeight;}},_1W:function(){var _3c=0,_81;if(this._r.length>0){var _s;this._O[0]=0;width=this._r[0].width;_3c+=width;for(var i=1;i<this._r.length;i++){this._O[i]=this._O[i-1]+width;width=this._r[i].width;_3c+=width;}}
_81=this.numberOfRows*this.options.rowHeight;this.columnsView.rect.setSize(_3c,_81);this.columnsView.drawRect();if(this.headerView){this.headerView.rect.setWidth(_3c);this.headerView.drawRect();}},_5M:function(_e){return parseInt(_e.y/this.options.rowHeight,10);},rowAtPoint:function(_e){var _a=_e.y;if(_a==0){return 0;}
_a-=this.options.headerViewHeight;return parseInt(_a/this.options.rowHeight,10);},addColumn:function(_d,_s,_C,_1x,_3I){var _k=new _6i(_d,_s,_C,_1x,_3I);this._r.push(_k);this._1d.push(false);},setData:function(_0d){this.data=_0d;this.data.tableControl=this;this.numberOfRows=this.data.numberOfRows();this._1W();},reloadData:function(_0d){this._1g=true;this._5J=true;this._2z();this._5J=false;this._1g=false;},removeColumn:function(_k){this._1g=true;var _d=this.tableColumns.indexOf(_k);this._r.splice(_d,1);this.tableHeaderColumns[_d].die();this.tableHeaderColumns.splice(_d,1);this.tableColumns[_d].die();this.tableColumns.splice(_d,1);this._0Q.splice(_d,1);this._1d.splice(_d,1);this._1W();this._2z();this._1g=false;},moveColumn:function(_1t,_2k){this._1g=true;var _0y=_1t;var _0Y=_2k;if(_0y<_0Y){var _84=_0Y;_0Y=_0y;_0y=_84;}
var _k=this._r[_0y];this._r.splice(_0y,1);this._r.splice(_0Y,0,_k);_k=this.tableColumns[_0y];this.tableColumns.splice(_0y,1);this.tableColumns.splice(_0Y,0,_k);_k=this.tableHeaderColumns[_0y];this.tableHeaderColumns.splice(_0y,1);this.tableHeaderColumns.splice(_0Y,0,_k);_k=this._1d[_0y];this._1d.splice(_0y,1);this._1d.splice(_0Y,0,_k);_k=this._0Q[_0y];this._0Q.splice(_0y,1);this._0Q.splice(_0Y,0,_k);this._1W();this._2z();this._1g=false;},scrollLeft:function(){return this._0a.left;},scrollTop:function(){return this._0a.top;},_2H:function(){var _4k=ELEM.get(this.tableView.elemId);if(!_4k){throw("Error: HTableControl element not found");}
var _7t=new HRect(this._0a);this._0a.offsetTo(parseInt(_4k.scrollLeft,10),parseInt(_4k.scrollTop,10));if(!_7t.equals(this._0a)){this._1g=true;this._2z();this._1g=false;}}});HStyleButton=HImageButton.extend({packageName:"richtext",componentName:"stylebutton",constructor:function(_1,_g,_2){if(this.isinherited){this.base(_1,_g,_2);}
else{this.isinherited=true;this.base(_1,_g,_2);this.isinherited=false;}
this.type='[HStyleButton]';this.preserveTheme=true;if(!this.isinherited){this.draw();}},mouseUp:function(){if(this.styleButtonDefaults.richtextview){HTextEdit.execCommand(this.styleButtonDefaults.command,false,null,this.styleButtonDefaults.richtextview.iframe().contentWindow.document);}
this.base();}},{_67:"imageview"});HStyleButtonBar=HView.extend({packageName:"richtext",componentName:"stylebuttonbar",constructor:function(_1,_g,_2){if(this.isinherited){this.base(_1,_g,_2);}
else{this.isinherited=true;this.base(_1,_g,_2);this.isinherited=false;}
this.styleButtonBarDefaults=new(Base.extend({}).extend(_2));this.type='[HStyleButtonBar]';this.preserveTheme=true;if(!this.isinherited){this.draw();}},draw:function(){if(!this.drawn){this.drawRect();if(this.styleButtonBarDefaults.styleBarSettings){if(this.styleButtonBarDefaults.styleBarSettings.bold){this.bButton=new HStyleButton(new HRect(0,0,20,20),this,{image:"bold.gif",richtextview:this.styleButtonBarDefaults.richtextview,command:"bold"});}
if(this.styleButtonBarDefaults.styleBarSettings.italic){this.iButton=new HStyleButton(new HRect(20,0,40,20),this,{image:"italic.gif",richtextview:this.styleButtonBarDefaults.richtextview,command:"italic"});}
if(this.styleButtonBarDefaults.styleBarSettings.underline){this.underlineButton=new HStyleButton(new HRect(40,0,60,20),this,{image:"underline.gif",richtextview:this.styleButtonBarDefaults.richtextview,command:"underline"});}
if(this.styleButtonBarDefaults.styleBarSettings.justify){this.justifyleftButton=new HStyleButton(new HRect(60,0,80,20),this,{image:"justifyleft.gif",richtextview:this.styleButtonBarDefaults.richtextview,command:"justifyleft"});this.justifycenterButton=new HStyleButton(new HRect(80,0,100,20),this,{image:"justifycenter.gif",richtextview:this.styleButtonBarDefaults.richtextview,command:"justifycenter"});this.justifyrightButton=new HStyleButton(new HRect(100,0,120,20),this,{image:"justifyright.gif",richtextview:this.styleButtonBarDefaults.richtextview,command:"justifyright"});this.justifyfullButton=new HStyleButton(new HRect(120,0,140,20),this,{image:"justifyfull.gif",richtextview:this.styleButtonBarDefaults.richtextview,command:"justifyfull"});}
if(this.styleButtonBarDefaults.styleBarSettings.insertunorderedlist){this.ulButton=new HStyleButton(new HRect(140,0,160,20),this,{image:"insertunorderedlist.gif",richtextview:this.styleButtonBarDefaults.richtextview,command:"insertunorderedlist"});}
if(this.styleButtonBarDefaults.styleBarSettings.insertorderedlist){this.olButton=new HStyleButton(new HRect(160,0,180,20),this,{image:"insertorderedlist.gif",richtextview:this.styleButtonBarDefaults.richtextview,command:"insertorderedlist"});}
if(this.styleButtonBarDefaults.styleBarSettings.indent){this.indentButton=new HStyleButton(new HRect(180,0,200,20),this,{image:"indent.gif",richtextview:this.styleButtonBarDefaults.richtextview,command:"indent"});}
if(this.styleButtonBarDefaults.styleBarSettings.outdent){this.outdentButton=new HStyleButton(new HRect(200,0,220,20),this,{image:"outdent.gif",richtextview:this.styleButtonBarDefaults.richtextview,command:"outdent"});}
this.fonts=new HComboBox(new HRect(220,0,280,20),this);for(var i=0;i<this.styleButtonBarDefaults.styleBarSettings.fontFamilies.length;i++){this.fonts.addItem(this.styleButtonBarDefaults.styleBarSettings.fontFamilies[i]);}
this.fonts.selectedIndexChanged=this._6S;this.fontsizes=new HComboBox(new HRect(280,0,360,20),this);for(var i=0;i<this.styleButtonBarDefaults.styleBarSettings.fontSizes.length;i++){this.fontsizes.addItem(this.styleButtonBarDefaults.styleBarSettings.fontSizes[i]);}
this.fontsizes.selectedIndexChanged=this._6T;}
this.drawn=true;}},_6S:function(){if(this.parent.styleButtonBarDefaults.richtextview){var _4q=this.parent.styleButtonBarDefaults.richtextview.iframe().contentWindow;var _3y=_4q.document;HTextEdit.execCommand("fontname",false,this.selectedItem().label,_3y);}},_6T:function(){if(this.parent.styleButtonBarDefaults.richtextview){var _4q=this.parent.styleButtonBarDefaults.richtextview.iframe().contentWindow;var _3y=_4q.document;HTextEdit.execCommand("fontsize",false,this.selectedItem().label,_3y);}},refresh:function(){if(this.drawn){this.base();}}});HRichTextBar=HButton.extend({packageName:"richtext",componentName:"richtextbar",constructor:function(_1,_g,_2){if(this.isinherited){this.base(_1,_g,_2);}
else{this.isinherited=true;this.base(_1,_g,_2);this.isinherited=false;}
this.type='[HRichTextBar]';if(!this.isinherited){this.draw();}},draw:function(){if(!this.drawn){this.base();if(!this.bButton){this.bButton=new HStyleButton(new HRect(0,0,20,20),this,{label:this.label,value:true,command:"bold"});this.bButton.draw();this.iButton=new HStyleButton(new HRect(20,0,40,20),this,{label:this.label,value:true,command:"italic"});this.iButton.draw();this.underlineButton=new HStyleButton(new HRect(40,0,60,20),this,{label:this.label,value:true,command:"underline"});this.underlineButton.draw();this.justifyleftButton=new HStyleButton(new HRect(60,0,80,20),this,{label:this.label,value:true,command:"justifyleft"});this.justifyleftButton.draw();this.justifycenterButton=new HStyleButton(new HRect(80,0,100,20),this,{label:this.label,value:true,command:"justifycenter"});this.justifycenterButton.draw();this.justifyrightButton=new HStyleButton(new HRect(100,0,120,20),this,{label:this.label,value:true,command:"justifyright"});this.justifyrightButton.draw();this.justifyfullButton=new HStyleButton(new HRect(120,0,140,20),this,{label:this.label,value:true,command:"justifyfull"});this.justifyfullButton.draw();this.ulButton=new HStyleButton(new HRect(140,0,160,20),this,{label:this.label,value:true,command:"insertunorderedlist"});this.ulButton.draw();this.olButton=new HStyleButton(new HRect(160,0,180,20),this,{label:this.label,value:true,command:"insertorderedlist"});this.olButton.draw();this.indentButton=new HStyleButton(new HRect(180,0,200,20),this,{label:this.label,value:true,command:"indent"});this.indentButton.draw();this.outdentButton=new HStyleButton(new HRect(200,0,220,20),this,{label:this.label,value:true,command:"outdent"});this.outdentButton.draw();}}
this.drawRect();},refresh:function(){if(this.bButton){this.bButton.refresh();this.iButton.refresh();this.underlineButton.refresh();this.justifyleftButton.refresh();this.justifycenterButton.refresh();this.justifyrightButton.refresh();this.justifyfullButton.refresh();this.ulButton.refresh();this.olButton.refresh();this.indentButton.refresh();this.outdentButton.refresh();}}});HRichTextView=HControl.extend({packageName:"richtext",componentName:"richtextview",constructor:function(_1,_g,_2){if(this.isinherited){this.base(_1,_g,_2);}else{this.isinherited=true;this.base(_1,_g,_2);this.isinherited=false;}
this.type='[HRichTextView]';this.preserveTheme=true;this._2O=false;this._5c=false;if(!this.isinherited){this.draw();}},draw:function(){if(!this.drawn){this.drawRect();this.drawMarkup();this.drawn=true;}
this.base();},onIdle:function(){if(this.drawn){var _0x=ELEM.get(this.markupElemIds.control);if(!this._2O&&_0x.contentWindow&&_0x.contentWindow.document){_0x.contentWindow.document.designMode="on";this._2O=true;}
if(this._2O&&_0x.contentWindow.document.body){if(!this._5c){_0x.contentWindow.document.body.innerHTML=this.value;this._5c=true;}
var _0w=_0x.contentWindow.document.body.innerHTML;if(this.value!=_0w){this._4T=true;this.setValue(_0w);this._4T=false;}}}},setValue:function(_8q){if(!this._4T){if(this._2O){var _0x=ELEM.get(this.markupElemIds.control);if(_0x.contentWindow.document.body){_0x.contentWindow.document.body.innerHTML=_8q;}}}
this.base(_8q);},iframe:function(){return ELEM.get(this.markupElemIds.control);}});HRichTextControl=HControl.extend({packageName:"richtext",componentName:"richtextcontrol",constructor:function(_1,_g,_2){if(this.isinherited){this.base(_1,_g,_2);}
else{this.isinherited=true;this.base(_1,_g,_2);this.isinherited=false;}
this.type='[HRichTextControl]';this.preserveTheme=true;this._7c=false;if(!this.isinherited){this.draw();}},draw:function(){if(!this.drawn){this.base();this.drawRect();this.drawMarkup();if(!this._7c){this.barView=new HRichTextBar(new HRect(0,0,this.rect.width,20),this,{value:this.value});this.barView.draw();this.richTextView=new HRichTextView(new HRect(0,20,this.rect.width,this.rect.height),this,{value:(this.value||"editable text")});this.richTextView.draw();}
this.drawn=true;}
this.drawRect();}});HRichTextArea=HRichTextControl;HRichTextEditor=HRichTextControl;HButton=HControl.extend({componentName:'button'});HCheckbox=HButton.extend({componentName:'checkbox',constructor:function(_1,_m,_2){this.base(_1,_m,_2);this.setClickable(true);},click:function(){this.setValue(!this.value);},refreshValue:function(){if(this.markupElemIds.control){if(this.value){this.toggleCSSClass(this.markupElemIds.control,'checked',true);this.toggleCSSClass(this.markupElemIds.control,'unchecked',false);}
else{this.toggleCSSClass(this.markupElemIds.control,'checked',false);this.toggleCSSClass(this.markupElemIds.control,'unchecked',true);}}}});HCheckBox=HCheckbox;HRadioButton=(HCheckbox.extend(HValueMatrixComponentExtension)).extend({componentName:'radiobutton'});HRadiobutton=HRadioButton;HStringView=HControl.extend({componentName:"stringview",componentBehaviour:['view','control','text'],refreshLabel:function(){if(this.markupElemIds){if(this.markupElemIds.value){ELEM.setAttr(this.markupElemIds.value,'title',this.label);}}}});HTextControl=HControl.extend({componentName:"textcontrol",constructor:function(_1,_g,_2){this.base(_1,_g,_2);this.setTextEnter(true);},setEnabled:function(_8){this.base(_8);if(this['markupElemIds']===undefined){return;}
if(this.markupElemIds.value){ELEM.setAttr(this.markupElemIds.value,'disabled',!this.enabled);}},refreshValue:function(){if(this.markupElemIds){if(this.markupElemIds.value){ELEM.get(this.markupElemIds.value).value=this.value;}}},textEnter:function(){if(this['markupElemIds']===undefined){return;}
var _8q=ELEM.get(this.markupElemIds.value).value;if(_8q!=this.value){this.setValue(_8q);}}});HUploader=HControl.extend({componentName:'uploader',uploadState:false,uploadKey:false,uploadStateLabels:{'0':"Select file...",'1':"Uploading...",'2':"Processing data...",'3':"Upload Complete",'4':"Preparing upload",'-1':"Error: Invalid request",'-2':"Error: Invalid upload key",'-3':"Error: Invalid data format",'-4':"Error: File too big",'-6':"Error: Post-processing failed"},markupElemNames:['form','file','iframe','upload_progress','progress_label','progress_indicator','button','button_label','value','ack_button'],setUploadState:function(_W,_6d){if(_W!==this.uploadState){this.uploadState=_W;var _4f=_W.toString();if(this.uploadStateLabels[_4f]!==undefined){ELEM.get(this.markupElemIds.value).value=this.valueObj.id;var _T=this.uploadStateLabels[_4f];if(_W==0){ELEM.setStyle(this.markupElemIds.upload_progress,'visibility','hidden');ELEM.setStyle(this.markupElemIds.progress_indicator,'visibility','hidden');ELEM.setStyle(this.markupElemIds.ack_button,'visibility','hidden');ELEM.setHTML(this.markupElemIds.button_label,_T);ELEM.setStyle(this.markupElemIds.button,'visibility','inherit');ELEM.setStyle(this.markupElemIds.form,'visibility','inherit');ELEM.setAttr(this.markupElemIds.form,'action','/U/'+_6d,true);ELEM.get(this.markupElemIds.file).value='';this.uploadKey=_6d;}
else if(_W==1||_W==2||_W==3||_W==4){ELEM.setStyle(this.markupElemIds.upload_progress,'visibility','inherit');if(_W==1||_W==2||_W==4){ELEM.setStyle(this.markupElemIds.progress_indicator,'visibility','inherit');ELEM.setStyle(this.markupElemIds.ack_button,'visibility','hidden');}
else{ELEM.setStyle(this.markupElemIds.progress_indicator,'visibility','hidden');ELEM.setStyle(this.markupElemIds.ack_button,'visibility','inherit');}
ELEM.setHTML(this.markupElemIds.progress_label,_T);ELEM.setStyle(this.markupElemIds.button,'visibility','hidden');ELEM.setStyle(this.markupElemIds.form,'visibility','hidden');if(_W==1){ELEM.get(this.markupElemIds.form).submit();}}
else if(_W<0){ELEM.setStyle(this.markupElemIds.progress_indicator,'visibility','hidden');ELEM.setStyle(this.markupElemIds.ack_button,'visibility','inherit');ELEM.setHTML(this.markupElemIds.progress_label,'<span style="color:red;">'+_T+'</span>');ELEM.setStyle(this.markupElemIds.button,'visibility','hidden');ELEM.setStyle(this.markupElemIds.form,'visibility','hidden');}}}},refreshValue:function(){if(typeof this.value!='string'){return;}
if(this.value.indexOf(':::')<1){return;}
var _4e=this.value.split(':::');if(_4e.length!=2){return;}
var _W=parseInt(_4e[0],10),_6d=_4e[1];this.setUploadState(_W,_6d);},upload:function(){this.setValue('1:::'+this.uploadKey);},getNewUploadKey:function(){this.setValue('4:::'+this.uploadKey);},click:function(){if((this.uploadState==3)||(this.uploadState<0)){this.getNewUploadKey();}}});HTextArea=HTextControl.extend({componentName:"textarea"});HSlider=HControl.extend({componentName:"slider",constructor:function(_1,_g,_2){if(!_2){_2={};}
_2.events={mouseDown:false,mouseUp:false,draggable:true,keyDown:true,keyUp:true,mouseWheel:true};var _w=Base.extend({minValue:0,maxValue:1});_w=_w.extend(_2);_2=new _w();if(this.isinherited){this.base(_1,_g,_2);}
else{this.isinherited=true;this.base(_1,_g,_2);this.isinherited=false;}
this.refreshOnValueChange=false;this._5g='sliderknob';this._0z=false;if(!this.isinherited){this.draw();}},setValue:function(_8q){if(_8q<this.minValue){_8q=this.minValue;}
if(_8q>this.maxValue){_8q=this.maxValue;}
this.base(_8q);if(this._3M){this.drawKnobPos();}},draw:function(){if(!this.drawn){this.drawRect();this.drawMarkup();this._7a();}
this.refresh();},startDrag:function(_5,_a){var _6=ELEM.get(this.elemId);var _5D=helmi.Element.getPageLocation(_6,true);this._7l=_5D[0];this._7m=_5D[1];this.doDrag(_5,_a);},endDrag:function(_5,_a){this.doDrag(_5,_a);},doDrag:function(_5,_a){_5-=this._7l;_a-=this._7m;_95=this._0z?_a:_5;_8q=this._7r(_95);this.setValue(_8q);},keyDown:function(_I){if((_I==Event.KEY_LEFT&&!this._0z)||(_I==Event.KEY_UP&&this._0z)){this._2j=true;this._30(-0.05);}
else if((_I==Event.KEY_RIGHT&&!this._0z)||(_I==Event.KEY_DOWN&&this._0z)){this._2j=true;this._30(0.05);}
else if(_I==Event.KEY_HOME){this.setValue(this.minValue);}
else if(_I==Event.KEY_END){this.setValue(this.maxValue);}
else if(_I==Event.KEY_PAGEUP){this._2j=true;this._30(-0.25);}
else if(_I==Event.KEY_PAGEDOWN){this._2j=true;this._30(0.25);}},keyUp:function(_I){this._2j=false;},mouseWheel:function(_Z){var _1O;if(_Z>0){_1O=-0.05;}
else{_1O=0.05;}
_8q=(this.maxValue-this.minValue)*_1O;this.setValue(this.value+_8q);},_30:function(_1O,_1J){if(!_1J){_1J=300;}
else if(_1J==300){_1J=50;}
if(this._2j&&this.active){_8q=(this.maxValue-this.minValue)*_1O;this.setValue(this.value+_8q);var _o=this;if(this._3N){window.clearTimeout(this._3N);this._3N=null;}
this._3N=window.setTimeout(function(){_o._30(_1O,_1J);},_1J);}},_7a:function(){this._3M=this.bindDomElement(this._5g+this.elemId);this.drawKnobPos();},_4p:function(){var _7=ELEM.get(this._3M);if(this._0z){_5I=this.rect.height-parseInt(_7.offsetHeight,10);}else{_5I=this.rect.width-parseInt(_7.offsetWidth,10);}
_3L=_5I*((this.value-this.minValue)/(this.maxValue-this.minValue));_49=parseInt(_3L,10)+'px';return _49;},_7r:function(_5u){_10=this._0z?(_5u):(_5u);if(_10<0){_10=0;}
if(this._0z){if(_10>this.rect.height){_10=this.rect.height;}
return this.minValue+((_10/this.rect.height)*(this.maxValue-this.minValue));}else{if(_10>this.rect.width){_10=this.rect.width;}
return this.minValue+((_10/this.rect.width)*(this.maxValue-this.minValue));}},drawKnobPos:function(){_9s=this._0z?'top':'left';_47=this._4p();ELEM.setStyle(this._3M,_9s,_47);}});HVSlider=HSlider.extend({componentName:"vslider",constructor:function(_1,_g,_2){if(this.isinherited){this.base(_1,_g,_2);}
else{this.isinherited=true;this.base(_1,_g,_2);this.isinherited=false;}
this.type='[HVSlider]';this._5g='vsliderknob';this._0z=true;if(!this.isinherited){this.draw();}}});HProgressBar=HControl.extend({componentName:"progressbar",constructor:function(_1,_g,_2){if(this.isinherited){this.base(_1,_g,_2);}
else{this.isinherited=true;this.base(_1,_g,_2);this.isinherited=false;}
if(!_2){_2={};}
var _w=Base.extend({value:0,minValue:0,maxValue:100});_w=_w.extend(_2);_2=new _w();this.value=_2.value;this.minValue=_2.minValue;this.maxValue=_2.maxValue;this.visibleWidth=this.rect.width-2;this.type='[HProgressBar]';this._46='progressmark';if(!this.isinherited){this.draw();}
this.progressFrameHeight=20;this.progressFrames=10;this.currProgressFrame=0;},setProgressFrameHeight:function(_09){this.progressFrameHeight=_09;},setProgressFrameNum:function(_34){this.progressFrames=_34;},setValue:function(_8q){this.base(_8q);this.drawProgress();},onIdle:function(){if(this.progressbarElemId){this.currProgressFrame++;if(this.currProgressFrame>=this.progressFrames){this.currProgressFrame=0;}
var _09=this.currProgressFrame*this.progressFrameHeight;ELEM.setStyle(this.progressbarElemId,'background-position','0px -'+_09+'px');}},draw:function(){if(!this.drawn){this.drawRect();this.drawMarkup();this._3K();}},_3K:function(){this.progressbarElemId=this.bindDomElement(this._46+this.elemId);this.drawProgress();},_4p:function(){var _3L=this.visibleWidth*((this.value-this.minValue)/(this.maxValue-this.minValue));var _49=parseInt(Math.round(_3L),10)+'px';return _49;},drawProgress:function(){if(this.progressbarElemId){var _47=this._4p();ELEM.setStyle(this.progressbarElemId,'width',_47);}}});HProgressIndicator=HControl.extend({packageName:"progress",componentName:"progressindicator",constructor:function(_1,_g,_2){if(this.isinherited){this.base(_1,_g,_2);}
else{this.isinherited=true;this.base(_1,_g,_2);this.isinherited=false;}
if(!_2){_2={};}
var _w=Base.extend({value:0,interval:20});_w=_w.extend(_2);_2=new _w();this.type='[HProgressIndicator]';this._46='progressmark';this.interval=_2.interval;this.value=_2.value;this._1v=null;if(!this.isinherited){this.draw();}},setValue:function(_8q){if(this._45){if(_8q==true&&!this._1v){var temp=this;this._1v=setInterval(function(){temp.drawProgress();},temp.interval);}
else{clearInterval(this._1v);this._1v=null;}}},die:function(){this.base();if(this._1v){clearInterval(this._1v);}},draw:function(){if(!this.drawn){this.drawRect();this.drawMarkup();this._3K();}},_3K:function(){this._45=this.bindDomElement(this._46+this.elemId);this.drawProgress();},drawProgress:function(){this.progressPosition++;if(this.progressPosition>this.positionLimit-1){this.progressPosition=0;}
if(this._45){ELEM.setStyle(this._45,'background-position','0px -'+
(this.progressPosition*this.rect.height)+'px');}}});HImageView=HControl.extend({constructor:function(_1,_g,_2){if(!_2){_2={};}
var _w=HClass.extend({scaleToFit:true});_2=new(_w.extend(_2))();if(this.isinherited){this.base(_1,_g,_2);}
else{this.isinherited=true;this.base(_1,_g,_2);this.isinherited=false;}
if(!this.value){this.value=this.getThemeGfxPath()+"/blank.gif";}
if(!this.isinherited){this.draw();}},_5p:function(_36){this.elemId=ELEM.make(_36,'img');ELEM.setAttr(this.elemId,'src',this.value);ELEM.setAttr(this.elemId,'alt',this.label);},_5q:function(_36){this.elemId=ELEM.make(_36,'div');ELEM.setStyle(this.elemId,'background-image','url('+this.value+')');ELEM.setStyle(this.elemId,'background-position','0px 0px');ELEM.setStyle(this.elemId,'background-repeat','no-repeat');},_5o:function(_36){if(this.options.scaleToFit){this._5p(_36);}
else{this._5q(_36);}},refreshValue:function(){ELEM.setAttr(this.elemId,'src',this.value);},refreshLabel:function(){ELEM.setAttr(this.elemId,'alt',this.label);},scaleToFit:function(){if(!this.options.scaleToFit){ELEM.del(this.elemId);this._5p(this._3F());this.options.scaleToFit=true;}},scaleToOriginal:function(){if(this.options.scaleToFit){ELEM.del(this.elemId);this._5q(this._3F());this.options.scaleToFit=false;}}});HSplitView=HControl.extend({componentName:"splitview",constructor:function(_1,_g,_2){_2=new(Base.extend({vertical:false}).extend(_2));if(this.isinherited){this.base(_1,_g,_2);}
else{this.isinherited=true;this.base(_1,_g,_2);this.isinherited=false;}
this.preserveTheme=true;this.vertical=this.options.vertical;this.dividerWidth=6;this.splitviews=[];this.dividers=[];this.setDraggable(true);if(!this.isinherited){this.draw();}},startDrag:function(_5,_a,_L){if(!_L){return;}
_5-=this.pageX();_a-=this.pageY();var _d=this.dividers.indexOfObject(_L);this._2t=new HPoint(_5,_a);this._38=new HPoint(_5,_a);this._0t=this._2t.subtract(_L.rect.leftTop);this._0o=this.splitviews[_d];this._V=this.splitviews[_d+1];this._L=_L;if(this.vertical==false){this._2V=this._0o.rect.top;this._2W=this._V.rect.bottom-this.dividerWidth;}else{this._2V=this._0o.rect.left;this._2W=this._V.rect.right-this.dividerWidth;}},doDrag:function(_5,_a,_L){if(!_L){return;}
_5-=this.pageX();_a-=this.pageY();if(this.vertical==false){var _v=_a-this._0t.y;if(_v<this._2V||_v>this._2W){return;}
this._0o.rect.setHeight(_v);this._0o.rect.updateSecondaryValues();this._0o.setStyle('height',this._0o.rect.height+'px',true);this._L.rect.setTop(_v);this._L.rect.updateSecondaryValues();this._L.setStyle('top',this._L.rect.top+'px',true);this._V.rect.setTop(_v+this.dividerWidth);this._V.rect.updateSecondaryValues();this._V.setStyle('top',this._V.rect.top+'px',true);this._V.setStyle('height',this._V.rect.height+'px',true);}else{var _v=_5-this._0t.x;if(_v<this._2V||_v>this._2W){return;}
this._0o.rect.setRight(_v);this._0o.rect.updateSecondaryValues();this._0o.setStyle('width',this._0o.rect.width+'px',true);this._L.rect.setLeft(_v);this._L.rect.updateSecondaryValues();this._L.setStyle('left',this._L.rect.left+'px',true);this._V.rect.setLeft(_v+this.dividerWidth);this._V.rect.updateSecondaryValues();this._V.setStyle('left',this._V.rect.left+'px',true);this._V.setStyle('width',this._V.rect.width+'px',true);}},endDrag:function(_5,_a,_L){this.doDrag(_5,_a);delete this._2t;delete this._38;delete this._0t;delete this._0o;delete this._V;delete this._L;delete this._2V;delete this._2W;},addSplitViewItem:function(_0N,_d){if(_d!==undefined){this.splitviews.splice(_d,0,_0N);}else{this.splitviews.push(_0N);}},removeSplitViewItem:function(_0N){if(typeof _0N=="object"){var _d=this.splitviews.indexOfObject(_0N);if(_d!=-1){this.splitviews.splice(_d,1);_0N.die();this.dividers.splice(_d,1);this.dividers[_d].die();}}},setVertical:function(_8){this.vertical=_8;this.options.vertical=_8;},adjustViews:function(){var _0G=this.splitviews.length;var _32;var _1F;var _39;var _1K;if(this.vertical==false){_32=this.rect.height-this.dividerWidth*(_0G-1);_1F=0;for(var i=0;i<_0G;i++){_1F+=this.splitviews[i].rect.height;}
_39=_32/_1F;_1K=0;for(var i=0;i<_0G;i++){var _f=this.splitviews[i];var _1D=_f.rect.height*_39;if(i==_0G-1){_1D=Math.floor(_1D);}else{_1D=Math.ceil(_1D);}
_f.rect.offsetTo(0,_1K);_f.rect.setSize(this.rect.width,_1D);_f.draw();_1K+=_1D+this.dividerWidth;}}else{_32=this.rect.width-this.dividerWidth*(_0G-1);_1F=0;for(var i=0;i<_0G;i++){_1F+=this.splitviews[i].rect.width;}
_39=_32/_1F;_1K=0;for(var i=0;i<_0G;i++){var _f=this.splitviews[i];var _1E=_f.rect.width*_39;if(i==_0G-1){_1E=Math.floor(_1E);}else{_1E=Math.ceil(_1E);}
_f.rect.offsetTo(_1K,0);_f.rect.setSize(_1E,this.rect.height);_f.draw();_1K+=_1E+this.dividerWidth;}}
this.draw();},refresh:function(){this.base();if(this.drawn){var _0G=this.splitviews.length;var _01;for(var i=0;i<(_0G-1);i++){_01=new HRect(this.splitviews[i].rect);if(!this.vertical){_01.offsetTo(_01.left,_01.bottom);_01.setHeight(this.dividerWidth);}else{_01.offsetTo(_01.right,_01.top);_01.setWidth(this.dividerWidth);}
if(!this.dividers[i]){this.dividers[i]=new HDivider(_01,this);}else{var _f=this.dividers[i];_f.rect.offsetTo(_01.left,_01.top);_f.rect.setSize(_01.width,_01.height);_f.draw();}}}}});HStepper=HButton.extend({componentName:"stepper",constructor:function(_1,_g,_2){if(!_2){_2={};}
_2.events={mouseDown:true,keyDown:true,mouseWheel:true};var _w=Base.extend({minValue:0,value:0,interval:500});_w=_w.extend(_2);_2=new _w();if(this.isinherited){this.base(_1,_g,_2);}
else{this.isinherited=true;this.base(_1,_g,_2);this.isinherited=false;}
this.interval=_2.interval;this._68="stepperlabel";this.border=((_1.bottom-_1.top)/2+_1.top);if(!this.isinherited){this.draw();}},stepUp:function(_8q){_8q--;_8q=(_8q<this.minValue)?this.maxValue:_8q;this.setValue(_8q);},stepDown:function(_8q){_8q++;_8q=(_8q>this.maxValue)?this.minValue:_8q;this.setValue(_8q);},mouseDown:function(_5,_a,_04){this.setMouseUp(true);var temp=this;if(_a<this.border){this.stepUp(this.value);this.counter=setInterval(function(){temp.stepUp(temp.value);},this.interval);}else{this.stepDown(this.value);this.counter=setInterval(function(){temp.stepDown(temp.value);},this.interval);}},mouseUp:function(_5,_a,_04){clearInterval(this.counter);},blur:function(){clearInterval(this.counter);},keyDown:function(_I){this.setKeyUp(true);var temp=this;if(_I==Event.KEY_UP){this.stepUp(this.value);this.counter=setInterval(function(){temp.stepUp(temp.value);},this.interval);}
else if(_I==Event.KEY_DOWN){this.stepDown(this.value);this.counter=setInterval(function(){temp.stepUp(temp.value);},this.interval);}},keyUp:function(_I){clearInterval(this.counter);},mouseWheel:function(_Z){if(_Z>0){this.stepUp(this.value);}
else{this.stepDown(this.value);}}});HPasswordControl=HTextControl.extend({componentName:"passwordcontrol"});HDivider=HControl.extend({componentName:"divider",constructor:function(_1,_g,_2){if(this.isinherited){this.base(_1,_g,_2);}
else{this.isinherited=true;this.base(_1,_g,_2);this.isinherited=false;}
this.type='[HDivider]';this.preserveTheme=true;this.setDraggable(true);if(!this.isinherited){this.draw();}},startDrag:function(_5,_a){this.parent.startDrag(_5,_a,this);},doDrag:function(_5,_a){this.parent.doDrag(_5,_a,this);},endDrag:function(_5,_a){this.parent.endDrag(_5,_a,this);},draw:function(){if(!this.drawn){this.drawRect();this.drawMarkup();this.drawn=true;}
this.refresh();}});HValidatorView=HControl.extend({constructor:function(_1,_m,_2){if(_2!==undefined){if(_2.valueField!==undefined){_1.offsetTo(_2.valueField.rect.right,_2.valueField.rect.top);}}
if(this.isinherited){this.base(_1,_m,_2);}
else{this.isinherited=true;this.base(_1,_m,_2);this.isinherited=false;}
if(!this.isinherited){this.draw();}},setValue:function(_8){if(null===_8||undefined===_8){_8=false;}
this.base(_8);},refresh:function(){this.base();this._8b();},_8b:function(){var _5=0,_a=0;this.setStyle('background-image',"url('"+this.getThemeGfxFile('validator.png')+"')");this.setStyle('background-repeat','no-repeat');if(this.enabled==false){_a=-21;}
if(this.value==true){_5=-21;_66='';}else{_66=this.value;}
ELEM.setAttr(this.elemId,'title',_66);this.setStyle('background-position',_5+'px '+_a+'px');}});HWindow=HDynControl.extend({componentName:'window',constructor:function(_1,_94,_2){if(_94.componentBehaviour[0]!='app'){console.log("Himle.ComponentParentError","HWindow parent must be an HApplication instance!");}
if(!_2){_2={};}
var _w=HClass.extend({minSize:[96,54],maxSize:[16000,9000],resizeW:2,resizeE:2,resizeN:2,resizeS:2,resizeNW:[2,2],resizeNE:[2,2],resizeSW:[2,2],resizeSE:[16,16],noResize:false});_2=new(_w.extend(_2))();if(_2.noResize){_2.minSize=[_1.width,_1.height];_2.maxSize=[_1.width,_1.height];_2.resizeW=0;resizeE=0;resizeN=0;resizeS=0;resizeNW=[0,0];resizeNE=[0,0];resizeSW=[0,0];resizeSE=[0,0];}
this.base(_1,_94,_2);this.windowView=this;HSystem.windowFocus(this);},gainedActiveStatus:function(){HSystem.windowFocus(this);},windowFocus:function(){this.toggleCSSClass(this.elemId,'inactive',false);this.setStyle('cursor','move');},windowBlur:function(){this.toggleCSSClass(this.elemId,'inactive',true);this.setStyle('cursor','default');}});HTabView=HView.extend({tabIndex:0,flexRight:true,flexRightOffset:0,flexBottom:true,flexBottomOffset:0,draw:function(){var _1f=this.drawn;this.base();if(!_1f){var i=0,_4h=[['overflow','auto']];for(i;i<_4h.length;i++){this.setStyle(_4h[i][0],_4h[i][1]);}
this.hide();}}});HTab=HControl.extend({componentName:"tab",componentBehaviour:['view','control','tab'],refreshOnValueChange:false,refreshOnLabelChange:false,constructor:function(_1,_m,_2){this.tabInit();if(this.isinherited){this.base(_1,_m,_2);}
else{this.isinherited=true;this.base(_1,_m,_2);this.isinherited=false;}
this.type='[HTab]';this.setMouseDown(true);if(!this.isinherited){this.draw();}},setValue:function(_8q){this.base(_8q);if(typeof _8q=='number'){var _d=parseInt(_8q,10);if(_d<this.tabs.length){if(_d!=this.selectIdx){this.selectTab(_d);}}}},stringWidth:function(_13,_9){var _0w='<span style="'+this.fontStyle+'">'+_13+'</span>',_s=this.base(_0w,null,_9);return _s;},tabInit:function(){this.tabs=[];this.tabLabels=[];this.tabLabelBounds=[];this.tabLabelStrings=[];this.rightmostPx=0;this.selectIdx=-1;this.tabLabelHeight=20;this.tabLabelLeftEdge=4;this.tabLabelRightEdge=4;this.fontStyle='font-family:Arial,sans-serif;font-size:13px;';this.tabLabelHTMLPrefix1='<div class="edge-left"></div><div class="tablabel" style="width:';this.tabLabelHTMLPrefix2='px">';this.tabLabelHTMLSuffix='</div><div class="edge-right"></div>';this.tabLabelParentElem='label';this.tabLabelElementTagName='div';this.tabLabelAlign='left';this.tabLabelFillBg=false;this.tabTriggerLink=false;this.tabLabelNoHTMLPrefix=false;},setLabel:function(_T){this.label=_T;},selectTab:function(_u){if(_u instanceof HTabView){_u=_u.tabIndex;}
if(this.selectIdx!=-1){var _60=this.tabLabels[this.selectIdx],_80=this.tabs[this.selectIdx];ELEM.removeClassName(_60,'item-fg');ELEM.addClassName(_60,'item-bg');HSystem.views[_80].hide();}
if(_u!=-1){var _0h=this.tabLabels[_u],_4i=this.tabs[_u];ELEM.removeClassName(_0h,'item-bg');ELEM.addClassName(_0h,'item-fg');HSystem.views[_4i].show();}
this.selectIdx=_u;this.setValue(_u);},addTab:function(_3b,_8C){var _u=this.tabs.length,_5Z='',_7f=this.stringWidth(_3b,0),_3P=_7f+this.tabLabelLeftEdge+this.tabLabelRightEdge,_1M=new HTabView(new HRect(0,this.tabLabelHeight,this.rect.width,this.rect.height),this),_u=this.tabs.length,_0h=ELEM.make(this.markupElemIds[this.tabLabelParentElem],this.tabLabelElementTagName);if(this.tabLabelNoHTMLPrefix){_5Z=_3b;}
else{_5Z=this.tabLabelHTMLPrefix1+_7f+this.tabLabelHTMLPrefix2+_3b+this.tabLabelHTMLSuffix;}
_1M.hide();ELEM.addClassName(_0h,'item-bg');ELEM.setStyle(_0h,'width',_3P+'px');ELEM.setStyle(_0h,this.tabLabelAlign,this.rightmostPx+'px');ELEM.setHTML(_0h,_5Z);this.tabLabelStrings.push(_3b);if(this.tabTriggerLink&&this.tabLabelElementTagName=='a'){ELEM.setAttr(_0h,'href','javascript:HSystem.views['+this.viewId+'].selectTab('+_u+');');}
else if(this.tabTriggerLink){ELEM.setAttr(_0h,'mouseup','HSystem.views['+this.viewId+'].selectTab('+_u+');');}
else{this.tabLabelBounds.push([this.rightmostPx,this.rightmostPx+_3P]);}
this.rightmostPx+=_3P;if(this.tabLabelAlign=='right'){ELEM.setStyle(this.markupElemIds[this.tabLabelParentElem],'width',this.rightmostPx+'px');}
else if(this.tabLabelFillBg){ELEM.setStyle(this.markupElemIds.state,'left',this.rightmostPx+'px');}
this.tabs.push(_1M.viewId);this.tabLabels.push(_0h);_1M.tabIndex=_u;if(_8C){this.selectTab(_u);}
return _1M;},mouseDown:function(_5,_a){if(this.tabTriggerLink){this.setMouseDown(false);return;}
_5-=this.pageX();_a-=this.pageY();if(_a<=this.tabLabelHeight){if(this.tabLabelAlign=='right'){_5=this.rect.width-_5;}
if(_5<=this.rightmostPx){var i=0,_5h;for(i;i<this.tabLabelBounds.length;i++){_5h=this.tabLabelBounds[i];if(_5<_5h[1]&&_5>=_5h[0]){this.selectTab(i);return;}}}}},removeTab:function(_u){var _7H=this.selectIdx,_4i=this.tabs[_u],_0h=this.tabViews[_u];this.tabs.splice(_u,1);this.tabLabels.splice(_u,1);this.tabLabelBounds.splice(_u,1);this.tabLabelStrings.splice(_u,1);if(_u==_7H){this.selectIdx=-1;if(_u==0&&this.tabs.length==0){this.selectTab(-1);}
else if(_u==(this.tabs.length-1)){this.selectTab(_u-1);}
else{this.selectTab(_u);}}
else if(_u<_7H){this.selectIdx--;}
ELEM.del(_0h);HSystem.views[_4i].die();},draw:function(){var _1f=this.drawn;this.base();if(!_1f){this.drawMarkup();}
this.refresh();}});HImageButton=HControl.extend({componentName:"imagebutton",constructor:function(_1,_g,_2){if(this.isinherited){this.base(_1,_g,_2);}
else{this.isinherited=true;this.base(_1,_g,_2);this.isinherited=false;}
this.styleButtonDefaults=new(Base.extend({image:this.getThemeGfxPath()+"blank.gif",alternateImage:""}).extend(_2));this._0X=this.getThemeGfxPath()+this.styleButtonDefaults.image;this._4w=this.getThemeGfxPath()+this.styleButtonDefaults.alternateImage;this.type='[HImageButton]';this.preserveTheme=true;this.setMouseUp(true);if(!this.isinherited){this.draw();}},draw:function(){if(!this.drawn){this.drawRect();this.drawMarkup();this.drawn=true;}
this.refresh();},_8a:function(){if(!this.value){ELEM.get(this._2S).src=this._0X;}else{if(this._4w){ELEM.get(this._2S).src=this._4w;}}},refresh:function(){if(this.drawn){this.base();if(!this._2S){this._2S=this.bindDomElement(HImageButton._67+this.elemId);}
if(this._2S){this._8a();}}},mouseUp:function(_5,_a,_04){this.setValue(!this.value);}},{_67:"imagebutton"});var HClass=function(){if(arguments.length){var _4r=arguments[0];if(this==window){HClass.prototype.extend.call(_4r,arguments.callee.prototype);}else{this.extend(_4r);}}};HClass.prototype={extend:function(_0B,_8q){var _2d=HClass.prototype.extend;if(arguments.length==2){var _3j=this[_0B];if((_3j instanceof Function)&&(_8q instanceof Function)&&_3j.valueOf()!=_8q.valueOf()&&(/\bbase\b/).test(_8q)){var _3V=_8q;_8q=function(){var _7u=this.base;this.base=_3j;var _7C=_3V.apply(this,arguments);this.base=_7u;return _7C;};_8q.valueOf=function(){return _3V;};_8q.toString=function(){return String(_3V);};}
return this[_0B]=_8q;}else if(_0B){var _0O={toSource:null};var _5H=["toString","valueOf"];if(HClass._48){_5H.push("constructor");}
for(var i=0;(_C=_5H[i]);i++){if(_0B[_C]!=_0O[_C]){_2d.call(this,_C,_0B[_C]);}}
for(var _C in _0B){if(!_0O[_C]){_2d.call(this,_C,_0B[_C]);}}}
this.nu=function(){var _4y=[],_0=this;for(var i=0;i<arguments.length;i++){_4y.push('arguments['+i+']');}
return eval('new _0('+_4y.join(',')+')');};return this;},base:function(){}};HClass.extend=function(_0L,_4g){var _2d=HClass.prototype.extend;if(!_0L){_0L={};}
HClass._48=true;var _0O=new this;_2d.call(_0O,_0L);var _1u=_0O.constructor;_0O.constructor=this;delete HClass._48;var _1h=function(){if(!HClass._48){_1u.apply(this,arguments);}
this.constructor=_1h;};_1h.prototype=_0O;_1h.extend=this.extend;_1h.implement=this.implement;_1h.toString=function(){return String(_1u);};_2d.call(_1h,_4g);var _3Z=_1u?_1h:_0O;if(_3Z.init instanceof Function){_3Z.init();}
return _3Z;};HClass.implement=function(_2g){if(_2g instanceof Function){_2g=_2g.prototype;}
this.prototype.extend(_2g);};var Base=HClass;if([]['indexOf']===undefined){Object.extend=function(destination,source){for(property in source){destination[property]=source[property];}
return destination;};Object.extend(Array.prototype,{indexOf:function(_6p){var i=0,l=this.length;for(;i<l;i++){if(this[i]==_6p){return i;}}
return-1;}});}
try{if(window['console']===undefined){console={log:function(){}};}}catch(e){}
is_ie=!(navigator.userAgent.toLowerCase().indexOf("opera")>-1)&&navigator.appName=="Microsoft Internet Explorer";Array.prototype.toQueryString=function(){var i,l=this.length,_4z=[];for(i=0;i<l;i++){_4z.push(encodeURIComponent(this[i].key)+"="+
encodeURIComponent(this[i].value));}
return _4z.join("&");};Ajax=HClass.extend({constructor:null,getTransport:function(){if(window.XMLHttpRequest){return new XMLHttpRequest();}else if(is_ie){if(ScriptEngineMajorVersion()>=5){return new ActiveXObject("Msxml2.XMLHTTP");}else{return new ActiveXObject("Microsoft.XMLHTTP");}}else{return false;}}});Ajax.Request=HClass.extend({constructor:function(_p,_2){this.transport=Ajax.getTransport();if(!_2){_2={};}
var _w=HClass.extend({method:"post",asynchronous:true,contentType:"application/x-www-form-urlencoded",encoding:"UTF-8",parameters:""});_w=_w.extend(_2);this.options=new _w();this.request(_p);},request:function(_p){this.url=_p;if(this.options.method=="get"&&this.options.parameters.length){this.url+=(this.url.indexOf("?")>=0?"&":"?")+this.options.parameters.toQueryString();}
try{this.transport.open(this.options.method.toUpperCase(),this.url,this.options.asynchronous,this.options.username,this.options.password);var _q=this;this.transport.onreadystatechange=function(){_q.onStateChange();};this.setRequestHeaders();var _6r=this.options.method=="post"?(this.options.postBody||this.options.parameters.toQueryString()):null;this.transport.send(_6r);if(!this.options.asynchronous&&this.transport.overrideMimeType){this.onStateChange();}}catch(e){console.log('error:',e);}},setRequestHeaders:function(){var headers={},o;if(this.options.method=="post"){headers["Content-type"]=this.options.contentType+
(this.options.encoding?"; charset="+this.options.encoding:"");if(this.transport.overrideMimeType&&(navigator.userAgent.match(/Gecko\/(\d{4})/)||[0,2005])[1]<2005){headers["Connection"]="close";}}
for(o in headers){this.transport.setRequestHeader(o,headers[o]);}},onStateChange:function(){var _2o=this.transport.readyState;if(_2o>1){this.respondToReadyState(_2o);}},respondToReadyState:function(_2o){if(_2o==4){(this.options["on"+(this.success()?"Success":"Failure")]||(function(){console.log('aa');}))(this.transport);}
if(_2o==4){this.transport.onreadystatechange=function(){};}},success:function(){return(this.transport.status>=200&&this.transport.status<300);}});ELEMTickerInterval=10;BROWSER_TYPE={ie:false,ie6:false,ie7:false,opera:false,safari:false,firefox:false,firefox2:false};ELEM={_1u:function(){var _0=ELEM;_0._6M=false;_0._8D=[];_0._6J=null;_0._8E=false;_0._initDone=false;_0._90=0;_0._setStyleCount=0;_0._setStyleDiffCount=0;_0._8O=0;_0._getStyleMissCount=0;_0._flushLoopCount=0;_0._flushLoopFlushedCount=0;_0._flushStylCount=0;_0._flushTime=0;_0._flushCounter=0;_0._55=500;_0._timer=null;_0._1C=ELEMTickerInterval;_0._flushing=false;_0._needFlush=false;_0._5Q=1;_0._P=[];if(_0._6M){_0._Q={_83:[]};}else{_0._freeElemIds=[];}
_0._5T={};_0._1l={};_0._0r={};_0._0T={};_0._4V=[];_0._3A={};_0._blockElems=",ADDRESS,BLOCKQUOTE,CENTER,DIR,DIV,DL,FIELDSET,FORM,H1,H2,H3,H4,H5,H6,HR,ISINDEX,MENU,NOFRAMES,NOSCRIPT,OL,P,PRE,TABLE,UL,";},_8H:function(_4N,_E){if(!ELEM._6M){return;}
var _0=ELEM,i=0,_6a=[],_Q=_0._5a(_E),_2y=_Q._2y;for(;i!=_4N;i++){_6a.push(_0.make(_2y,_E));}
for(i=0;i!=_4N;i++){_0.del(_6a[i]);}},_6l:function(_7){var _4,_0,_P;_0=ELEM;_P=_0._P;_P.push(_7);_4=_P.length-1;return _4;},_8S:function(_4){var _0=ELEM;_0._1l[_4]=[];_0._5T[_4]={};_0._0r[_4]=[];_0._0T[_4]={};_0._3A[_4]=false;},bindId:function(_6I){var _0=ELEM,_7=document.getElementById(_6I),_9=_0._6l(_7);_0._8S(_9);return _9;},bind:function(_7){var _4,_0=ELEM;_4=_0._6l(_7);_0._8S(_4);return _4;},_97:function(_4,_7){var _0=ELEM;_0._P[_4]=_7;},get:function(_4){return ELEM._P[_4];},setHTML:function(_4,_0w){try{var _0=ELEM;if(!((typeof _0w==='string')||(typeof _0w==='number'))){return;}
_0._P[_4].innerHTML=_0w;}catch(e){}},_5a:function(_E){if(!ELEM._6M){return;}
var _0=ELEM,_Q=_0._Q;if(!_Q[_E]){_Q._83.push(_E);_Q[_E]=[];_Q[_E]._2J=1;_Q[_E]._20=0;_Q[_E]._2y=_0.make(_0._2y,'div');}
return _Q[_E]._2y;},del:function(_4){var _0=ELEM,_7=_0._P[_4];while(_0._flushing){}
_0._flushing=true;if(_0._6M){var _E=_7.tagName,_2y=_0._5a(_E),_Q=_0._Q[_E];_0.append(_4,_2y);}
var _4W=_0._4V.indexOf(_4);if(_4W!=-1){_0._4V.splice(_4W,1);}
_0._8S(_4);if(_0._6M){_Q._2J++;_Q.push(_4);}else{_0._freeElemIds.push(_4);var _7o=_7.parentNode;_7o.removeChild(_7);_7=null;_0._P[_4]=null;}
_0._flushing=false;},append:function(_7L,_2w){var _0B,_4m,_0;_0=ELEM;_0B=_0._P[_7L];_4m=_0._P[_2w];_4m.appendChild(_0B);},setCSS:function(_4,_8B){ELEM._P[_4].style.cssText=_8B;},getCSS:function(_4){return ELEM._P[_4].style.cssText;},getVisibleSize:function(_4){var _0,_7,w,h,_m,_37,_0=ELEM,_7=_0._P[_4],w=_7.offsetWidth,h=_7.offsetHeight,_m=_7.parentNode;while(_m&&_m.nodeName.toLowerCase()!='body'){if(!_0._2U){_37=document.defaultView.getComputedStyle(_m,null).getPropertyValue('overflow');}
else{_37=_m.currentStyle.getAttribute('overflow');}
_37=_37!='visible';if(w>_m.clientWidth&&_37){w=_m.clientWidth-_7.offsetLeft;}
if(h>_m.clientHeight&&_37){h=_m.clientHeight-_7.offsetTop;}
_7=_7.parentNode;_m=_7.parentNode;}
return[w,h];},getSize:function(_4){var _0,_7,w,h,_m,_37,_0=ELEM,_7=_0._P[_4],w=_7.offsetWidth,h=_7.offsetHeight;return[w,h];},getScrollSize:function(_4){var _0,_7,w,h,_m,_37,_0=ELEM,_7=_0._P[_4],w=_7.scrollWidth,h=_7.scrollHeight;return[w,h];},getVisiblePosition:function(_4){var x,y,_7,_0,_0=ELEM,x=0,y=0,_7=_0._P[_4];while(_7!==document){x+=_7.offsetLeft;y+=_7.offsetTop;x-=_7.scrollLeft;y-=_7.scrollTop;_7=_7.parentNode;if(!_7){break;}}
return[x,y];},getOpacity:function(_4){var _0,_0f,_4n,_2Q;_0=ELEM;_2Q=_0.getStyle;if(_0f=_2Q(_4,'-khtml-opacity')){return parseFloat(_0f);}
if(_0f=_2Q(_4,'-moz-opacity')){return parseFloat(_0f);}
_4n=_2Q(_4,'opacity',true);if(_0f=_4n||(_4n==0)){return parseFloat(_0f);}
if(_0f=(_0._P[_4].currentStyle['filter']||'').match(/alpha\(opacity=(.*)\)/)){if(_0f[1]){return parseFloat(_0f[1])/100;}}
return 1.0;},setOpacity:function(_4,_8q){var _0=ELEM;if(_8q==1&&_0._2U){_0._P[_4].style.setAttribute('filter',_0.getStyle(_4,'filter',true).replace(/alpha\([^\)]*\)/gi,''));}else{if(_8q<0.00001){_8q=0;}
if(_0._2U){_0._P[_4].style.setAttribute('filter',_0.getStyle(_4,'filter',true).replace(/alpha\([^\)]*\)/gi,'')+'alpha(opacity='+_8q*100+')');}else{_0._P[_4].style.setProperty('opacity',_8q,'');}}},getIntStyle:function(_4,_0K){var _8q=ELEM.getStyle(_4,_0K);return parseInt(_8q,10);},setBoxCoords:function(_4,_0j){ELEM.setStyle(_4,'left',_0j[0]+'px');ELEM.setStyle(_4,'top',_0j[1]+'px');ELEM.setStyle(_4,'width',_0j[2]+'px');ELEM.setStyle(_4,'height',_0j[3]+'px');},getExtraWidth:function(_4){var _0M=ELEM.getIntStyle;return _0M(_4,'padding-left')+_0M(_4,'padding-right')+_0M(_4,'border-left-width')+_0M(_4,'border-right-width');},getExtraHeight:function(_4){var _0M=ELEM.getIntStyle;return _0M(_4,'padding-top')+_0M(_4,'padding-bottom')+_0M(_4,'border-top-width')+_0M(_4,'border-bottom-width');},setFPS:function(_0J){ELEM._1C=1000/_0J;if(ELEM._1C<ELEMTickerInterval){ELEM._1C=ELEMTickerInterval;}},setSlowness:function(_5Q){ELEM._5Q=_5Q;},setIdleDelay:function(_55){ELEM._55=_55;},_8Q:false,flushLoop:function(_0s){var _0=ELEM;_0._flushLoopCount++;if(_0._2h&&(_0._flushLoopCount%5==0)&&_0._8Q){iefix._0i();_0._8Q=false;}
clearTimeout(_0._timer);if(_0._flushing){_0s*=2;_0._timer=setTimeout('ELEM.flushLoop('+_0s+');',_0s);return;}else{if(!_0._needFlush){if(_0._2h&&_0._8Q){iefix._0i();_0._8Q=false;}
_0._timer=setTimeout('ELEM.flushLoop('+_0s+');',_0._55);return;}
_0s=parseInt(_0._5Q*(_0._flushTime/_0._flushCounter),ELEMTickerInterval);if(_0s<_0._1C||!_0s){_0s=_0._1C;}
_0._flushing=true;_0._timer=setTimeout('ELEM.flushLoop('+_0s+');',_0s);}
_0._flushTime-=new Date().getTime();var _3S,_24,i,_1l;_4V=_0._4V;_3S=_4V.length;_24=_4V.splice(0,_3S);var _8J=new Date().getTime();for(i=0;i<_3S;i++){_0._flushLoopFlushed++;var _4=_24.pop();_0._3A[_4]=false;_0._6U(_4);_0._8I(_4);}
_0._flushCounter++;_0._flushTime+=new Date().getTime();if(_0._4V.length==0&&_0._needFlush){_0._needFlush=false;}
_0._flushing=false;},_8I:function(_4){var _0=ELEM,_0r=_0._0r[_4],_0T=_0._0T[_4],_7=_0._P[_4],_0K,_2B,i,_54=_0r.length,_24=_0r.splice(0,_54);for(i=0;i!=_54;i++){_0K=_24.pop();_2B=_0T[_0K];_7.setAttribute(_0K,_2B);}},getAttr:function(_4,_0K,_0U){var _0=ELEM,_4B=_0._0T[_4][_0K],_2B;if(_4B!==undefined&&!_0U){return _4B;}
var _7=_0._P[_4];if(_7.getAttribute(_0K)==null){_7[_0K]='';}
_2B=_7.getAttribute(_0K);_0._0T[_4][_0K]=_2B;return _2B;},setAttr:function(_4,_0K,_8q,_0U){var _27,_0=ELEM,_0r=_0._0r[_4],_0T=_0._0T[_4];_27=_8q!=_0.getAttr(_4,_0K);if(_27){_0T[_0K]=_8q;if(_0U){_0._P[_4].setAttribute(_0K,_8q);}
else{if(_0r.indexOf(_0K)==-1){_0r.push(_0K);}
if(!_0._3A[_4]){_0._4V.push(_4);_0._3A[_4]=true;_0._8y();}}}},delAttr:function(_4,_0K){var _27,_0=ELEM,_0r=_0._0r[_4],_0T=_0._0T[_4];delete _0T[_0K];_0._P[_4].removeAttribute(_0K);if(_0r.indexOf(_0K)!=-1){_0r.splice(_0r.indexOf(_0K,1));}
if(_0._3A[_4]){_0._4V.splice(_0._4V.indexOf(_4,1));_0._3A[_4]=false;_0._8y();}},hasClassName:function(_9,_1r){var _6=ELEM.get(_9);if(!_6)return;var _4Y=false;var _1s=_6.className.split(' ');for(var i=0;i<_1s.length;i++){if(_1s[i]==_1r){_4Y=true;}}
return _4Y;},addClassName:function(_9,_1r){var _6=ELEM.get(_9);if(!_6)return;ELEM.removeClassName(_9,_1r);_6.className+=' '+_1r;},removeClassName:function(_9,_1r){var _6=ELEM.get(_9);if(!_6)return;var _3X='';var _1s=_6.className.split(' ');for(var i=0;i<_1s.length;i++){if(_1s[i]!=_1r){if(i>0)_3X+=' ';_3X+=_1s[i];}}
_6.className=_3X;},_8y:function(){var _0=ELEM;if(!_0._needFlush){_0._needFlush=true;if(!_0._flushing){clearTimeout(_0._timer);_0._timer=setTimeout('ELEM.flushLoop('+_0._1C+');',_0._1C);}}},setStyle:function(_4,_0K,_8q,_0U){var _0=ELEM,_y=_0._5T[_4],_4X=_0._P,_27,_1l;_0._setStyleCount++;if(_y===undefined){_0._8S(_4);var _y=_0._5T[_4];}
_27=_8q!==_y[_0K];if(_27){_0._setStyleDiffCount++;_y[_0K]=_8q;if(_0U){if(_0K=='opacity'){_0.setOpacity(_4,_8q);}
else{_0._2U?(_4X[_4].style.setAttribute(_0K.replace(/((-)([a-z])(\w))/g,function($0,$1,$2,$3,$4){return $3.toUpperCase()+$4;}),_y[_0K])):(_4X[_4].style.setProperty(_0K,_y[_0K],''));}
if(_0._2h){if(iefix._3e.indexOf(_0K)!=-1){_0._8Q=true;}}}else{_3A=_0._3A;_1l=_0._1l[_4];if(_1l.indexOf(_0K)==-1){_1l.push(_0K);}
if(!_3A[_4]){_0._4V.push(_4);_3A[_4]=true;_0._8y();}}}},make:function(_2w,_E){if(_2w===undefined){_2w=0;}
if(_E===undefined){_E='DIV';}else{_E=_E.toUpperCase();}
var _0=ELEM,_7,_4;_0._90++;if(_0._6M){if(_0._Q[_E]){if(_0._Q[_E].length!=0){_4=_0._Q[_E].pop();_0._Q[_E]._20++;_7=_0._P[_4];if(_0._blockElems.indexOf(','+_E+',')!=-1){_0.setCSS(_4,'display:block;');}else{_0.setCSS(_4,'display:inline;');}
_0.append(_4,_2w);return _4;}}}
_7=document.createElement(_E);_0._P[_2w].appendChild(_7);_4=_0._6l(_7);_0._8S(_4);return _4;},windowSize:function(){var _0H,_6Z;_0H=(window.innerWidth)?window.innerWidth:document.documentElement.clientWidth;_6Z=(window.innerHeight)?window.innerHeight:document.documentElement.clientHeight;return[_0H,_6Z];},_58:function(){var _0=ELEM,_19,_3q;var _3G=["ELEM.getStyle=function(_4,_0K,_0U){","var _0=ELEM,_y=_0._5T[_4],_2q;_0._8O++;","if((_y[_0K]===undefined)||_0U){","if(!_0U){_0._getStyleMissCount++;}","if((_0K=='opacity')&&_0U){_2q=_0.getOpacity(_4);}","else{","_2q=document.defaultView.getComputedStyle(_0._P[_4],null).getPropertyValue(_0K);","_6t=_0K.replace(/((-)([a-z])(\\w))/g,function($0,$1,$2,$3,$4){","return $3.toUpperCase()+$4});","_2q=_0._P[_4].currentStyle[_6t];","}_y[_0K]=_2q;","}return _y[_0K];};"];if(_0._2U){_3G.splice(6,1);}else{_3G.splice(7,3);}
eval(_3G.join(''));var _3C=["ELEM._6U=function(_4){","var _0=ELEM,_1l=_0._1l[_4],_y=_0._5T[_4],_7=_0._P[_4],_29,_5m,_4I,_0K,_24,_2q;","if(!_7){return;}","_29=_7.style;","_5m=_1l.length;","_24=_1l.splice(0,_5m);","for(_4I=0;_4I!=_5m;_4I++){","_0K=_24.pop();_0._flushStylCount++;","if(_0K=='opacity'){_2q=_0.getOpacity(_4,_y[_0K]);}else{","if(_0._2h){if(iefix._3e.indexOf(_0K)!=-1){_0._8Q=true;}}try{_29.setAttribute(_0K.replace(/((-)([a-z])(\\w))/g,function($0,$1,$2,$3,$4){return $3.toUpperCase()+$4}),_y[_0K]);}catch(e){}}}};","_29.setProperty(_0K,_y[_0K],'');}}};"];if(_0._2U){_3C.pop();}else{_3C.splice(9,1);}
eval(_3C.join(''));_0.bind(document.body);if(_0._6M){_0._2y=_0.make(0,'div');_0.setCSS(_0._2y,"display:none;visibility:hidden;");_0.setAttr(_0._2y,'id','trashcan_'+_0._2y);}
_0._timer=setTimeout('ELEM.flushLoop('+_0._1C+')',_0._1C);if(!_0._8D){return;}
while(_0._8D.length!=0){_19=_0._8D.shift();if(typeof _19=='string'){_3q=eval(_19);if(typeof _3q=='string'){_0._8D.push(_3q);}}}
_0._initDone=true;},_8k:function(){_0=ELEM;_0._2U=(document.all&&navigator.userAgent.indexOf("Opera")==-1)?true:false;_0._2h=(_0._2U&&navigator.userAgent.indexOf("MSIE 6")!=-1)?true:false;_0._8V=(_0._2U&&navigator.userAgent.indexOf("MSIE 7")!=-1)?true:false;_0._8X=(navigator.userAgent.indexOf("KHTML")!=-1)?true:false;_0._is_ff=(navigator.userAgent.indexOf("Firefox")!=-1)?true:false;_0._8U=(navigator.userAgent.indexOf("Firefox/3.")!=-1)?true:false;_0._8W=(navigator.userAgent.indexOf("Opera")!=-1)?true:false;BROWSER_TYPE={opera:_0._8W,safari:_0._8X,firefox:_0._is_ff,ie:_0._2U,ie6:_0._2h,ie7:_0._8V,firefox3:_0._8U};_0._6K();},_4R:function(_19){var _0=ELEM;if(typeof _19=='string'){if(_0._initDone==true){eval(_19);}else{_0._8D.push(_19);}}},_6K:function(){var _8Y=false;var _0=ELEM;if(_0._2U){var _56="javascript:void(0)";if(location.protocol=="https:"){_56="src=//0";}
document.write("<scr"+"ipt id=_6j defer src="+_56+"><\/scr"+"ipt>");var _78=document.getElementById("_6j");_78.onreadystatechange=function(){if(this.readyState=="complete"){ELEM._8E=true;ELEM._58();delete ELEM._8D;clearTimeout(ELEM._6J);delete ELEM._6J;}};return;}
else if((/KHTML|WebKit/i.test(navigator.userAgent))&&(/loaded|complete/.test(document.readyState))){_0._8E=true;}
else if(document.body){_0._8E=true;}
if(!_0._8E){_0._6J=setTimeout('ELEM._6K()',ELEMTickerInterval*10);}else{_0._58();delete _0._8D;clearTimeout(_0._6J);delete _0._6J;}}};ELEM._1u();RUN=ELEM._4R;LOAD=ELEM._4R;ELEM._8k();Event={element:function(e){return e.target||e.srcElement;},pointerX:function(e){return e.pageX||e.clientX+document.documentElement.scrollLeft;},pointerY:function(e){return e.pageY||e.clientY+document.documentElement.scrollTop;},stop:function(e){if(e.preventDefault){e.preventDefault();e.stopPropagation();}
else{e.returnValue=false;e.cancelBubble=true;}},isLeftClick:function(e){if(ELEM._2U||ELEM._8X){return(e.button==1);}
else{return(e.button==0);}},observers:false,_7i:function(_7,_C,_2e,_2A){if(!Event.observers){Event.observers=[];}
if(_7.addEventListener){this.observers.push([_7,_C,_2e,_2A]);_7.addEventListener(_C,_2e,_2A);}
else if(_7.attachEvent){this.observers.push([_7,_C,_2e,_2A]);_7.attachEvent("on"+_C,_2e);}},unloadCache:function(){if(!Event.observers){return;}
var i,l=Event.observers.length;for(i=0;i<l;i++){Event.stopObserving.apply(this,Event.observers[0]);}
Event.observers=false;},observe:function(_7,_C,_2e,_2A){_2A=_2A||false;Event._7i(_7,_C,_2e,_2A);},stopObserving:function(_7,_C,_2e,_2A){_2A=_2A||false;if(_7.removeEventListener){_7.removeEventListener(_C,_2e,_2A);}
else if(detachEvent){_7.detachEvent("on"+_C,_2e);}
var i=0;while(i<Event.observers.length){var eo=Event.observers[i];if(eo&&eo[0]==_7&&eo[1]==_C&&eo[2]==_2e&&eo[3]==_2A){Event.observers[i]=null;Event.observers.splice(i,1);}
else{i++;}}},KEY_BACKSPACE:8,KEY_TAB:9,KEY_RETURN:13,KEY_ESC:27,KEY_LEFT:37,KEY_UP:38,KEY_RIGHT:39,KEY_DOWN:40,KEY_DELETE:46,KEY_HOME:36,KEY_END:35,KEY_PAGEUP:33,KEY_PAGEDOWN:34};if(ELEM._2U){Event.observe(window,"unload",Event.unloadCache,false);}
_4P={mouseMove:false,mouseDown:false,click:false,mouseUp:false,draggable:false,droppable:false,keyDown:false,keyUp:false,mouseWheel:false,isDragged:false,textEnter:false};EVENT={status:[false,false,0,0,[],false,false,false],button1:0,button2:1,crsrX:2,crsrY:3,keysDown:4,altKeyDown:5,ctrlKeyDown:6,shiftKeyDown:7,start:function(){var _3H,_3B,i,_0=EVENT;if(ELEM._2U){_3H=document;}
else{_3H=window;}
_3B=[['mousemove',EVENT.mouseMove],['mouseup',EVENT.mouseUp],['mousedown',EVENT.mouseDown],['click',EVENT.click],['keyup',EVENT.keyUp],['keydown',EVENT.keyDown],['keypress',EVENT.keyPress],['contextmenu',EVENT.contextMenu],['resize',EVENT.resize],['mousewheel',EVENT.mouseWheel]];for(i=0;i!=_3B.length;i++){Event.observe(_3H,_3B[i][0],_3B[i][1]);}
if(window.addEventListener){window.addEventListener('DOMMouseScroll',EVENT.mouseWheel,false);}
_0.listeners=[];_0.focused=[];_0.resizeListeners=[];_0.coordListeners=[];_0.focusOptions={};_0.dragItems=[];_0.hovered=[];_0.hoverInterval=50;_0.hoverTimer=new Date().getTime();_0.topmostDroppable=null;_0.textEnterCtrls=[];_0._3r=[];_0._coordCacheFlag=true;_0._lastCoordFlushTimeout=null;_0.activeControl=null;_0._lastKeyDown=null;},coordCacheFlush:function(_9){if(_9){EVENT._3r[_9]=null;}
else{EVENT._3r=[];}},reg:function(_c,_0W){var _9,_7,_0=EVENT,_7v;_9=_c.elemId;_7=ELEM.get(_9);if(ELEM._2U){_7.setAttribute('ctrl',_c);}
else{_7.ctrl=_c;}
_0.listeners[_9]=true;_0.focused[_9]=false;for(var _7v in _4P){if(_0W[_7v]===undefined){_0W[_7v]=_4P[_7v];}}
_0.focusOptions[_9]=_0W;var _3s=_0.coordListeners.indexOf(_9);if(_0W.mouseMove){if(_3s==-1){_0.coordListeners.push(_9);}}
else if(_3s!=-1){_0.coordListeners.splice(_3s,1);}
if(_0W.textEnter){if(_0.textEnterCtrls.indexOf(_c.viewId)==-1){_0.textEnterCtrls.push(_c.viewId);}}
if(_0W.resize){if(_0.resizeListeners.indexOf(_c.viewId)==-1){_0.resizeListeners.push(_c.viewId);}}
Event.observe(_7,'mouseover',_0._5t);},unreg:function(_c){var _0=EVENT,_9,_7;if(_c===this.activeControl){_0.changeActiveControl(null);}
_9=_c.elemId;_7=ELEM.get(_9);this.listeners[_9]=false;this.focused[_9]=false;this._3r[_9]=null;var _61=_0.textEnterCtrls.indexOf(_c.viewId);if(_61!=-1){_0.textEnterCtrls.splice(_61,1);}
var _5K=_0.resizeListeners.indexOf(_c.viewId);if(_5K!=-1){_0.resizeListeners.splice(_5K,1);}
Event.stopObserving(_7,'mouseover',_0._5t);},resize:function(e){var i=0,_0=EVENT,_2N,_c;for(;i<_0.resizeListeners.length;i++){_2N=_0.resizeListeners[i];_c=HSystem.views[_2N];if(_c.onResize){_c.onResize();}}},_5t:function(e){if(!Event.element){return;}
var _o=Event.element(e);while(_o&&_o.ctrl===undefined){_o=_o.parentNode;}
if(!_o){return;}
var _0=_o.ctrl;EVENT.focus(_0);Event.stop(e);},_5s:function(e){if(!Event.element){return;}
var _o=Event.element(e);while(_o&&_o.ctrl===undefined){_o=_o.parentNode;}
if(!_o){return;}
var _0=_o.ctrl;EVENT.blur(_0);Event.stop(e);},focus:function(_c){var _0=EVENT,_9,_7;_9=_c.elemId;_7=ELEM.get(_9);if(_0.focused[_9]==false&&_0.focusOptions[_9].isDragged==false){Event.stopObserving(_7,'mouseover',_0._5t);Event.observe(_7,'mouseout',_0._5s);_0.focused[_9]=true;if(_c['focus']){_c.focus();}}},blur:function(_c){var _0=EVENT,_9,_7;_9=_c.elemId;_7=ELEM.get(_9);if(_0.focused[_9]==true&&_0.focusOptions[_9].isDragged==false){Event.stopObserving(_7,'mouseout',_0._5s);Event.observe(_7,'mouseover',_0._5t);_0.focused[_9]=false;if(_c['blur']){_c.blur();}}},mouseMove:function(e){var _0=EVENT,x,y,_1w;x=Event.pointerX(e);y=Event.pointerY(e);_0.status[_0.crsrX]=x;_0.status[_0.crsrY]=y;_1w=_0.flushMouseMove(x,y);_0._91(e);if(_1w){Event.stop(e);}},flushMouseMove:function(x,y){var _0=EVENT,x,y,_1w,i,j,_9,_c;clearTimeout(_0._lastCoordFlushTimeout);_1w=false;for(i=0;i!=_0.dragItems.length;i++){_9=_0.dragItems[i];_0.focusOptions[_9].ctrl.doDrag(x,y);_0.coordCacheFlush(_9);_1w=true;}
if(new Date().getTime()>_0.hoverTimer+_0.hoverInterval){for(i=0;i!=_0.coordListeners.length;i++){_9=_0.coordListeners[i];_c=_0.focusOptions[_9].ctrl;_c.mouseMove(x,y);}
_0._9r();var _3g;for(i=0;i!=_0.dragItems.length;i++){_3g=_0.topmostDroppable;_0.topmostDroppable=null;_9=_0.dragItems[i];_c=_0.focusOptions[_9].ctrl;var _2R,_28;for(j=0;j!=_0.hovered.length;j++){_2R=_0.hovered[j];if(_2R!=_9&&_0.focusOptions[_2R].ctrl){_28=_0.focusOptions[_2R].ctrl;if(!_0.topmostDroppable||_28.zIndex()>_0.topmostDroppable.zIndex()||_28.supr===_0.topmostDroppable){if(_0.focusOptions[_28.elemId].droppable){_0.topmostDroppable=_28;}}}}
if(_3g!=_0.topmostDroppable){if(_3g){_3g.onHoverEnd(_c);}
if(_0.topmostDroppable){_0.topmostDroppable.onHoverStart(_c);}}}
_0.hoverTimer=new Date().getTime();}
else{_0._lastCoordFlushTimeout=setTimeout('EVENT.flushMouseMove('+x+','+y+');',_0.hoverInterval);}
return _1w;},_9r:function(){var _0=EVENT,x,y,i,_c,_7,_43,_5P,_0j;_0.hovered=[];x=_0.status[_0.crsrX];y=_0.status[_0.crsrY];for(i=0;i!=_0.listeners.length;i++){if(!_0.listeners[i]||!_0.focusOptions[i].ctrl){continue;}
_c=_0.focusOptions[i].ctrl;_7=ELEM.get(i);if(!_0._coordCacheFlag||!_0._3r[i]){_43=ELEM.getVisiblePosition(_c.elemId);_5P=ELEM.getVisibleSize(_c.elemId);_0._3r[i]=[_43[0],_43[1],_5P[0],_5P[1]];}
_0j=_0._3r[i];if(x>=_0j[0]&&x<=_0j[0]+_0j[2]&&y>=_0j[1]&&y<=_0j[1]+_0j[3]){_0.hovered.push(i);}}},mouseDown:function(e,_04){var _0=EVENT,_3w,x,y,i,_J,_12,_2Z;_0._91(e);_3w=false;if(_04===undefined){_04=Event.isLeftClick(e);}
if(_04){_0.status[_0.button1]=true;}
else{_0.status[_0.button2]=true;}
x=_0.status[_0.crsrX];y=_0.status[_0.crsrY];_J=null;_12=[];_2Z=[];for(i=0;i!=_0.focused.length;i++){if(_0.focused[i]==true){if(_0.focusOptions[i].ctrl.enabled){_J=_0.focusOptions[i].ctrl;}
if((_0.focusOptions[i].draggable==true)&&_0.dragItems.indexOf(i)==-1){_12.push(i);}
else if(_0.focusOptions[i].mouseDown==true){_2Z.push(i);}}}
if(_J){_0.changeActiveControl(_J);}
for(i=0;i!=_12.length;i++){_0.dragItems.push(_12[i]);_0.focusOptions[_12[i]].ctrl.startDrag(x,y);_3w=true;}
var _2v=_2Z.length;for(i=0;i!=_2Z.length;i++){if(_0.focusOptions[_2Z[i]].ctrl.mouseDown(x,y,_04)){_2v--;}}
if(_3w){document.body.focus();_0._storedOnSelectStart=document.onselectstart;document.onselectstart=function(){return false;};}
if((_2v==0)&&(_0.hovered.length!=0)&&(_J&&(_J.textElemId===false))){Event.stop(e);}
return true;},click:function(e,_04){var _0=EVENT,x,y,i,_J,_3p;_0._91(e);if(_04===undefined){_04=Event.isLeftClick(e);}
if(_04){_0.status[_0.button1]=true;}
else{_0.status[_0.button2]=true;}
x=_0.status[_0.crsrX];y=_0.status[_0.crsrY];_J=null;_3p=[];for(i=0;i!=_0.focused.length;i++){if(_0.focused[i]==true){if(_0.focusOptions[i].ctrl.enabled){_J=_0.focusOptions[i].ctrl;}
if(_0.focusOptions[i].click==true){_3p.push(i);}}}
if(_J){_0.changeActiveControl(_J);}
var _2v=_3p.length;for(i=0;i!=_3p.length;i++){if(_0.focusOptions[_3p[i]].ctrl.click(x,y,_04)){_2v--;}}
if((_2v==0)&&(_0.hovered.length!=0)&&(_J&&(_J.textElemId===false))){Event.stop(e);}
return true;},changeActiveControl:function(_c){var _0=EVENT,_1I;_1I=_0.activeControl;if(_c!=_1I){if(_1I){_1I.active=false;_1I._7g(_c);}
_0.activeControl=null;if(_c){_c.active=true;_0.activeControl=_c;_c._6Y(_1I);}}},mouseUp:function(e){var _0=EVENT,_3v,x,y,_9,_c,i;_0._91(e);_3v=false;_04=Event.isLeftClick(e);_0.status[_0.button1]=false;_0.status[_0.button2]=false;x=_0.status[_0.crsrX];y=_0.status[_0.crsrY];for(i=0;i!=_0.dragItems.length;i++){_9=_0.dragItems[i];_c=_0.focusOptions[_9].ctrl;_c.endDrag(x,y);_3v=true;_0._9r();if(_0.hovered.indexOf(_9)==-1){_0.blur(_c);}
if(_0.topmostDroppable){_0.topmostDroppable.onHoverEnd(_c);_0.topmostDroppable.onDrop(_c);_0.topmostDroppable=null;}}
_0.dragItems=[];if(_3v){document.onselectstart=_0._storedOnSelectStart;}
for(i=0;i!=_0.focused.length;i++){if(_0.focused[i]==true){if(_0.focusOptions[i].mouseUp==true){_0.focusOptions[i].ctrl.mouseUp(x,y,_04);}}}
return true;},keyDown:function(e){var _0=EVENT,_0F;_0._91(e);_0F=e.keyCode;if(_0.activeControl&&_0.focusOptions[_0.activeControl.elemId].keyDown==true){Event.stop(e);if(_0._lastKeyDown!=_0F){_0.activeControl.keyDown(_0F);}}
if(_0.status[_0.keysDown].indexOf(_0F)==-1){_0.status[_0.keysDown].push(_0F);}
_0._lastKeyDown=_0F;},keyUp:function(e){var _0=EVENT,_0F,_keycodeindex;_0._91(e);_0F=e.keyCode;_0._lastKeyDown=null;for(var i=0;i!=_0.textEnterCtrls.length;i++){var _2N=_0.textEnterCtrls[i],_c=HSystem.views[_2N];if(_c.textEnter){_c.textEnter();}}
if(_0.activeControl&&_0.focusOptions[_0.activeControl.elemId].keyUp==true){_0.activeControl.keyUp(_0F);}
_5e=_0.status[_0.keysDown].indexOf(_0F);if(_5e!=-1){_0.status[_0.keysDown].splice(_5e,1);}},keyPress:function(e){var _0=EVENT;if(_0.activeControl&&_0.focusOptions[_0.activeControl.elemId].keyDown==true){Event.stop(e);}},mouseWheel:function(e){var _0=EVENT,_Z,i;_Z=0;if(!e){e=window.event;}
if(e.wheelDelta){_Z=e.wheelDelta/120;if(window.opera){_Z=-_Z;}}
else if(e.detail){_Z=-e.detail/3;}
for(i=0;i!=_0.focused.length;i++){if(_0.focused[i]==true){if(_0.focusOptions[i].mouseWheel==true){Event.stop(e);_0.focusOptions[i].ctrl.mouseWheel(_Z);}}}},contextMenu:function(e){EVENT.mouseDown(e,false);Event.stop(e);},_91:function(e){var _0=EVENT;_0.status[_0.altKeyDown]=e.altKey;_0.status[_0.ctrlKeyDown]=e.ctrlKey;_0.status[_0.shiftKeyDown]=e.shiftKey;}};LOAD('EVENT.start();');SHA={_53:0,hexCase:function(){return SHA._53;},setHexCase:function(_6u){SHA._53=_6u;},_4C:"=",base64Pad:function(){return SHA._4C;},setBase64Pad:function(_7n){SHA._4C=_7n;},_4H:8,chrsz:function(){return SHA._4H;},setChrsz:function(_6q){SHA._4H=_6q;},hexSHA1:function(_11){var _0=SHA;return _0._8w(_0._8A(_0._9n(_11),_11.length*_0._4H));},b64SHA1:function(_11){var _0=SHA;return _0._8v(_0._8A(_0._9n(_11),_11.length*_0._4H));},strSHA1:function(_11){var _0=SHA;return _0._8x(_0._8A(_0._9n(_11),_11.length*_0._4H));},hexHmacSHA1:function(_0K,_0d){var _0=SHA;return _0._8w(_0._8z(_0K,_0d));},b64HmacSHA1:function(_0K,_0d){var _0=SHA;return _0._8v(_0._8z(_0K,_0d));},strHmacSHA1:function(_0K,_0d){var _0=SHA;return _0._8x(_0._8z(_0K,_0d));},str2Base64:function(_K){var _0=SHA;return _0._8v(_0._9n(_K));},test:function(){return SHA.hexSHA1("abc")=="a9993e364706816aba3e25717850c26c9cd0d89d";},_8A:function(_5,_3R){var _0=SHA;_5[_3R>>5]|=0x80<<(24-_3R%32);_5[((_3R+64>>9)<<4)+15]=_3R;var _0H=new Array(80),_17=1732584193,_Y=-271733879,_06=-1732584194,_07=271733878,_1z=-1009589776,i,_5x,_5y,_5z,_5A,_5B,j,_X;for(i=0;i<_5.length;i+=16){_5x=_17;_5y=_Y;_5z=_06;_5A=_07;_5B=_1z;for(j=0;j<80;j++){if(j<16){_0H[j]=_5[i+j];}
else{_0H[j]=_0._9h(_0H[j-3]^_0H[j-8]^_0H[j-14]^_0H[j-16],1);}
_X=_0._9i(_0._9i(_0._9h(_17,5),_0._9k(j,_Y,_06,_07)),_0._9i(_0._9i(_1z,_0H[j]),_0._9l(j)));_1z=_07;_07=_06;_06=_0._9h(_Y,30);_Y=_17;_17=_X;}
_17=_0._9i(_17,_5x);_Y=_0._9i(_Y,_5y);_06=_0._9i(_06,_5z);_07=_0._9i(_07,_5A);_1z=_0._9i(_1z,_5B);}
return[_17,_Y,_06,_07,_1z];},_9k:function(_X,_Y,_06,_07){if(_X<20){return(_Y&_06)|((~_Y)&_07);}
if(_X<40){return _Y^_06^_07;}
if(_X<60){return(_Y&_06)|(_Y&_07)|(_06&_07);}
return _Y^_06^_07;},_9l:function(_X){return(_X<20)?1518500249:(_X<40)?1859775393:(_X<60)?-1894007588:-899497514;},_8z:function(_0K,_0d){var _0=SHA,_1U=_0._9n(_0K),_5d=new Array(16),_5C=new Array(16),i,_50;if(_1U.length>16){_1U=_0._8A(_1U,_0K.length*_0._4H);}
for(i=0;i<16;i++){_5d[i]=_1U[i]^0x36363636;_5C[i]=_1U[i]^0x5C5C5C5C;}
_50=_0._8A(_5d.concat(_0._9n(_0d)),512+_0d.length*_0._4H);return _0._8A(_5C.concat(_50),512+160);},_9i:function(_5,_a){var _5n=(_5&0xFFFF)+(_a&0xFFFF),_7h=(_5>>16)+(_a>>16)+(_5n>>16);return(_7h<<16)|(_5n&0xFFFF);},_9h:function(_34,_4J){return(_34<<_4J)|(_34>>>(32-_4J));},_9n:function(_K){var _0=SHA,_1T=[],_3U=(1<<_0._4H)-1,_7S=_K.length*_0._4H,i;for(i=0;i<_7S;i+=_0._4H){_1T[i>>5]|=(_K.charCodeAt(i/_0._4H)&_3U)<<(32-_0._4H-i%32);}
return _1T;},_8x:function(_1T){var _0=SHA,_K="",_3U=(1<<_0._4H)-1,i,_3m=_1T.length*32,_6h=32-_0._4H;for(i=0;i<_3m;i+=_0._4H){_K+=String.fromCharCode((_1T[i>>5]>>>(_6h-i%32))&_3U);}
return _K;},_8w:function(_0I){var _0=SHA,_52=_0._53?"0123456789ABCDEF":"0123456789abcdef",_K="",i,_3l=_0I.length*4;for(i=0;i<_3l;i++){_K+=_52.charAt((_0I[i>>2]>>((3-i%4)*8+4))&0xF)+
_52.charAt((_0I[i>>2]>>((3-i%4)*8))&0xF);}
return _K;},_8v:function(_0I){var _0=SHA,_1M="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_K="",i,_3l=_0I.length*4,_5X,_5Y,_8q,_6b,j,_3m=_0I.length*32;for(i=0;i<_3l;i+=3){_5X=(((_0I[i>>2]>>8*(3-i%4))&0xFF)<<16);_5Y=(((_0I[i+1>>2]>>8*(3-(i+1)%4))&0xFF)<<8);_7Z=((_0I[i+2>>2]>>8*(3-(i+2)%4))&0xFF);_6b=(_5X|_5Y|_7Z);for(j=0;j<4;j++){if(i*8+j*6>_3m){_K+=_0._4C;}
else{_K+=_1M.charAt((_6b>>6*(3-j))&0x3F);}}}
return _K;}};HTransportURL=false;HTransportPoll=true;HFailPageUrl='/';HTransporterMaxRetryCount=60;HTransporterMaxRetryTime=60000;HTransporterRetryDelay=1000;HTransporterDebug=false;HTransporter=HClass.extend({constructor:null,start:function(_8d){var _0=HTransporter;_0.url_base=_8d;_0.ses_id=0;_0.err_msg='';_0.isBusy=false;_0.syncNum=0;_0.syncDelay=100;_0.prevData='';_0.failCount=0;_0.firstFail=0;_0.pollMode=HTransportPoll;_0.req_timeout=setTimeout('HTransporter.sync();',_0.syncDelay);},setPollMode:function(_8){HTransporter.pollMode=_8;},failure:function(resp){var _6G=HTransporterMaxRetryTime+(new Date().getTime()),_0=HTransporter;clearTimeout(_0.req_timeout);if(_0.firstFail==0){_0.isBusy=false;_0.firstFail=(new Date().getTime());_0.failCount++;window.status='Communications error, retry attempt '+_0.failCount+' of '+HTransporterMaxRetryCount+'...';}
else if((_0.failCount<HTransporterMaxRetryCount)&&(_0.firstFail<_6G)){_0.isBusy=false;_0.failCount++;window.status='Communications error, retry attempt '+_0.failCount+' of '+HTransporterMaxRetryCount+'...';}
else{window.status='Communications error, reloading page...';location.href=HFailPageUrl;_0.isBusy=true;}
_0.req_timeout=setTimeout('HTransporter.sync();',HTransporterRetryDelay);},respond:function(resp){var _7B=resp.responseText,_0=HTransporter;try{_0.err_msg='';eval(_7B);}
catch(e){if(HTransporterDebug){console.log(e);console.log(e.description);}
_0.err_msg='&err_msg='+e+" - "+e.description;_0.failure(resp);}
_0.prevData='';if(_0.failCount!=0){window.status='';}
_0.failCount=0;_0.firstFail=0;_0.isBusy=false;if(_0.pollMode){_0.req_timeout=setTimeout('HTransporter.sync();',_0.syncDelay);}},sync:function(){var _0=HTransporter,_8f=((_0.syncDelay>0)||(_0.syncDelay==0));if(_8f&&_0.url_base){if(!_0.isBusy){_0.isBusy=true;if(_0.prevData!=''){_1L=_0.prevData;}
else{_1L=HValueManager.toXML();_0.prevData=_1L;}
if(""!=_1L||_0.pollMode){_0.syncNum++;HVM.isGetting=true;req_args={onSuccess:function(resp){_0.respond(resp);},onFailure:function(resp){_0.failure(resp);},method:'post',postBody:'ses_id='+_0.ses_id+_0.err_msg+_1L};try{_0.req=new Ajax.Request(_0.url_base,req_args);HVM.isGetting=false;}
catch(e){window.status='conn error:'+e;HVM.isGetting=false;_0.failure(null);}}
else{_0.isBusy=false;}}}},stop:function(){clearTimeout(_0.req_timeout);}});LOAD("HTransporter.start(HTransportURL);");HValueManager=HClass.extend({constructor:null,values:{},tosync:[],isSending:false,isGetting:false,add:function(_4,_q){this.values[_4]=_q;},set:function(_4,_8q){this.values[_4].set(_8q);},s:function(_4,_8q){this.values[_4].s(_8q);},del:function(_4){var _63=this.values[_4],_8e=_63.views,_0q=0,_64=null;for(;_0q<_8e.length;_0q++){_64=_8e[_0q];_64.valueObj=new HDummyValue(0,_63.value);}
this.values[_4]=null;},changed:function(_2x){if(this.isGetting==false){if(this.tosync.indexOf(_2x.id)==-1){this.tosync.push(_2x.id);}
var _X=HTransporter;if(!_X.pollMode){clearTimeout(_X.req_timeout);_X.req_timeout=setTimeout('HTransporter.sync();',_X.syncDelay);}}},toXML:function(){var _5G='&HSyncData=';if(!this.isSending){this.isSending=true;var _7V=this.tosync.length;if(_7V==0){this.isSending=false;return'';}
var _5V=[],_0K;for(_0K=0;_0K<_7V;_0K++){var _1m=this.tosync.shift();var _7W=this.values[_1m];_5V.push(_7W.toXML(_0K));}
var _7X=_5V.join('');_5G+='<hsyncvalues version="8118">'+_7X+'</hsyncvalues>';this.isSending=false;}
return _5G;},output:function(){return this.toXML();}});HVM=HValueManager;HValue=HClass.extend({constructor:function(_4,_8q){this.id=_4;this.type='[HValue]';this.value=_8q;this.views=[];HValueManager.add(_4,this);},set:function(_8q){if(_8q!=this.value){this.value=_8q;HValueManager.changed(this);this.refresh();}},s:function(_8q){this.value=_8q;this.refresh();},get:function(){return this.value;},bind:function(_N){if(_N===undefined){throw("HValueBindError: _N is undefined!");}
this.views.push(_N);_N.setValueObj(this);},unbind:function(_N){for(var _0q=0;_0q<this.views.length;_0q++){var _89=this.views[_0q];if(_89===_N){this.views.splice(_0q);return;}}},release:function(_N){return this.unbind(_N);},refresh:function(){for(var _0q=0;_0q<this.views.length;_0q++){var _N=this.views[_0q];if(_N.value!=this.value){if(!_N._valueIsBeingSet){_N._valueIsBeingSet=true;_N.setValue(this.value);_N._valueIsBeingSet=false;}}}},toXML:function(_0K){var _1m=this.id.toString();var _0g=this.value;var _0P=(typeof _0g).slice(0,1);var _14;if(_0P=='s'){_14=_0g.toString();_14=SHA.str2Base64(_14);}
else if(_0P=='n'){if(Math.ceil(_0g)===Math.floor(_0g)===_0g){_0P='i';_14=parseInt(_0g,10).toString();}
else{_0P='f';_14=parseFloat(_0g).toString();}}
else if(_0P=='b'){if(_0g){_14='1';}
else{_14='0';}}
else{try{if(console&&console.log){console.log('syncvalue type error');console.log('  syncid:',_1m);console.log('  syncjstype:',_0P);console.log('  typeof:',(typeof _0g));console.log('  syncvalue:',_0g);}}
catch(e){alert('value error, syncid:'+_1m+' syncjstype:'+_0P+' typeof:'+(typeof _0g)+' syncvalue:'+_0g);}
return'';}
return'<'+_0P+' id="'+_1m+'">'+_14+'</'+_0P+'>';}});JSLoader=HClass.extend({constructor:function(_8c){var _0=this;_0._loadedJS=[];_0.uri=_8c;_0._7y=null;_0._okayed=false;},_93:function(_7A){var _0=this;if(_0._okayed){return;}
eval(_7A.responseText);_0._okayed=true;},load:function(_2i,_6X){var _0=this;if((_0._loadedJS.indexOf(_2i)!=-1)&&(_6X===undefined)){return;}
if(_6X){document.write('<scr'+'ipt type="text/javascript" src="'+_2i+'"><'+'/scr'+'ipt>');}else{var _7z={onSuccess:function(resp){_0._93(resp);},onFailure:function(resp){window.status="failed to load js: "+_0.uri+_2i+'.js';},method:'get',asynchronous:false};var _p=this.uri+_2i+'.js';_0._7y=new Ajax.Request(_p,_7z);_0._loadedJS.push(_2i);_0._okayed=false;}}});RUN("jsLoader = new JSLoader('/H/js/');");HValueMatrixComponentExtension={componentBehaviour:['view','control','matrix'],constructor:function(_1,_m,_2){this.base(_1,_m,_2);this.setValueMatrix();},setValueMatrix:function(){if(!this.parent.valueMatrix){this.parent.valueMatrix=new HValueMatrix();}
this.valueMatrixIndex=this.parent.valueMatrix.addControl(this);},click:function(){if(this.parent.valueMatrix instanceof HValueMatrix){this.parent.valueMatrix.setValue(this.valueMatrixIndex);}}};HValueMatrix=HClass.extend({constructor:function(){this.ctrls=[];this.value=-1;this.valueObj=new HDummyValue();},setValueObj:function(_6e){this.valueObj=_6e;this.setValue(_6e.value);},setValue:function(_d){if(_d!=this.value){if(this.value!=-1){this.ctrls[this.value].setValue(false);}
if(_d!=-1){this.valueObj.set(_d);this.value=_d;if(_d<this.ctrls.length){this.ctrls[_d].setValue(true);}}}},addControl:function(_c){this.ctrls.push(_c);var _2k=this.ctrls.length-1;if(_c.value){this.setValue(_2k);}
return _2k;}});HPoint=HClass.extend({constructor:function(){this.type='[HPoint]';var _Y=arguments;if(_Y.length===0){this._1Y();}
else if(_Y.length==2){this._4M(_Y[0],_Y[1]);}
else if(_Y.length==1){this._1Z(_Y[0]);}
else{throw"Invalid number of arguments.";}},_1Y:function(){this.x=null;this.y=null;},_4M:function(x,y){this.x=x;this.y=y;},_1Z:function(_e){this.x=_e.x;this.y=_e.y;},set:function(){var _Y=arguments;if(_Y.length===0){this._1Y();}
else if(_Y.length==2){this._4M(_Y[0],_Y[1]);}
else if(_Y.length==1){this._1Z(_Y[0]);}
else{throw"Invalid number of arguments.";}},constrainTo:function(_1){if(this.x<_1.left){this.x=_1.left;}
if(this.y<_1.top){this.y=_1.top;}
if(this.x>_1.right){this.x=_1.right;}
if(this.y>_1.bottom){this.y=_1.bottom;}},add:function(_e){_Y=arguments;if((_Y.length==1)&&(_Y[0].type==this.type)){_e=_Y[0];return new HPoint((this.x+_e.x),(this.y+_e.y));}
else if(_Y.length==2){return new HPoint((this.x+_Y[0]),(this.y+_Y[1]));}else{return new HPoint(0,0);}},subtract:function(){_Y=arguments;if((_Y.length==1)&&(_Y[0].type==this.type)){_e=_Y[0];return new HPoint(this.x-_e.x,this.y-_e.y);}
else if(_Y.length==2){return new HPoint(this.x-_Y[0],this.y-_Y[1]);}else{return new HPoint(0,0);}},equals:function(_e){return(this.x==_e.x&&this.y==_e.y);}});HRect=HClass.extend({constructor:function(){this.type='[HRect]';var _Y=arguments;if(_Y.length===0){this._1Y();}else if(_Y.length==4){this._4L(_Y[0],_Y[1],_Y[2],_Y[3]);}
else if(_Y.length==2){this._1Z(_Y[0],_Y[1]);}
else if(_Y.length==1){this._4K(_Y[0]);}
else{throw"Invalid number of arguments.";}
this.updateSecondaryValues();},_1Y:function(){this.top=0;this.left=0;this.bottom=-1;this.right=-1;},_4L:function(_0l,_15,_2r,_1V){this.top=_15;this.left=_0l;this.bottom=_1V;this.right=_2r;},_1Z:function(_5j,_5L){this.top=_5j.y;this.left=_5j.x;this.bottom=_5L.y;this.right=_5L.x;},_4K:function(_1){this.top=_1.top;this.left=_1.left;this.bottom=_1.bottom;this.right=_1.right;},updateSecondaryValues:function(){this.isValid=(this.right>=this.left&&this.bottom>=this.top);this.leftTop=new HPoint(this.left,this.top);this.leftBottom=new HPoint(this.left,this.bottom);this.rightTop=new HPoint(this.right,this.top);this.rightBottom=new HPoint(this.right,this.bottom);this.width=(this.right-this.left);this.height=(this.bottom-this.top);},set:function(){var _Y=arguments;if(_Y.length===0){this._1Y();}else if(_Y.length==4){this._4L(_Y[0],_Y[1],_Y[2],_Y[3]);}
else if(_Y.length==2){this._1Z(_Y[0],_Y[1]);}
else if(_Y.length==1){this._4K(_Y[0]);}
else{throw"Invalid number of arguments.";}
this.updateSecondaryValues();},setLeft:function(_0l){this.left=_0l;this.updateSecondaryValues();},setRight:function(_2r){this.right=_2r;this.updateSecondaryValues();},setTop:function(_15){this.top=_15;this.updateSecondaryValues();},setBottom:function(_1V){this.bottom=_1V;this.updateSecondaryValues();},setLeftTop:function(_e){this.left=_e.x;this.top=_e.y;this.updateSecondaryValues();},setLeftBottom:function(_e){this.left=_e.x;this.bottom=_e.y;this.updateSecondaryValues();},setRightTop:function(_e){this.right=_e.x;this.top=_e.y;this.updateSecondaryValues();},setRightBottom:function(_e){this.right=_e.x;this.bottom=_e.y;this.updateSecondaryValues();},setWidth:function(_s){this.right=this.left+_s;this.updateSecondaryValues();},setHeight:function(_R){this.bottom=this.top+_R;this.updateSecondaryValues();},setSize:function(){var _Y=arguments;if(_Y.length===2){_s=_Y[0];_R=_Y[1];}
else if(_Y.length===1){_s=_Y.x;_R=_Y.y;}
this.right=this.left+_s;this.bottom=this.top+_R;this.updateSecondaryValues();},intersects:function(_1){return(((_1.left>=this.left&&_1.left<=this.right)||(_1.right>=this.left&&_1.right<=this.right))&&((_1.top>=this.top&&_1.top<=this.bottom)||(_1.bottom>=this.top&&_1.bottom<=this.bottom)));},contains:function(_q){if(_q instanceof HPoint){return this._6z(_q);}
else if(_q instanceof HRect){return this._6A(_q);}
else{throw"Wrong argument type.";}},_6z:function(_e){return(_e.x>=this.left&&_e.x<=this.right&&_e.y>=this.top&&_e.y<=this.bottom);},_6A:function(_1){return(_1.left>=this.left&&_1.right<=this.right&&_1.top>=this.top&&_1.bottom<=this.bottom);},insetBy:function(){var _Y=arguments;if(_Y.length===1){this._7d(_Y[0]);}else if(_Y.length==2){this._5b(_Y[0],_Y[1]);}else{throw"Invalid number of arguments.";}
this.updateSecondaryValues();},_7d:function(_e){this._5b(_e.x,_e.y);},_5b:function(x,y){this.left+=x;this.top+=y;this.right-=x;this.bottom-=y;},offsetBy:function(){var _Y=arguments;if(_Y.length===1){this._7j(_Y[0]);}else if(_Y.length==2){this._5v(_Y[0],_Y[1]);}else{throw"Invalid number of arguments.";}
this.updateSecondaryValues();},_7j:function(_e){this._5v(_e.x,_e.y);},_5v:function(x,y){this.left+=x;this.top+=y;this.right+=x;this.bottom+=y;},offsetTo:function(){var _Y=arguments;if(_Y.length===1){this._7k(_Y[0]);}else if(_Y.length==2){this._5w(_Y[0],_Y[1]);}else{throw"Invalid number of arguments.";}
this.updateSecondaryValues();},_7k:function(_e){this._5w(_e.x,_e.y);},_5w:function(x,y){this.right+=x-this.left;this.left=x;this.bottom+=y-this.top;this.top=y;},equals:function(_1){return(this.left==_1.left&&this.top==_1.top&&this.right==_1.right&&this.bottom==_1.bottom);},intersection:function(_1){return new HRect(Math.max(this.left,_1.left),Math.max(this.top,_1.top),Math.min(this.right,_1.right),Math.min(this.bottom,_1.bottom));},union:function(_1){return new HRect(Math.min(this.left,_1.left),Math.min(this.top,_1.top),Math.max(this.right,_1.right),Math.max(this.bottom,_1.bottom));},bind:function(_q){},unbind:function(_q){}});HDefaultApplicationInterval=20;HSystemTickerInterval=10;HSystem=HClass.extend({constructor:null,type:'[HSystem]',apps:[],appPriorities:[],busyApps:[],appTimers:[],freeAppIds:[],defaultInterval:HDefaultApplicationInterval,viewsZOrder:[],ticks:0,maxAppRunTime:5000,scheduler:function(){for(var _n=0;_n<this.apps.length;_n++){if(this.apps[_n]){if(!this.busyApps[_n]){if((this.ticks%this.appPriorities[_n])==0){this.appTimers[_n]=setTimeout('if (HSystem.apps['+_n+']) {HSystem.apps['+_n+']._5S();}',10);}}}}
if(this._1N.length!=0){this._6V();}},ticker:function(){this.ticks++;this.scheduler();this._9p=setTimeout('HSystem.ticker();',HSystemTickerInterval);},addApp:function(_1q,_0m){if(this.freeAppIds.length>1024){var _n=this.freeAppIds.shift();this.apps[_n]=_1q;}else{this.apps.push(_1q);var _n=this.apps.length-1;}
_1q.parent=this;_1q.parents=[this];_1q.appId=_n;this.startApp(_n,_0m);return _n;},startApp:function(_n,_0m){if(_0m===undefined){_0m=this.defaultInterval;}
this.appPriorities[_n]=_0m;this.busyApps[_n]=false;},stopApp:function(_n){this.busyApps[_n]=true;},reniceApp:function(_n,_0m){this.appPriorities[_n]=_0m;},killApp:function(_n,_6W){if(!_6W){var _7P=new Date().getTime();while(this.busyApps[_n]==true){if(new Date().getTime()>_7P+this.maxAppRunTime){break;}}}
this.busyApps[_n]=true;this.apps[_n].destroyAllViews();delete this.apps[_n];this.apps[_n]=null;this.freeAppIds.push(_n);},views:[],_3D:[],addView:function(_f){var _31;if(this._3D.length==0){_31=this.views.length;this.views.push(_f);}
else{_31=this._3D.pop();this.views[_31]=_f;}
return _31;},delView:function(_h){this.views[_h]=null;this._3D.push(_h);},activeWindowId:0,windowFocus:function(_f){var _8s=this.activeWindowId,_1P=this.views,_h=_f.viewId;if(_1P[_8s]){if(_1P[_8s]["windowBlur"]){_1P[_8s].windowBlur();}}
this.activeWindowId=_h;_f.bringToFront();_f.windowFocus();},_1N:[],updateZIndexOfChildren:function(_h){if(this._1N.indexOf(_h)==-1){this._1N.push(_h);}},_6V:function(){var j=0;_2H=this._1N;for(;j!=_2H.length;j++){var _h=_2H.unshift(),_1P=this.views[_h].viewsZOrder,_8j=_1P.length,_7J=ELEM.setStyle,_7Y=this.views,_h,_f,_6L='elemId',_8p='z-index',i=0;for(;i!=_8j;i++){_h=_1P[i];_f=_7Y[_h];_7J(_f[_6L],_8p,i);}}}});LOAD('HSystem.ticker();');HApplication=HClass.extend({componentBehaviour:['app'],constructor:function(_0m){this.views=[];this.markupElemIds=[];this.viewsZOrder=HSystem.viewsZOrder;HSystem.addApp(this,_0m);},buildParents:function(_h){var _f=HSystem.views[_h];_f.parent=this;_f.parents=[];for(var _1i=0;_1i<this.parents.length;_1i++){_f.parents.push(this.parents[_1i]);}
_f.parents.push(this);},addView:function(_f){var _h=HSystem.addView(_f);this.views.push(_h);this.buildParents(_h);this.viewsZOrder.push(_h);return _h;},removeView:function(_h){HSystem.views[_h].remove();},destroyView:function(_h){HSystem.views[_h].die();},die:function(){HSystem.killApp(this.appId,false);},destroyAllViews:function(){var i,_h;for(i=0;i<this.views.length;i++){_h=this.views[i];HSystem.views[_h].die();}},_7q:function(){var i,_h,_f;for(i=0;i<this.views.length;i++){_h=this.views[i];_f=HSystem.views[_h];if((_f!==null)&&(_f['onIdle']!==undefined)){_f.onIdle();}}},_5S:function(){HSystem.busyApps[this.appId]=true;this.onIdle();this._7q();HSystem.busyApps[this.appId]=false;},onIdle:function(){}});HDefaultThemePath='/H/themes';HDefaultThemeName='default';HNoComponentCSS=[];HThemeHasIE6GifsInsteadOfPng=[];HThemeMode=1;HThemeManager=HClass.extend({constructor:null,init:function(){this.themePath=HDefaultThemePath;this._3d={};this._2K={};this.currentTheme=HDefaultThemeName;},setThemePath:function(_05){this.themePath=_05;},_6Q:function(_p){console.log("ERROR: Template Not Found: '"+_p+"' ");},_6P:function(_p){console.log("ERROR: Template Failure: '"+_p+"' ");},_6O:function(_p){console.log("ERROR: Template Exception: '"+_p+"' ");},fetch:function(_p,_1a){var _2p;if(!_1a){var _1a='text/html; charset=UTF-8';}
var _7y=new Ajax.Request(_p,{method:'GET',onSuccess:function(_8o){_2p=_8o.responseText;},on404:function(){HThemeManager._6Q(_p);},onFailure:function(){HThemeManager._6P(_p);},onException:function(){HThemeManager._6O(_p);},asynchronous:false,contentType:_1a});_7y.onStateChange();return _2p;},getThemeGfxPath:function(){var _l=this._22[0],_t=this._22[1],_B=this._22[2],_G=this._22[3],_16=this._16(_l,_t,_B,_G);return this._S(_16,'gfx');},getCssFilePath:function(_0v){var _l=this._22[0];if((HThemeHasIE6GifsInsteadOfPng.indexOf(_l)!=-1)&&ELEM._2h){return"url('"+this._S(this.getThemeGfxPath(),_0v.replace('.png','-ie6.gif'))+"')";}
else{return"url('"+this._S(this.getThemeGfxPath(),_0v)+"')";}},loadCSS:function(_p){var _1a='text/css';var _1b=this.fetch(_p,_1a);if(!_1b||_1b==""){return;}
_1b=this._4D(_1b);var _0p,_5U,_51;if(ELEM._2U){_0p=document.createStyleSheet();_0p.cssText=_1b;}
else{_0p=document.createElement("style");_0p.type=_1a;_0p.media="all";_51=document.getElementsByTagName('head')[0];_51.appendChild(_0p);if(navigator.userAgent.indexOf('KHTML')!=-1){var _6F=document.createTextNode(_1b);_0p.appendChild(_6F);}
else{_0p.innerHTML=_1b;}}},_6m:function(_K){if(_K[_K.length-1]!='/'){_K+='/';}
return _K;},_S:function(_7Q,_7R){return this._6m(_7Q)+_7R;},_16:function(_l,_t,_B,_G){var _05=_B;if(_B===null){_05=this.themePath;}
if(HThemeMode==0){if(_G){_05=this._S(_05,_G);}
if(_B===null){_05=this._S(_05,_t);_05=this._S(_05,'themes');}
_05=this._S(_05,_l);}
else if(HThemeMode==1){_05=this._S(_05,_l);}
return _05;},_2M:function(_l,_t,_B,_G){this._22=[_l,_t,_B,_G];var _6D=this._16(_l,_t,_B,_G);var _6E=this._S('css',_t+'.css');var _2M=this._S(_6D,_6E);return _2M;},_3T:function(_l,_t,_B,_G){var _75=this._16(_l,_t,_B,_G);var _76=this._S('html',_t+'.html');var _77=this._S(_75,_76);return _77;},loadMarkup:function(_l,_t,_B,_G){if(!this._3d[_l]){this._3d[_l]={};}
var _y=this._3d[_l][_t];if(null===_y||undefined===_y){var _3T=this._3T(_l,_t,_B,_G);_y=this.fetch(_3T);if(null===_y||undefined===_y){_y="";}
this._3d[_l][_t]=_y;}
return _y;},getMarkup:function(_l,_t,_B,_G){if(!this._2K[_l]){var _6w=this._2M(_l,'common',_B,null);this._2K[_l]={};this.loadCSS(_6w);}
if(HNoComponentCSS.indexOf(_l)==-1){if(!this._2K[_l][_t]){var _6x=this._2M(_l,_t,_B,_G);this._2K[_l][_t]=true;this.loadCSS(_6x);}}
return this.loadMarkup(_l,_t,_B,_G);},_1X:function(_l,_t,_B,_G){var _16=this._16(_l,_t,_B,_G);var _p=this._S(_16,'gfx');return _p;},_6y:function(_l,_t,_B,_G,_0v){if((HThemeHasIE6GifsInsteadOfPng.indexOf(_l)!=-1)&&ELEM._2h){return this._S(this._1X(_l,_t,_B,_G),_0v.replace('.png','-ie6.gif'));}
return this._S(this._1X(_l,_t,_B,_G),_0v);},getThemeGfxFile:function(_0v){return this.getThemeGfxPath()+_0v;},setTheme:function(_62){this.currentTheme=_62;},restoreDefaultTheme:function(){this.setTheme(HDefaultThemeName);},_1n:new RegExp(/#\{([^\}]*)\}/),_4D:function(_23){while(this._1n.test(_23)){_23=_23.replace(this._1n,eval(RegExp.$1));}
return _23;}});HMarkupView=HClass.extend({bindMarkupVariables:function(){var _0Z=this.markup;while(HMarkupView._4A.test(_0Z)){_0Z=_0Z.replace(HMarkupView._4A,this.evalMarkupVariable(RegExp.$1,true));}
while(HMarkupView._1n.test(_0Z)){_0Z=_0Z.replace(HMarkupView._1n,this.evalMarkupVariable(RegExp.$1));}
this.markup=_0Z;},evalMarkupVariable:function(_7T,_8T){try{var _ID=this.elemId.toString(),_WIDTH=this.rect.width,_HEIGHT=this.rect.height,_2p=eval(_7T);if(_8T){return'';}
if(_2p===undefined){return'';}
else{return _2p;}}
catch(e){return'';}},toggleCSSClass:function(_0u,_21,_5O){if(_0u){var _4Z=ELEM.hasClassName(_0u,_21);if(_5O){if(!_4Z){ELEM.addClassName(_0u,_21);}}
else{if(_4Z){ELEM.removeClassName(_0u,_21);}}}}},{_1n:new RegExp(/#\{([^\}]*)\}/),_4A:new RegExp(/\$\{([^\}]*)\}/)});HView=HClass.extend({themePath:null,packageName:null,isAbsolute:true,flexRight:false,flexLeft:true,flexTop:true,flexBottom:false,flexRightOffset:0,flexBottomOffset:0,componentBehaviour:['view'],constructor:function(_1,_m){if(this.theme===undefined){this.theme=HThemeManager.currentTheme;this.preserveTheme=false;}
else{this.preserveTheme=true;}
this.optimizeWidthOnRefresh=true;this.parent=_m;this.viewId=this.parent.addView(this);this.appId=this.parent.appId;this.app=HSystem.apps[this.appId];this.views=[];this.viewsZOrder=[];this._6C();this.setRect(_1);this.isHidden=true;this.drawn=false;this._4E=_1.left;this._4F=_1.top;this._1y=[];if(!this.isinherited){this.draw();this.show();}},setFlexRight:function(_8,_09){if(_8===undefined){_8=true;}
this.flexRight=_8;if(_09===undefined){_09=0;}
this.flexRightOffset=_09;},setFlexLeft:function(_8,_09){if(_8===undefined){_8=true;}
this.flexLeft=_8;if(_09!==undefined){this.rect.setLeft(_09);}},setFlexTop:function(_8,_09){if(_8===undefined){_8=true;}
this.flexTop=_8;if(_09!==undefined){this.rect.setTop(_09);}},setFlexBottom:function(_8,_09){if(_8===undefined){_8=true;}
this.flexBottom=_8;if(_09===undefined){_09=0;}
this.flexBottomOffset=_09;},setAbsolute:function(_8){if(_8===undefined){_8=true;}
this.isAbsolute=_8;},setRelative:function(_8){if(_8===undefined){_8=true;}
this.isAbsolute=(!_8);},getThemeGfxPath:function(){if(this.preserveTheme){_l=this.theme;}else{_l=HThemeManager.currentTheme;}
return HThemeManager._1X(_l,this.componentName,this.themePath,this.packageName);},getThemeGfxFile:function(_0v){if(this.preserveTheme){_l=this.theme;}else{_l=HThemeManager.currentTheme;}
return HThemeManager._6y(_l,this.componentName,this.themePath,this.packageName,_0v);},_5o:function(_1H){this.elemId=ELEM.make(_1H,'div');},_7I:function(_6n){var _2L='display:none;overflow:hidden;visibility:hidden;';if(this.isAbsolute){_2L+='position:absolute;';}else{_2L+='position:relative;';}
_2L+=_6n;ELEM.setCSS(this.elemId,_2L);},_3F:function(){var _1H;if(this.parent.elemId===undefined){_1H=0;}
else if(this.parent.markupElemIds&&this.parent.markupElemIds['subview']){_1H=this.parent.markupElemIds['subview'];}
else{_1H=this.parent.elemId;}
return _1H;},_6C:function(){if(!this.elemId){this._5o(this._3F());this._7I('');if(this.preserveTheme){ELEM.addClassName(this.elemId,this.theme);}
else{ELEM.addClassName(this.elemId,HThemeManager.currentTheme);}}},drawRect:function(){if(!this.parent||!this.rect.isValid){return;}
this.drawn=true;var _9=this.elemId;var _1=this.rect;ELEM.setStyle(_9,'left',this.flexLeft?(_1.left+'px'):'auto',true);ELEM.setStyle(_9,'top',this.flexTop?(_1.top+'px'):'auto',true);ELEM.setStyle(_9,'right',this.flexRight?(this.flexRightOffset+'px'):'auto',true);ELEM.setStyle(_9,'bottom',this.flexBottom?(this.flexBottomOffset+'px'):'auto',true);ELEM.setStyle(_9,'width',(this.flexLeft&&this.flexRight)?'auto':(_1.width+'px'),true);ELEM.setStyle(_9,'height',(this.flexTop&&this.flexBottom)?'auto':(_1.height+'px'),true);if(this.flexLeft&&this.flexRight){ELEM.setStyle(_9,'min-width',_1.width+'px',true);}
if(this.flexTop&&this.flexBottom){ELEM.setStyle(_9,'min-height',_1.height+'px',true);}
if(undefined===this.isHidden||this.isHidden==false){ELEM.setStyle(_9,'visibility','inherit',true);}
ELEM.setStyle(_9,'display','block',true);this._6c();if(this._4E!=_1.left||this._4F!=_1.top){this.invalidatePositionCache();this._4E=_1.left;this._4F=_1.top;}},_6c:function(){if(this.parent.viewId){HSystem.updateZIndexOfChildren(this.parent.viewId);}},_3f:function(){if(this.parent.viewId){HSystem.updateZIndexOfChildren(this.parent.viewId);}},draw:function(){var _1f=this.drawn;this.drawRect();if(!_1f&&(this.componentName!==undefined)){this.drawMarkup();}
this.refresh();},_5k:function(){var _l;if(this.preserveTheme){_l=this.theme;}
else{_l=HThemeManager.currentTheme;}
this.markup=HThemeManager.getMarkup(_l,this.componentName,this.themePath,this.packageName);},markupElemNames:['bg','label','state','control','value','subview'],drawMarkup:function(){ELEM.setStyle(this.elemId,'display','none',true);this._5k();this.bindMarkupVariables();ELEM.setHTML(this.elemId,this.markup);this.markupElemIds={};for(var i=0;i<this.markupElemNames.length;i++){var _0A=this.markupElemNames[i],_4U=_0A+this.elemId,_74=' id="'+_4U+'"';if(this.markup.indexOf(_74)!=-1){this.markupElemIds[_0A]=this.bindDomElement(_4U);}}
ELEM.setStyle(this.elemId,'display','block');},setHTML:function(_0w){ELEM.setHTML(this.elemId,_0w);},refresh:function(){if(this.drawn){this.drawRect();}
if(this.optimizeWidthOnRefresh){this.optimizeWidth();}},setRect:function(_1){if(this.rect){this.rect.unbind(this);}
this.rect=_1;this.rect.bind(this);this.refresh();},setStyle:function(_C,_8q,_3o){if(!this.elemId){return;}
ELEM.setStyle(this.elemId,_C,_8q,_3o);},style:function(_C){if(!this.elemId){return;}
return ELEM.getStyle(this.elemId,_C);},setStyleForPart:function(_0A,_C,_8q,_3o){if(!this.markupElemIds[_0A]){return;}
ELEM.setStyle(this.markupElemIds[_0A],_C,_8q,_3o);},styleForPart:function(_0A,_C){if(!this.markupElemIds[_0A]){return;}
ELEM.getStyle(this.markupElemIds[_0A],_C);},hide:function(){if(!this.isHidden){this.setStyle('visibility','hidden');this.setStyle('display','none');this.isHidden=true;}},show:function(){if(this.isHidden){this.setStyle('visibility','inherit');this.setStyle('display','block');this.isHidden=false;}},toggle:function(){if(this.isHidden){this.show();}else{this.hide();}},remove:function(){if(this.parent){var _8i=this.parent.viewsZOrder.indexOf(this.viewId),_8h=this.parent.views.indexOf(this.viewId);this.parent.views.splice(_8h,1);HSystem.delView(this.viewId);this.parent.viewsZOrder.splice(_8i,1);var _5W=HSystem._1N.indexOf(this.viewId);if(_5W!=-1){HSystem._1N.splice(_5W,1);}
this._3f();this.parent=null;this.parents=[];}},die:function(){var i=0,_4G;for(;i<this.views.length;i++){_4G=this.views[i];this.destroyView(_4G);}
this.remove();for(i=0;i<this._1y.length;i++){ELEM.del(this._1y[i]);}
this._1y=[];this.drawn=false;ELEM.del(this.elemId);delete this.rect;},onIdle:function(){for(var i=0;i<this.views.length;i++){HSystem.views[this.views[i]].onIdle();}},buildParents:function(_h){var _f=HSystem.views[_h];_f.parent=this;_f.parents=[];for(var _1i=0;_1i<this.parents.length;_1i++){_f.parents.push(this.parents[_1i]);}
_f.parents.push(this);},addView:function(_f){var _h=HSystem.addView(_f);this.views.push(_h);this.buildParents(_h);this.viewsZOrder.push(_h);return _h;},removeView:function(_h){HSystem.views[_h].remove();},destroyView:function(_h){HSystem.views[_h].die();},bounds:function(){var _18=new HRect(this.rect);_18.right-=_18.left;_18.left=0;_18.bottom-=_18.top;_18.top=0;return _18;},resizeBy:function(_3J,_2C){var _1=this.rect;_1.right+=_3J;_1.bottom+=_2C;_1.updateSecondaryValues();this.drawRect();},resizeTo:function(_s,_R){var _1=this.rect;_1.right=_1.left+_s;_1.bottom=_1.top+_R;_1.updateSecondaryValues();this.drawRect();},offsetTo:function(){this.rect.offsetTo.apply(this.rect,arguments);this.drawRect();},moveTo:function(){this.offsetTo.apply(this,arguments);},offsetBy:function(_3J,_2C){this.rect.offsetBy(_3J,_2C);this.drawRect();},moveBy:function(){this.offsetBy.apply(this,arguments);},bringToFront:function(){if(!this.parent){return;}
var _d=this.zIndex();this.parent.viewsZOrder.splice(_d,1);this.parent.viewsZOrder.push(this.viewId);this._3f();},sendToBack:function(){if(!this.parent){return;}
var _d=this.zIndex();this.parent.viewsZOrder.splice(_d,1);this.parent.viewsZOrder.splice(0,0,this.viewId);this._3f();},zIndex:function(){if(!this.parent){return;}
return this.parent.viewsZOrder.indexOf(this.viewId);},stringWidth:function(_13,_j,_9){if(_j!==undefined&&_j!=null){_13=_13.substring(0,_j);}
if(_9===undefined||_9==null){_9=this.elemId;}
var _1k=ELEM.make(_9);ELEM.setCSS(_1k,"visibility:hidden;position:absolute;white-space:nowrap;");ELEM.setHTML(_1k,_13);var _s=0,_R=0;if(ELEM._2h||ELEM._8V||ELEM._8W){_s=parseInt(ELEM.get(_1k).offsetWidth,10);if(arguments[3]){_R=parseInt(ELEM.get(_1k).offsetHeight,10);}}else{_s=parseInt(ELEM.get(_1k).clientWidth,10);if(ELEM._8U){_s+=1;}
if(arguments[3]){_R=parseInt(ELEM.get(_1k).clientHeight,10);}}
ELEM.del(_1k);if(arguments[3]){return[_s,_R];}else{return _s;}},pageX:function(){var _5=0;var _7=this;while(_7){if(_7.elemId&&_7.rect){_5+=ELEM.get(_7.elemId).offsetLeft;_5-=ELEM.get(_7.elemId).scrollLeft;}
if(_7.markupElemIds&&_7.markupElemIds.subview){_5+=ELEM.get(_7.markupElemIds.subview).offsetLeft;_5-=ELEM.get(_7.markupElemIds.subview).scrollLeft;}
_7=_7.parent;}
return _5;},pageY:function(){var _a=0;var _7=this;while(_7){if(_7.elemId&&_7.rect){_a+=ELEM.get(_7.elemId).offsetTop;_a-=ELEM.get(_7.elemId).scrollTop;}
if(_7.markupElemIds&&_7.markupElemIds.subview){_a+=ELEM.get(_7.markupElemIds.subview).offsetTop;_a-=ELEM.get(_7.markupElemIds.subview).scrollTop;}
_7=_7.parent;}
return _a;},pageLocation:function(){return new HPoint(this.pageX(),this.pageY());},optimizeWidth:function(){},invalidatePositionCache:function(){for(var i=0;i<this.views.length;i++){HSystem.views[this.views[i]].invalidatePositionCache();}},bindDomElement:function(_4Q){var _3n=ELEM.bindId(_4Q);if(_3n){this._1y.push(_3n);}
return _3n;},unbindDomElement:function(_0u){var _57=this._1y.indexOf(_0u);if(_57>-1){ELEM.del(_0u);this._1y.splice(_57,1);}},animateTo:function(_q,_0V,_0J){if(_q instanceof HPoint){var _1=new HRect(_q,_q);_1.setSize(this.rect.width,this.rect.height);this._3k(_1,_0V);}
else if(_q instanceof HRect){this._3k(_q,_0V);}
else{throw"Wrong argument type.";}},stopAnimation:function(){if(this._2G){window.clearInterval(this._2G);this._2G=null;var _0l=parseInt(this.style('left'),10),_15=parseInt(this.style('top'),10),_s=parseInt(this.style('width'),10),_R=parseInt(this.style('height'),10);this.rect.set(_0l,_15,_0l+_s,_15+_R);this.drawRect();if(this._4x){this.onAnimationEnd();}
else{this.onAnimationCancel();}}},_3k:function(_1,_0V,_0J){if(null===_0V||undefined===_0V){_0V=500;}
if(null===_0J||undefined===_0J||_0J<1){_0J=50;}
if(!this._2G){this._4x=false;this.onAnimationStart();var _7O=new Date().getTime();var _o=this;this._2G=window.setInterval(function(){_o._8u({startTime:_7O,duration:_0V,transition:function(t,b,c,d){return c*t/d+b;},props:[{prop:'left',from:_o.rect.left,to:_1.left,unit:'px'},{prop:'top',from:_o.rect.top,to:_1.top,unit:'px'},{prop:'width',from:_o.rect.width,to:_1.width,unit:'px'},{prop:'height',from:_o.rect.height,to:_1.height,unit:'px'}]});},Math.round(1000/_0J));}},_8u:function(_q){var _65=new Date().getTime();if(_65<_q.startTime+_q.duration){var _6s=_65-_q.startTime;for(var i=0;i<_q.props.length;i++){var _3E=_q.props[i].from;var _69=_q.props[i].to;if(_3E!=_69){var _7w=_q.transition(_6s,_3E,(_69-_3E),_q.duration);this.setStyle(_q.props[i].prop,_7w+_q.props[i].unit);}}}else{for(var i=0;i<_q.props.length;i++){this.setStyle(_q.props[i].prop,_q.props[i].to+_q.props[i].unit);}
this._4x=true;this.stopAnimation();}},onAnimationStart:function(){},onAnimationEnd:function(){},onAnimationCancel:function(){}});HView.implement(HMarkupView);HControl=HView.extend({componentBehaviour:['view','control'],refreshOnValueChange:true,refreshOnLabelChange:true,constructor:function(_1,_g,_2){if(!_2){_2={};}
var options=new(HComponentDefaults.extend(_2));this.options=options;if(this.isinherited){this.base(_1,_g);}
else{this.isinherited=true;this.base(_1,_g);this.isinherited=false;}
var _T=options.label;this.setLabel(_T);var _2c=options.events;this.setEvents(_2c);if(this.options.valueObj){this.setValueObj(this.options.valueObj);}
if(!this.valueObj){this.setValueObj(new HDummyValue());}
if((this.value===undefined)&&(options.value!==undefined)){this.setValue(options.value);}
var _7e=(_2.minValue||_2.maxValue);if(_7e){this.setValueRange(options.value,options.minValue,options.maxValue);}
this.setEnabled(options.enabled);this.action=options.action;if(options.visible){this.show();}
else{this.hide();}
if(!this.isinherited){this.draw();}},setAction:function(_4t){this.action=_4t;},die:function(){if(this.valueObj){this.valueObj.unbind(this);delete this.valueObj;}
EVENT.unreg(this);this.base();},setLabel:function(_T){this.label=_T;this.options.label=_T;this.refresh();},setEnabled:function(_8){for(var i=0;i<this.views.length;i++){HSystem.views[this.views[i]].setEnabled(_8);}
if(this.enabled===_8){return;}
this.enabled=_8;if(_8){EVENT.reg(this,this.events);}
else{EVENT.unreg(this);}
this.toggleCSSClass(this.elemId,HControl.CSS_ENABLED,this.enabled);this.toggleCSSClass(this.elemId,HControl.CSS_DISABLED,!this.enabled);},setValue:function(_8q){if(_8q===undefined){return;}
if(!this.valueObj){return;}
if(_8q!==this.value){this.value=_8q;this.valueObj.set(this.value);this.refresh();}},setValueObj:function(_4s){this.valueObj=_4s;this.setValue(_4s.value);},setValueRange:function(_8q,_2Y,_2X){this.minValue=_2Y;this.maxValue=_2X;_8q=(_8q<_2Y)?_2Y:_8q;_8q=(_8q>_2X)?_2X:_8q;this.setValue(_8q);this.refresh();},refreshValue:function(){if(this.markupElemIds){if(this.markupElemIds.value){ELEM.setHTML(this.markupElemIds.value,this.value);}}},refreshLabel:function(){if(this.markupElemIds){if(this.markupElemIds.label){ELEM.setHTML(this.markupElemIds.label,this.label);}}},refresh:function(){this.base();if(this.drawn){if(this.refreshOnValueChange){this.refreshValue();}
if(this.refreshOnLabelChange){this.refreshLabel();}}},setEvents:function(_2c){if(!this.events){var _6R=HClass.extend({mouseMove:false,mouseDown:false,mouseUp:false,draggable:false,droppable:false,keyDown:false,keyUp:false,mouseWheel:false,textEnter:false,click:false});this.events=new _6R;}
if(_2c){this.events.extend(_2c);}
this.events.ctrl=this;EVENT.focusOptions[this.elemId]=this.events;var _5r=this.events.mouseMove;var _3W=EVENT.coordListeners.indexOf(this.elemId);if(_5r&&(_3W==-1)){EVENT.coordListeners.push(this.elemId);}else if((!_5r)&&(_3W!=-1)){EVENT.coordListeners.splice(_3W,1);}
this.isDragged=false;},setMouseMove:function(_8){this.events.mouseMove=_8;this.setEvents();},setClickable:function(_8){this.events.click=_8;this.setEvents();},setMouseDown:function(_8){this.events.mouseDown=_8;this.setEvents();},setMouseUp:function(_8){this.events.mouseUp=_8;this.setEvents();},setMouseWheel:function(_8){this.events.mouseWheel=_8;this.setEvents();},setDraggable:function(_8){this.events.draggable=_8;this.setEvents();},setDroppable:function(_8){this.events.droppable=_8;this.setEvents();},setKeyDown:function(_8){this.events.keyDown=_8;this.setEvents();},setKeyUp:function(_8){this.events.keyUp=_8;this.setEvents();},setTextEnter:function(_8){this.events.textEnter=_8;this.setEvents();},textEnter:function(){},focus:function(){},blur:function(){},gainedActiveStatus:function(_3Q){},_6Y:function(_3Q){if(this.enabled){this.toggleCSSClass(this.elemId,HControl.CSS_ACTIVE,true);}
this.gainedActiveStatus(_3Q);},lostActiveStatus:function(_J){},_7g:function(_J){if(this.enabled){this.toggleCSSClass(this.elemId,HControl.CSS_ACTIVE,false);}
this.lostActiveStatus(_J);},mouseMove:function(_5,_a){},mouseDown:function(_5,_a,_1B){},mouseUp:function(_5,_a,_1B){},mouseWheel:function(_Z){},startDrag:function(x,y){this.isDragged=true;},doDrag:function(x,y){},endDrag:function(x,y){this.isDragged=false;this.invalidatePositionCache();},onDrop:function(obj){},onHoverStart:function(obj){},onHoverEnd:function(obj){},keyDown:function(_I){},keyUp:function(_I){},_5t:function(e){if(!Event.element){return;}
var _o=Event.element(e);while(_o&&_o.ctrl===undefined){_o=_o.parentNode;}
if(!_o){return;}
var _0=_o.ctrl;EVENT.focus(_0);Event.stop(e);},_5s:function(e){if(!Event.element){return;}
var _o=Event.element(e);while(_o&&_o.ctrl===undefined){_o=_o.parentNode;}
if(!_o){return;}
var _0=_o.owner;EVENT.blur(_0);Event.stop(e);},invalidatePositionCache:function(){this.base();EVENT.coordCacheFlush(this.elemId);}},{stopPropagation:function(event){if(event.stopPropagation){event.stopPropagation();}else{event.cancelBubble=true;}},H_CONTROL_ON:1,H_CONTROL_OFF:0,CSS_DISABLED:"disabled",CSS_ENABLED:"enabled",CSS_ACTIVE:"active"});HDummyValue=HClass.extend({constructor:function(_4,_8q){this.id=_4;this.value=_8q;},set:function(_8q){this.value=_8q;},get:function(){return this.value;},bind:function(_2x){},unbind:function(_2x){}});HComponentDefaults=HClass.extend({label:"Untitled",visible:true,events:{},value:0,action:function(){},enabled:true,active:false,minValue:-2147483648,maxValue:2147483648});HDynControl=HControl.extend({componentName:'dyncontrol',componentBehaviour:['view','control','window'],constructor:function(_1,_m,_2){if(!_2){_2={};}
var _w=HClass.extend({minSize:[24,54],maxSize:[16000,9000],resizeW:1,resizeE:1,resizeN:1,resizeS:1,resizeNW:[1,1],resizeNE:[1,1],resizeSW:[1,1],resizeSE:[1,1],noResize:false});_2=new(_w.extend(_2))();if(_2.noResize){_2.minSize=[_1.width,_1.height];_2.maxSize=[_1.width,_1.height];_2.resizeW=0;resizeE=0;resizeN=0;resizeS=0;resizeNW=[0,0];resizeNE=[0,0];resizeSW=[0,0];resizeSE=[0,0];}
if(this.isinherited){this.base(_1,_m,_2);}
else{this.isinherited=true;this.base(_1,_m,_2);this.isinherited=false;}
this.presrveTheme=true;this.setDraggable(true);this._79();this._59();if(!this.isinherited){this.draw();}},drawRect:function(_5i,_88){if(this.rect.width<this.options.minSize[0]){var _3z=0-(this.options.minSize[0]-this.rect.width);this.rect.setWidth(this.options.minSize[0]);if(_5i){this.rect.offsetBy(_3z,0);}}
else if(this.rect.width>this.options.maxSize[0]){var _3z=0-(this.options.maxSize[0]-this.rect.width);this.rect.setWidth(this.options.maxSize[0]);if(_5i){this.rect.offsetBy(_3z,0);}}
if(this.rect.height<this.options.minSize[1]){var _3u=0-(this.options.minSize[1]-this.rect.height);this.rect.setHeight(this.options.minSize[1]);if(_88){this.rect.offsetBy(0,_3u);}}
else if(this.rect.height>this.options.maxSize[1]){var _3u=0-(this.options.maxSize[1]-this.rect.height);this.rect.setHeight(this.options.maxSize[1]);if(_88){this.rect.offsetBy(0,_3u);}}
this.base();},draw:function(){var _1f=this.drawn;this.base();if(!_1f){this.buildStructure();}},buildStructure:function(){},_0t:function(_5,_a){return this._7s.subtract(_5,_a);},dynResizeNW:function(_0,_5,_a){var _M=_0._0t(_5,_a);_0.rect.setLeftTop(_0.rect.leftTop.subtract(_M));_0.drawRect(1,1);_0._7s.set(_5,_a);},dynResizeNE:function(_0,_5,_a){var _M=_0._0t(_5,_a);_0.rect.setRightTop(_0.rect.rightTop.subtract(_M));_0.drawRect(0,1);_0._7s.set(_5,_a);},dynResizeSW:function(_0,_5,_a){var _M=_0._0t(_5,_a);_0.rect.setLeftBottom(_0.rect.leftBottom.subtract(_M));_0.drawRect(1,0);_0._7s.set(_5,_a);},dynResizeSE:function(_0,_5,_a){var _M=_0._0t(_5,_a);_0.rect.setRightBottom(_0.rect.rightBottom.subtract(_M));_0.drawRect(0,0);_0._7s.set(_5,_a);},dynResizeW:function(_0,_5,_a){var _M=_0._0t(_5,_a);_0.rect.setLeft(_0.rect.left-_M.x);_0.drawRect(1,0);_0._7s.set(_5,_a);},dynResizeE:function(_0,_5,_a){var _M=_0._0t(_5,_a);_0.rect.setRight(_0.rect.right-_M.x);_0.drawRect(0,0);_0._7s.set(_5,_a);},dynResizeN:function(_0,_5,_a){var _M=_0._0t(_5,_a);_0.rect.setTop(_0.rect.top-_M.y);_0.drawRect(0,1);_0._7s.set(_5,_a);},dynResizeS:function(_0,_5,_a){var _M=_0._0t(_5,_a);_0.rect.setBottom(_0.rect.bottom-_M.y);_0.drawRect(0,0);_0._7s.set(_5,_a);},dynDrag:function(_0,_5,_a){var _M=_0._0t(_5,_a);_0.rect.offsetTo(_0.rect.leftTop.subtract(_M));_0.drawRect(1,1);_0._7s.set(_5,_a);},_79:function(){this._0b=[];var i,_0=this,_9c=0,_9b=1,_9f=2,_9e=3,_9g=4,_99=5,_9a=6,_9d=7,_8F=8,_0b=this._0b;_0b[_9c]=_0.dynResizeNW;_0b[_9b]=_0.dynResizeNE;_0b[_9f]=_0.dynResizeSW;_0b[_9e]=_0.dynResizeSE;_0b[_9g]=_0.dynResizeW;_0b[_99]=_0.dynResizeE;_0b[_9a]=_0.dynResizeN;_0b[_9d]=_0.dynResizeS;_0b[_8F]=_0.dynDrag;},_59:function(){this._1Q=-1;this._2D=[];var i,_2s,_z=this.options,_1=this.rect,_7x=[[0,0,_z.resizeNW[0],_z.resizeNW[1]],[_1.width-_z.resizeNE[0],0,_1.width,_z.resizeNE[1]],[0,_1.height-_z.resizeSW[1],_z.resizeSW[0],_1.height],[_1.width-_z.resizeSE[0],_1.height-_z.resizeSE[1],_1.width,_1.height],[0,_z.resizeN,_z.resizeW,_1.height-_z.resizeS],[_1.width-_z.resizeE,_z.resizeN,_1.width,_1.height-_z.resizeS],[_z.resizeW,0,_1.width-_z.resizeE,_z.resizeN],[_z.resizeW,_1.height-_z.resizeS,_1.width-_z.resizeE,_1.height],[_z.resizeW,_z.resizeN,_1.width-_z.resizeE,_1.height-_z.resizeS]];for(i=0;i!=9;i++){_2s=_7x[i];this._2D.push(new HRect(_2s[0],_2s[1],_2s[2],_2s[3]));}},_6H:function(){var i,_6k=this._7M.subtract(this.rect.left,this.rect.top),_2D=this._2D;for(i=0;i!=9;i++){if(_2D[i].contains(_6k)){this._1Q=i;return;}}},startDrag:function(_5,_a,_2T){this._7M=new HPoint(_5,_a);this._7s=new HPoint(_5,_a);this._9m=new HRect(this.rect);this._6H();if(this._1Q==8){this.setStyle('cursor','move');}
this.bringToFront();this.doDrag(_5,_a,_2T);},doDrag:function(_5,_a,_2T){if(this._1Q!=-1){this._0b[this._1Q](this,_5,_a);}},endDrag:function(_5,_a,_2T){this.doDrag(_5,_a,_2T);if(this._1Q==8){this.setStyle('cursor','default');}
this._59();}});HButton=HControl.extend({componentName:'button'});HCheckbox=HButton.extend({componentName:'checkbox',constructor:function(_1,_m,_2){this.base(_1,_m,_2);this.setClickable(true);},click:function(){this.setValue(!this.value);},refreshValue:function(){if(this.markupElemIds.control){if(this.value){this.toggleCSSClass(this.markupElemIds.control,'checked',true);this.toggleCSSClass(this.markupElemIds.control,'unchecked',false);}
else{this.toggleCSSClass(this.markupElemIds.control,'checked',false);this.toggleCSSClass(this.markupElemIds.control,'unchecked',true);}}}});HCheckBox=HCheckbox;HRadioButton=(HCheckbox.extend(HValueMatrixComponentExtension)).extend({componentName:'radiobutton'});HRadiobutton=HRadioButton;HStringView=HControl.extend({componentName:"stringview",componentBehaviour:['view','control','text'],refreshLabel:function(){if(this.markupElemIds){if(this.markupElemIds.value){ELEM.setAttr(this.markupElemIds.value,'title',this.label);}}}});HTextControl=HControl.extend({componentName:"textcontrol",constructor:function(_1,_g,_2){this.base(_1,_g,_2);this.setTextEnter(true);},setEnabled:function(_8){this.base(_8);if(this['markupElemIds']===undefined){return;}
if(this.markupElemIds.value){ELEM.setAttr(this.markupElemIds.value,'disabled',!this.enabled);}},refreshValue:function(){if(this.markupElemIds){if(this.markupElemIds.value){ELEM.get(this.markupElemIds.value).value=this.value;}}},textEnter:function(){if(this['markupElemIds']===undefined){return;}
var _8q=ELEM.get(this.markupElemIds.value).value;if(_8q!=this.value){this.setValue(_8q);}}});HUploader=HControl.extend({componentName:'uploader',uploadState:false,uploadKey:false,uploadStateLabels:{'0':"Select file...",'1':"Uploading...",'2':"Processing data...",'3':"Upload Complete",'4':"Preparing upload",'-1':"Error: Invalid request",'-2':"Error: Invalid upload key",'-3':"Error: Invalid data format",'-4':"Error: File too big",'-6':"Error: Post-processing failed"},markupElemNames:['form','file','iframe','upload_progress','progress_label','progress_indicator','button','button_label','value','ack_button'],setUploadState:function(_W,_6d){if(_W!==this.uploadState){this.uploadState=_W;var _4f=_W.toString();if(this.uploadStateLabels[_4f]!==undefined){ELEM.get(this.markupElemIds.value).value=this.valueObj.id;var _T=this.uploadStateLabels[_4f];if(_W==0){ELEM.setStyle(this.markupElemIds.upload_progress,'visibility','hidden');ELEM.setStyle(this.markupElemIds.progress_indicator,'visibility','hidden');ELEM.setStyle(this.markupElemIds.ack_button,'visibility','hidden');ELEM.setHTML(this.markupElemIds.button_label,_T);ELEM.setStyle(this.markupElemIds.button,'visibility','inherit');ELEM.setStyle(this.markupElemIds.form,'visibility','inherit');ELEM.setAttr(this.markupElemIds.form,'action','/U/'+_6d,true);ELEM.get(this.markupElemIds.file).value='';this.uploadKey=_6d;}
else if(_W==1||_W==2||_W==3||_W==4){ELEM.setStyle(this.markupElemIds.upload_progress,'visibility','inherit');if(_W==1||_W==2||_W==4){ELEM.setStyle(this.markupElemIds.progress_indicator,'visibility','inherit');ELEM.setStyle(this.markupElemIds.ack_button,'visibility','hidden');}
else{ELEM.setStyle(this.markupElemIds.progress_indicator,'visibility','hidden');ELEM.setStyle(this.markupElemIds.ack_button,'visibility','inherit');}
ELEM.setHTML(this.markupElemIds.progress_label,_T);ELEM.setStyle(this.markupElemIds.button,'visibility','hidden');ELEM.setStyle(this.markupElemIds.form,'visibility','hidden');if(_W==1){ELEM.get(this.markupElemIds.form).submit();}}
else if(_W<0){ELEM.setStyle(this.markupElemIds.progress_indicator,'visibility','hidden');ELEM.setStyle(this.markupElemIds.ack_button,'visibility','inherit');ELEM.setHTML(this.markupElemIds.progress_label,'<span style="color:red;">'+_T+'</span>');ELEM.setStyle(this.markupElemIds.button,'visibility','hidden');ELEM.setStyle(this.markupElemIds.form,'visibility','hidden');}}}},refreshValue:function(){if(typeof this.value!='string'){return;}
if(this.value.indexOf(':::')<1){return;}
var _4e=this.value.split(':::');if(_4e.length!=2){return;}
var _W=parseInt(_4e[0],10),_6d=_4e[1];this.setUploadState(_W,_6d);},upload:function(){this.setValue('1:::'+this.uploadKey);},getNewUploadKey:function(){this.setValue('4:::'+this.uploadKey);},click:function(){if((this.uploadState==3)||(this.uploadState<0)){this.getNewUploadKey();}}});HTextArea=HTextControl.extend({componentName:"textarea"});HSlider=HControl.extend({componentName:"slider",constructor:function(_1,_g,_2){if(!_2){_2={};}
_2.events={mouseDown:false,mouseUp:false,draggable:true,keyDown:true,keyUp:true,mouseWheel:true};var _w=Base.extend({minValue:0,maxValue:1});_w=_w.extend(_2);_2=new _w();if(this.isinherited){this.base(_1,_g,_2);}
else{this.isinherited=true;this.base(_1,_g,_2);this.isinherited=false;}
this.refreshOnValueChange=false;this._5g='sliderknob';this._0z=false;if(!this.isinherited){this.draw();}},setValue:function(_8q){if(_8q<this.minValue){_8q=this.minValue;}
if(_8q>this.maxValue){_8q=this.maxValue;}
this.base(_8q);if(this._3M){this.drawKnobPos();}},draw:function(){if(!this.drawn){this.drawRect();this.drawMarkup();this._7a();}
this.refresh();},startDrag:function(_5,_a){var _6=ELEM.get(this.elemId);var _5D=helmi.Element.getPageLocation(_6,true);this._7l=_5D[0];this._7m=_5D[1];this.doDrag(_5,_a);},endDrag:function(_5,_a){this.doDrag(_5,_a);},doDrag:function(_5,_a){_5-=this._7l;_a-=this._7m;_95=this._0z?_a:_5;_8q=this._7r(_95);this.setValue(_8q);},keyDown:function(_I){if((_I==Event.KEY_LEFT&&!this._0z)||(_I==Event.KEY_UP&&this._0z)){this._2j=true;this._30(-0.05);}
else if((_I==Event.KEY_RIGHT&&!this._0z)||(_I==Event.KEY_DOWN&&this._0z)){this._2j=true;this._30(0.05);}
else if(_I==Event.KEY_HOME){this.setValue(this.minValue);}
else if(_I==Event.KEY_END){this.setValue(this.maxValue);}
else if(_I==Event.KEY_PAGEUP){this._2j=true;this._30(-0.25);}
else if(_I==Event.KEY_PAGEDOWN){this._2j=true;this._30(0.25);}},keyUp:function(_I){this._2j=false;},mouseWheel:function(_Z){var _1O;if(_Z>0){_1O=-0.05;}
else{_1O=0.05;}
_8q=(this.maxValue-this.minValue)*_1O;this.setValue(this.value+_8q);},_30:function(_1O,_1J){if(!_1J){_1J=300;}
else if(_1J==300){_1J=50;}
if(this._2j&&this.active){_8q=(this.maxValue-this.minValue)*_1O;this.setValue(this.value+_8q);var _o=this;if(this._3N){window.clearTimeout(this._3N);this._3N=null;}
this._3N=window.setTimeout(function(){_o._30(_1O,_1J);},_1J);}},_7a:function(){this._3M=this.bindDomElement(this._5g+this.elemId);this.drawKnobPos();},_4p:function(){var _7=ELEM.get(this._3M);if(this._0z){_5I=this.rect.height-parseInt(_7.offsetHeight,10);}else{_5I=this.rect.width-parseInt(_7.offsetWidth,10);}
_3L=_5I*((this.value-this.minValue)/(this.maxValue-this.minValue));_49=parseInt(_3L,10)+'px';return _49;},_7r:function(_5u){_10=this._0z?(_5u):(_5u);if(_10<0){_10=0;}
if(this._0z){if(_10>this.rect.height){_10=this.rect.height;}
return this.minValue+((_10/this.rect.height)*(this.maxValue-this.minValue));}else{if(_10>this.rect.width){_10=this.rect.width;}
return this.minValue+((_10/this.rect.width)*(this.maxValue-this.minValue));}},drawKnobPos:function(){_9s=this._0z?'top':'left';_47=this._4p();ELEM.setStyle(this._3M,_9s,_47);}});HVSlider=HSlider.extend({componentName:"vslider",constructor:function(_1,_g,_2){if(this.isinherited){this.base(_1,_g,_2);}
else{this.isinherited=true;this.base(_1,_g,_2);this.isinherited=false;}
this.type='[HVSlider]';this._5g='vsliderknob';this._0z=true;if(!this.isinherited){this.draw();}}});HProgressBar=HControl.extend({componentName:"progressbar",constructor:function(_1,_g,_2){if(this.isinherited){this.base(_1,_g,_2);}
else{this.isinherited=true;this.base(_1,_g,_2);this.isinherited=false;}
if(!_2){_2={};}
var _w=Base.extend({value:0,minValue:0,maxValue:100});_w=_w.extend(_2);_2=new _w();this.value=_2.value;this.minValue=_2.minValue;this.maxValue=_2.maxValue;this.visibleWidth=this.rect.width-2;this.type='[HProgressBar]';this._46='progressmark';if(!this.isinherited){this.draw();}
this.progressFrameHeight=20;this.progressFrames=10;this.currProgressFrame=0;},setProgressFrameHeight:function(_09){this.progressFrameHeight=_09;},setProgressFrameNum:function(_34){this.progressFrames=_34;},setValue:function(_8q){this.base(_8q);this.drawProgress();},onIdle:function(){if(this.progressbarElemId){this.currProgressFrame++;if(this.currProgressFrame>=this.progressFrames){this.currProgressFrame=0;}
var _09=this.currProgressFrame*this.progressFrameHeight;ELEM.setStyle(this.progressbarElemId,'background-position','0px -'+_09+'px');}},draw:function(){if(!this.drawn){this.drawRect();this.drawMarkup();this._3K();}},_3K:function(){this.progressbarElemId=this.bindDomElement(this._46+this.elemId);this.drawProgress();},_4p:function(){var _3L=this.visibleWidth*((this.value-this.minValue)/(this.maxValue-this.minValue));var _49=parseInt(Math.round(_3L),10)+'px';return _49;},drawProgress:function(){if(this.progressbarElemId){var _47=this._4p();ELEM.setStyle(this.progressbarElemId,'width',_47);}}});HProgressIndicator=HControl.extend({packageName:"progress",componentName:"progressindicator",constructor:function(_1,_g,_2){if(this.isinherited){this.base(_1,_g,_2);}
else{this.isinherited=true;this.base(_1,_g,_2);this.isinherited=false;}
if(!_2){_2={};}
var _w=Base.extend({value:0,interval:20});_w=_w.extend(_2);_2=new _w();this.type='[HProgressIndicator]';this._46='progressmark';this.interval=_2.interval;this.value=_2.value;this._1v=null;if(!this.isinherited){this.draw();}},setValue:function(_8q){if(this._45){if(_8q==true&&!this._1v){var temp=this;this._1v=setInterval(function(){temp.drawProgress();},temp.interval);}
else{clearInterval(this._1v);this._1v=null;}}},die:function(){this.base();if(this._1v){clearInterval(this._1v);}},draw:function(){if(!this.drawn){this.drawRect();this.drawMarkup();this._3K();}},_3K:function(){this._45=this.bindDomElement(this._46+this.elemId);this.drawProgress();},drawProgress:function(){this.progressPosition++;if(this.progressPosition>this.positionLimit-1){this.progressPosition=0;}
if(this._45){ELEM.setStyle(this._45,'background-position','0px -'+
(this.progressPosition*this.rect.height)+'px');}}});HImageView=HControl.extend({constructor:function(_1,_g,_2){if(!_2){_2={};}
var _w=HClass.extend({scaleToFit:true});_2=new(_w.extend(_2))();if(this.isinherited){this.base(_1,_g,_2);}
else{this.isinherited=true;this.base(_1,_g,_2);this.isinherited=false;}
if(!this.value){this.value=this.getThemeGfxPath()+"/blank.gif";}
if(!this.isinherited){this.draw();}},_5p:function(_36){this.elemId=ELEM.make(_36,'img');ELEM.setAttr(this.elemId,'src',this.value);ELEM.setAttr(this.elemId,'alt',this.label);},_5q:function(_36){this.elemId=ELEM.make(_36,'div');ELEM.setStyle(this.elemId,'background-image','url('+this.value+')');ELEM.setStyle(this.elemId,'background-position','0px 0px');ELEM.setStyle(this.elemId,'background-repeat','no-repeat');},_5o:function(_36){if(this.options.scaleToFit){this._5p(_36);}
else{this._5q(_36);}},refreshValue:function(){ELEM.setAttr(this.elemId,'src',this.value);},refreshLabel:function(){ELEM.setAttr(this.elemId,'alt',this.label);},scaleToFit:function(){if(!this.options.scaleToFit){ELEM.del(this.elemId);this._5p(this._3F());this.options.scaleToFit=true;}},scaleToOriginal:function(){if(this.options.scaleToFit){ELEM.del(this.elemId);this._5q(this._3F());this.options.scaleToFit=false;}}});HSplitView=HControl.extend({componentName:"splitview",constructor:function(_1,_g,_2){_2=new(Base.extend({vertical:false}).extend(_2));if(this.isinherited){this.base(_1,_g,_2);}
else{this.isinherited=true;this.base(_1,_g,_2);this.isinherited=false;}
this.preserveTheme=true;this.vertical=this.options.vertical;this.dividerWidth=6;this.splitviews=[];this.dividers=[];this.setDraggable(true);if(!this.isinherited){this.draw();}},startDrag:function(_5,_a,_L){if(!_L){return;}
_5-=this.pageX();_a-=this.pageY();var _d=this.dividers.indexOfObject(_L);this._2t=new HPoint(_5,_a);this._38=new HPoint(_5,_a);this._0t=this._2t.subtract(_L.rect.leftTop);this._0o=this.splitviews[_d];this._V=this.splitviews[_d+1];this._L=_L;if(this.vertical==false){this._2V=this._0o.rect.top;this._2W=this._V.rect.bottom-this.dividerWidth;}else{this._2V=this._0o.rect.left;this._2W=this._V.rect.right-this.dividerWidth;}},doDrag:function(_5,_a,_L){if(!_L){return;}
_5-=this.pageX();_a-=this.pageY();if(this.vertical==false){var _v=_a-this._0t.y;if(_v<this._2V||_v>this._2W){return;}
this._0o.rect.setHeight(_v);this._0o.rect.updateSecondaryValues();this._0o.setStyle('height',this._0o.rect.height+'px',true);this._L.rect.setTop(_v);this._L.rect.updateSecondaryValues();this._L.setStyle('top',this._L.rect.top+'px',true);this._V.rect.setTop(_v+this.dividerWidth);this._V.rect.updateSecondaryValues();this._V.setStyle('top',this._V.rect.top+'px',true);this._V.setStyle('height',this._V.rect.height+'px',true);}else{var _v=_5-this._0t.x;if(_v<this._2V||_v>this._2W){return;}
this._0o.rect.setRight(_v);this._0o.rect.updateSecondaryValues();this._0o.setStyle('width',this._0o.rect.width+'px',true);this._L.rect.setLeft(_v);this._L.rect.updateSecondaryValues();this._L.setStyle('left',this._L.rect.left+'px',true);this._V.rect.setLeft(_v+this.dividerWidth);this._V.rect.updateSecondaryValues();this._V.setStyle('left',this._V.rect.left+'px',true);this._V.setStyle('width',this._V.rect.width+'px',true);}},endDrag:function(_5,_a,_L){this.doDrag(_5,_a);delete this._2t;delete this._38;delete this._0t;delete this._0o;delete this._V;delete this._L;delete this._2V;delete this._2W;},addSplitViewItem:function(_0N,_d){if(_d!==undefined){this.splitviews.splice(_d,0,_0N);}else{this.splitviews.push(_0N);}},removeSplitViewItem:function(_0N){if(typeof _0N=="object"){var _d=this.splitviews.indexOfObject(_0N);if(_d!=-1){this.splitviews.splice(_d,1);_0N.die();this.dividers.splice(_d,1);this.dividers[_d].die();}}},setVertical:function(_8){this.vertical=_8;this.options.vertical=_8;},adjustViews:function(){var _0G=this.splitviews.length;var _32;var _1F;var _39;var _1K;if(this.vertical==false){_32=this.rect.height-this.dividerWidth*(_0G-1);_1F=0;for(var i=0;i<_0G;i++){_1F+=this.splitviews[i].rect.height;}
_39=_32/_1F;_1K=0;for(var i=0;i<_0G;i++){var _f=this.splitviews[i];var _1D=_f.rect.height*_39;if(i==_0G-1){_1D=Math.floor(_1D);}else{_1D=Math.ceil(_1D);}
_f.rect.offsetTo(0,_1K);_f.rect.setSize(this.rect.width,_1D);_f.draw();_1K+=_1D+this.dividerWidth;}}else{_32=this.rect.width-this.dividerWidth*(_0G-1);_1F=0;for(var i=0;i<_0G;i++){_1F+=this.splitviews[i].rect.width;}
_39=_32/_1F;_1K=0;for(var i=0;i<_0G;i++){var _f=this.splitviews[i];var _1E=_f.rect.width*_39;if(i==_0G-1){_1E=Math.floor(_1E);}else{_1E=Math.ceil(_1E);}
_f.rect.offsetTo(_1K,0);_f.rect.setSize(_1E,this.rect.height);_f.draw();_1K+=_1E+this.dividerWidth;}}
this.draw();},refresh:function(){this.base();if(this.drawn){var _0G=this.splitviews.length;var _01;for(var i=0;i<(_0G-1);i++){_01=new HRect(this.splitviews[i].rect);if(!this.vertical){_01.offsetTo(_01.left,_01.bottom);_01.setHeight(this.dividerWidth);}else{_01.offsetTo(_01.right,_01.top);_01.setWidth(this.dividerWidth);}
if(!this.dividers[i]){this.dividers[i]=new HDivider(_01,this);}else{var _f=this.dividers[i];_f.rect.offsetTo(_01.left,_01.top);_f.rect.setSize(_01.width,_01.height);_f.draw();}}}}});HStepper=HButton.extend({componentName:"stepper",constructor:function(_1,_g,_2){if(!_2){_2={};}
_2.events={mouseDown:true,keyDown:true,mouseWheel:true};var _w=Base.extend({minValue:0,value:0,interval:500});_w=_w.extend(_2);_2=new _w();if(this.isinherited){this.base(_1,_g,_2);}
else{this.isinherited=true;this.base(_1,_g,_2);this.isinherited=false;}
this.interval=_2.interval;this._68="stepperlabel";this.border=((_1.bottom-_1.top)/2+_1.top);if(!this.isinherited){this.draw();}},stepUp:function(_8q){_8q--;_8q=(_8q<this.minValue)?this.maxValue:_8q;this.setValue(_8q);},stepDown:function(_8q){_8q++;_8q=(_8q>this.maxValue)?this.minValue:_8q;this.setValue(_8q);},mouseDown:function(_5,_a,_04){this.setMouseUp(true);var temp=this;if(_a<this.border){this.stepUp(this.value);this.counter=setInterval(function(){temp.stepUp(temp.value);},this.interval);}else{this.stepDown(this.value);this.counter=setInterval(function(){temp.stepDown(temp.value);},this.interval);}},mouseUp:function(_5,_a,_04){clearInterval(this.counter);},blur:function(){clearInterval(this.counter);},keyDown:function(_I){this.setKeyUp(true);var temp=this;if(_I==Event.KEY_UP){this.stepUp(this.value);this.counter=setInterval(function(){temp.stepUp(temp.value);},this.interval);}
else if(_I==Event.KEY_DOWN){this.stepDown(this.value);this.counter=setInterval(function(){temp.stepUp(temp.value);},this.interval);}},keyUp:function(_I){clearInterval(this.counter);},mouseWheel:function(_Z){if(_Z>0){this.stepUp(this.value);}
else{this.stepDown(this.value);}}});HPasswordControl=HTextControl.extend({componentName:"passwordcontrol"});HDivider=HControl.extend({componentName:"divider",constructor:function(_1,_g,_2){if(this.isinherited){this.base(_1,_g,_2);}
else{this.isinherited=true;this.base(_1,_g,_2);this.isinherited=false;}
this.type='[HDivider]';this.preserveTheme=true;this.setDraggable(true);if(!this.isinherited){this.draw();}},startDrag:function(_5,_a){this.parent.startDrag(_5,_a,this);},doDrag:function(_5,_a){this.parent.doDrag(_5,_a,this);},endDrag:function(_5,_a){this.parent.endDrag(_5,_a,this);},draw:function(){if(!this.drawn){this.drawRect();this.drawMarkup();this.drawn=true;}
this.refresh();}});HValidatorView=HControl.extend({constructor:function(_1,_m,_2){if(_2!==undefined){if(_2.valueField!==undefined){_1.offsetTo(_2.valueField.rect.right,_2.valueField.rect.top);}}
if(this.isinherited){this.base(_1,_m,_2);}
else{this.isinherited=true;this.base(_1,_m,_2);this.isinherited=false;}
if(!this.isinherited){this.draw();}},setValue:function(_8){if(null===_8||undefined===_8){_8=false;}
this.base(_8);},refresh:function(){this.base();this._8b();},_8b:function(){var _5=0,_a=0;this.setStyle('background-image',"url('"+this.getThemeGfxFile('validator.png')+"')");this.setStyle('background-repeat','no-repeat');if(this.enabled==false){_a=-21;}
if(this.value==true){_5=-21;_66='';}else{_66=this.value;}
ELEM.setAttr(this.elemId,'title',_66);this.setStyle('background-position',_5+'px '+_a+'px');}});HWindow=HDynControl.extend({componentName:'window',constructor:function(_1,_94,_2){if(_94.componentBehaviour[0]!='app'){console.log("Himle.ComponentParentError","HWindow parent must be an HApplication instance!");}
if(!_2){_2={};}
var _w=HClass.extend({minSize:[96,54],maxSize:[16000,9000],resizeW:2,resizeE:2,resizeN:2,resizeS:2,resizeNW:[2,2],resizeNE:[2,2],resizeSW:[2,2],resizeSE:[16,16],noResize:false});_2=new(_w.extend(_2))();if(_2.noResize){_2.minSize=[_1.width,_1.height];_2.maxSize=[_1.width,_1.height];_2.resizeW=0;resizeE=0;resizeN=0;resizeS=0;resizeNW=[0,0];resizeNE=[0,0];resizeSW=[0,0];resizeSE=[0,0];}
this.base(_1,_94,_2);this.windowView=this;HSystem.windowFocus(this);},gainedActiveStatus:function(){HSystem.windowFocus(this);},windowFocus:function(){this.toggleCSSClass(this.elemId,'inactive',false);this.setStyle('cursor','move');},windowBlur:function(){this.toggleCSSClass(this.elemId,'inactive',true);this.setStyle('cursor','default');}});HTabView=HView.extend({tabIndex:0,flexRight:true,flexRightOffset:0,flexBottom:true,flexBottomOffset:0,draw:function(){var _1f=this.drawn;this.base();if(!_1f){var i=0,_4h=[['overflow','auto']];for(i;i<_4h.length;i++){this.setStyle(_4h[i][0],_4h[i][1]);}
this.hide();}}});HTab=HControl.extend({componentName:"tab",componentBehaviour:['view','control','tab'],refreshOnValueChange:false,refreshOnLabelChange:false,constructor:function(_1,_m,_2){this.tabInit();if(this.isinherited){this.base(_1,_m,_2);}
else{this.isinherited=true;this.base(_1,_m,_2);this.isinherited=false;}
this.type='[HTab]';this.setMouseDown(true);if(!this.isinherited){this.draw();}},setValue:function(_8q){this.base(_8q);if(typeof _8q=='number'){var _d=parseInt(_8q,10);if(_d<this.tabs.length){if(_d!=this.selectIdx){this.selectTab(_d);}}}},stringWidth:function(_13,_9){var _0w='<span style="'+this.fontStyle+'">'+_13+'</span>',_s=this.base(_0w,null,_9);return _s;},tabInit:function(){this.tabs=[];this.tabLabels=[];this.tabLabelBounds=[];this.tabLabelStrings=[];this.rightmostPx=0;this.selectIdx=-1;this.tabLabelHeight=20;this.tabLabelLeftEdge=4;this.tabLabelRightEdge=4;this.fontStyle='font-family:Arial,sans-serif;font-size:13px;';this.tabLabelHTMLPrefix1='<div class="edge-left"></div><div class="tablabel" style="width:';this.tabLabelHTMLPrefix2='px">';this.tabLabelHTMLSuffix='</div><div class="edge-right"></div>';this.tabLabelParentElem='label';this.tabLabelElementTagName='div';this.tabLabelAlign='left';this.tabLabelFillBg=false;this.tabTriggerLink=false;this.tabLabelNoHTMLPrefix=false;},setLabel:function(_T){this.label=_T;},selectTab:function(_u){if(_u instanceof HTabView){_u=_u.tabIndex;}
if(this.selectIdx!=-1){var _60=this.tabLabels[this.selectIdx],_80=this.tabs[this.selectIdx];ELEM.removeClassName(_60,'item-fg');ELEM.addClassName(_60,'item-bg');HSystem.views[_80].hide();}
if(_u!=-1){var _0h=this.tabLabels[_u],_4i=this.tabs[_u];ELEM.removeClassName(_0h,'item-bg');ELEM.addClassName(_0h,'item-fg');HSystem.views[_4i].show();}
this.selectIdx=_u;this.setValue(_u);},addTab:function(_3b,_8C){var _u=this.tabs.length,_5Z='',_7f=this.stringWidth(_3b,0),_3P=_7f+this.tabLabelLeftEdge+this.tabLabelRightEdge,_1M=new HTabView(new HRect(0,this.tabLabelHeight,this.rect.width,this.rect.height),this),_u=this.tabs.length,_0h=ELEM.make(this.markupElemIds[this.tabLabelParentElem],this.tabLabelElementTagName);if(this.tabLabelNoHTMLPrefix){_5Z=_3b;}
else{_5Z=this.tabLabelHTMLPrefix1+_7f+this.tabLabelHTMLPrefix2+_3b+this.tabLabelHTMLSuffix;}
_1M.hide();ELEM.addClassName(_0h,'item-bg');ELEM.setStyle(_0h,'width',_3P+'px');ELEM.setStyle(_0h,this.tabLabelAlign,this.rightmostPx+'px');ELEM.setHTML(_0h,_5Z);this.tabLabelStrings.push(_3b);if(this.tabTriggerLink&&this.tabLabelElementTagName=='a'){ELEM.setAttr(_0h,'href','javascript:HSystem.views['+this.viewId+'].selectTab('+_u+');');}
else if(this.tabTriggerLink){ELEM.setAttr(_0h,'mouseup','HSystem.views['+this.viewId+'].selectTab('+_u+');');}
else{this.tabLabelBounds.push([this.rightmostPx,this.rightmostPx+_3P]);}
this.rightmostPx+=_3P;if(this.tabLabelAlign=='right'){ELEM.setStyle(this.markupElemIds[this.tabLabelParentElem],'width',this.rightmostPx+'px');}
else if(this.tabLabelFillBg){ELEM.setStyle(this.markupElemIds.state,'left',this.rightmostPx+'px');}
this.tabs.push(_1M.viewId);this.tabLabels.push(_0h);_1M.tabIndex=_u;if(_8C){this.selectTab(_u);}
return _1M;},mouseDown:function(_5,_a){if(this.tabTriggerLink){this.setMouseDown(false);return;}
_5-=this.pageX();_a-=this.pageY();if(_a<=this.tabLabelHeight){if(this.tabLabelAlign=='right'){_5=this.rect.width-_5;}
if(_5<=this.rightmostPx){var i=0,_5h;for(i;i<this.tabLabelBounds.length;i++){_5h=this.tabLabelBounds[i];if(_5<_5h[1]&&_5>=_5h[0]){this.selectTab(i);return;}}}}},removeTab:function(_u){var _7H=this.selectIdx,_4i=this.tabs[_u],_0h=this.tabViews[_u];this.tabs.splice(_u,1);this.tabLabels.splice(_u,1);this.tabLabelBounds.splice(_u,1);this.tabLabelStrings.splice(_u,1);if(_u==_7H){this.selectIdx=-1;if(_u==0&&this.tabs.length==0){this.selectTab(-1);}
else if(_u==(this.tabs.length-1)){this.selectTab(_u-1);}
else{this.selectTab(_u);}}
else if(_u<_7H){this.selectIdx--;}
ELEM.del(_0h);HSystem.views[_4i].die();},draw:function(){var _1f=this.drawn;this.base();if(!_1f){this.drawMarkup();}
this.refresh();}});HImageButton=HControl.extend({componentName:"imagebutton",constructor:function(_1,_g,_2){if(this.isinherited){this.base(_1,_g,_2);}
else{this.isinherited=true;this.base(_1,_g,_2);this.isinherited=false;}
this.styleButtonDefaults=new(Base.extend({image:this.getThemeGfxPath()+"blank.gif",alternateImage:""}).extend(_2));this._0X=this.getThemeGfxPath()+this.styleButtonDefaults.image;this._4w=this.getThemeGfxPath()+this.styleButtonDefaults.alternateImage;this.type='[HImageButton]';this.preserveTheme=true;this.setMouseUp(true);if(!this.isinherited){this.draw();}},draw:function(){if(!this.drawn){this.drawRect();this.drawMarkup();this.drawn=true;}
this.refresh();},_8a:function(){if(!this.value){ELEM.get(this._2S).src=this._0X;}else{if(this._4w){ELEM.get(this._2S).src=this._4w;}}},refresh:function(){if(this.drawn){this.base();if(!this._2S){this._2S=this.bindDomElement(HImageButton._67+this.elemId);}
if(this._2S){this._8a();}}},mouseUp:function(_5,_a,_04){this.setValue(!this.value);}},{_67:"imagebutton"});HDataBuffer=HClass.extend({constructor:function(_H,_02,_U,_2a,_j){this._H=_H;this._02=_02;this._U=_U;this._2a=_2a;this._2I=3;this._j=_j;},startingRow:function(){return this._H-this._j;},endingRow:function(){return this._02+this._j;},lowerLimit:function(){return this._U+parseInt(this._j/2,10);},upperLimit:function(){return this._U+(this._2I-1)*(this._02-this._H)-parseInt(this._j/2,10);},endBufferStartRow:function(){return(this._2I-1)*this._j;},getNewBottomRow:function(){return this._U+this._2I*this._j;},getNewBottomRowEnd:function(){return this._U+(this._2I+1)*this._j;},getNewTopRow:function(){return this._U-this._j;},getNewTopRowEnd:function(){return this._U;},getNewDownBufferIndexes:function(_0n){if(_0n==0){return[this._j,0];}else if(_0n==this._j){return[2*this._j,this._j];}else if(_0n==2*this._j){return[0,2*this._j];}},getNewUpBufferIndexes:function(_0n){if(_0n==0){return[2*this._j,this._j];}else if(_0n==2*this._j){return[this._j,0];}else if(_0n==this._j){return[0,2*this._j];}}});HLocalTableValue=HValue.extend({constructor:function(_4,_8q){this.initTable(_4,_8q);this.value=_8q.value;},initTable:function(_4,_8q){},set:function(_8q){},updateBuffer:function(_0D,_2b){},setCell:function(_4j,_8q,_A,_k){if(!this.value[_A]){return;}
this.value[_A][_k]=_8q;},getCell:function(_4j,_A,_k){if(!this.value[_A]){return"";}
return this.value[_A][_k];},numberOfRows:function(){return 100;},toXML:function(){}});HTableValue=HValue.extend({constructor:function(_4,_8q){this.initTable(_4,_8q);},initTable:function(_4,_8q){if(typeof _8q!="object"){throw"HTableValue error: value not an object";}
if(typeof _8q.value!="object"){throw"HTableValue error: object.value not an array";}
if(typeof _8q.length!="number"){throw"HTableValue error: object.length not a number";}
if(typeof _8q.startrow!="number"){throw"HTableValue error: object.startrow not a number";}
if(typeof _8q.endrow!="number"){throw"HTableValue error: object.endrow not a number";}
if(typeof _8q.columns!="object"){throw"HTableValue error: object.columns not an array";}
this.value=_8q.value;this.length=_8q.length;this.columns=_8q.columns;this.startrow=_8q.startrow;this.endrow=_8q.endrow;this.startrow1=0;this.endrow1=0;this.id=_4;this.type='[HTableValue]';this.views=[];this.startdatarow=this.startrow;this.enddatarow=this.endrow;this.datalength=this.endrow-(this.startrow-1);this.gettingData=false;this.gettingData1=false;this.gettingDataInterrupted=false;this.gettingDataInterrupted1=false;this.index1=0;this.index2=0;this.valueRequested=undefined;HValueManager.add(_4,this);},set:function(_8q){if(this.valueRequested==1){this.value1=_8q;this.gettingData1=false;}else if(this.valueRequested==0){this.value=_8q;this.gettingData=false;}
if(this.gettingDataInterrupted){this.tableControl.reloadData();this.gettingDataInterrupted=false;}
if(this.gettingDataInterrupted1){this.tableControl.reloadData();this.gettingDataInterrupted1=false;}
if(this.reloading==true){this.tableControl.reloadData();this.reloading=false;}},updateBuffer:function(_0D,_2b){var _j=this.datalength;var _1o=undefined;if(this.startdatarow-1<=_0D&&_2b<=this.enddatarow-1){var _4c;var _4b;if(this.startrow-1<=_0D&&_2b<=this.endrow-1){_4c=this.startrow-1+parseInt(_j/4,10);_4b=this.endrow-1-parseInt(_j/4,10);_1o=0;}else if((this.startrow1&&this.endrow1)&&this.startrow1-1<=_0D&&_2b<=this.endrow1-1){_4c=this.startrow1-1+parseInt(_j/4,10);_4b=this.endrow1-1-parseInt(_j/4,10);_1o=1;}
if(_2b>_4b){if(_1o==0&&this.startrow1<this.startrow){var _x=this.endrow+1;var _D=this.endrow+_j;if(_D>this.length){_D=this.length;}
this.startrow1=_x;this.endrow1=_D;this.startrow2=this.startrow1;this.endrow2=this.endrow1;window.status="going down 0 "+"this.startrow "+this.startrow+" "+"this.endrow "+this.endrow+" "+"this.startrow1 "+this.startrow1+" "+"this.endrow1 "+this.endrow1+" ";this.startdatarow=this.startrow;this.enddatarow=this.endrow1;this.valueRequested=1;this.gettingData1=true;HValueManager.changed(this);}
if(_1o==1&&this.startrow<this.startrow1){var _x=this.endrow1+1;var _D=this.endrow1+_j;if(_D>this.length){_D=this.length;}
this.startrow=_x;this.endrow=_D;this.startrow2=this.startrow;this.endrow2=this.endrow;window.status="going down 1 "+"this.startrow1 "+this.startrow1+" "+"this.endrow1 "+this.endrow1+" "+"this.startrow "+this.startrow+" "+"this.endrow "+this.endrow+" ";this.startdatarow=this.startrow1;this.enddatarow=this.endrow;this.valueRequested=0;this.gettingData=true;HValueManager.changed(this);}}
if(_0D<_4c){if(this.startrow-1==0&&_1o==0){}else{if(_1o==0&&this.startrow<this.startrow1){var _x=this.startrow-_j;var _D=this.startrow-1;if(_x<1){_x=1;}
this.startrow1=_x;this.endrow1=_D;this.startrow2=this.startrow1;this.endrow2=this.endrow1;this.startdatarow=this.startrow1;window.status="going up 0 "+"this.startrow "+this.startrow+" "+"this.endrow "+this.endrow+" "+"this.startrow1 "+this.startrow1+" "+"this.endrow1 "+this.endrow1+" ";this.enddatarow=this.endrow;this.valueRequested=1;this.gettingData1=true;HValueManager.changed(this);}
if(_1o==1&&this.startrow1<this.startrow){var _x=this.startrow1-_j;var _D=this.startrow1-1;if(_x<1){_x=1;}
this.startrow=_x;this.endrow=_D;this.startrow2=this.startrow;this.endrow2=this.endrow;this.startdatarow=this.startrow;this.enddatarow=this.endrow1;window.status="going up 1 "+"this.startrow "+this.startrow+" "+"this.endrow "+this.endrow+" "+"this.startrow1 "+this.startrow1+" "+"this.endrow1 "+this.endrow1+" ";this.valueRequested=0;this.gettingData=true;HValueManager.changed(this);}}}}else{var _8g=_2b-_0D;var _x=_0D-parseInt(_j/2,10)+parseInt(_8g/2,10);if(_x<1){_x=1;}
var _D=_x+_j-1;if(_D>this.length){_D=this.length;}
this.startrow=_x;this.endrow=_D;this.startrow1=undefined;this.endrow1=undefined;this.startrow2=this.startrow;this.endrow2=this.endrow;this.startdatarow=_x;this.enddatarow=_D;this.valueRequested=0;this.gettingData=true;this.reloading=true;HValueManager.changed(this);}},setCell:function(_4j,_8q,_A,_k){this.value[_A][_k]=_8q;},getCell:function(_4j,_A,_k){if(this.startrow-1<=_A&&_A<=this.endrow-1){if(this.gettingData){this.gettingDataInterrupted=true;}else{if(this.value[_A-(this.startrow-1)]){return this.value[_A-(this.startrow-1)][_k];}}}else if(this.startrow1-1<=_A&&_A<=this.endrow1-1){if(this.gettingData1){this.gettingDataInterrupted1=true;}else{if(this.value1&&this.value1[_A-(this.startrow1-1)]){return this.value1[_A-(this.startrow1-1)][_k];}}}
return"-";},numberOfRows:function(){return this.length;},toXML:function(_0K){var _1m=this.id;var _5N="";for(var _k=0;_k<this.columns.length;_k++){_5N+='<getrows column="'+this.columns[_k]+'" startrow="'+this.startrow2+'" endrow="'+this.endrow2+'" />';}
return'<tablevalue length="'+this.columns.length+'" id="'+_1m+'" order="'+_0K+'">'+_5N+'</tablevalue>';}});HTableHeaderColumn=HControl.extend({packageName:"table",componentName:"tableheadercolumn",constructor:function(_1,_g,_2){this.isinherited=true;this.base(_1,_g,_2);this.isinherited=false;this.type='[HTableHeaderColumn]';this._68="tableheadercolumnlabel";this._87="tableheaderselected";this._86="tableheaderorder";this.preserveTheme=true;this.setMouseUp(true);this.setDraggable(true);this.options=this.parent.parent.tableViewDefaults;this._4a();},draw:function(){if(!this.drawn){this.drawRect();this.drawMarkup();this.drawn=true;}
this.refresh();},refresh:function(){if(!this._3O){this._3O=ELEM.bindId(this._68+this.elemId);this._4d=ELEM.bindId(this._87+this.elemId);this._1G=ELEM.bindId(this._86+this.elemId);}
if(this._3O){ELEM.setHTML(this._3O,this.label);}},_7K:function(){_00.direction=!_00.direction;this.toggleCSSClass(ELEM.get(this._1G),'order-dn',!_00.direction);this.toggleCSSClass(ELEM.get(this._1G),'order-up',_00.direction);for(var _35=0;_35<this.parent.parent.tableHeaderColumns.length;_35++){var _40=this.parent.parent.tableHeaderColumns[_35]._4d;if(_40&&(_40!=this._9j)){ELEM.setStyle(_40,'visibility','hidden');}
var _41=this.parent.parent.tableHeaderColumns[_35]._1G;if(_41&&(_41!=this._1G)){ELEM.setStyle(_41,'visibility','hidden');}}
if(this._4d){ELEM.setStyle(this._4d,'visibility','inherit');}
if(this._1G){ELEM.setStyle(this._1G,'visibility','inherit');}
var _d=this.parent.parent.tableHeaderColumns.indexOf(this);_00.column=_d;this.parent.parent.data.value.sort(_00);this.parent.parent.reloadData();},startDrag:function(_5,_a){this.base(_5,_a);this._4a();_5-=this.parent.pageX();_a-=this.parent.pageY();this._0n=this.parent.parent.tableHeaderColumns.indexOf(this);this._3x=false;this._2t=new HPoint(_5,_a);this._38=new HPoint(_5,_a);this._2u=new HRect(this.rect);this._4a();var _42=this._2t.subtract(this._2u.leftTop);if(this._0c.resizeWRect.contains(_42)){this._0t=_5-this.rect.left;this._0c.resizeW=true;}else if(this._0c.resizeERect.contains(_42)){this._0t=_5-this.rect.right;this._0c.resizeE=true;}else if(this._0c.dragColumnRect.contains(_42)){this._0t=this._2t.subtract(this._2u.leftTop);this._0c.dragColumn=true;}
this.bringToFront();this._4S=true;this.doDrag(_5,_a);this._4S=false;},doDrag:function(_5,_a){if(this._4S==false){_5-=this.parent.pageX();_a-=this.parent.pageY();}
var _0R=this.parent.parent;var _v;var _3t=new HPoint(_5,_a);var _d=this.parent.parent.tableHeaderColumns.indexOf(this);var _k=this.parent.parent.tableColumns[_d];if(!this._38.equals(_3t)){if(this._0c.resizeW==true){if(_d==0){return;}
_v=_5-this._0t;this.rect.left=_v;this.rect.updateSecondaryValues();this.drawRect();_k.rect.left=_v+this.parent.parent.scrollLeft();_k.rect.updateSecondaryValues();_k.drawRect();this.parent.parent._O[_d]=_v+this.parent.parent.scrollLeft();_0R._r[_d].width=this.rect.width;var _2m=this.parent.parent.tableColumns[(_d-1)];if(_2m){_2m.rect.right=_v+this.parent.parent.scrollLeft();_2m.rect.updateSecondaryValues();_2m.drawRect();this.parent.parent._r[_d-1].width=_2m.rect.width;_44=this.parent.parent.tableHeaderColumns[_d-1];_44.rect.right=_v;_44.rect.updateSecondaryValues();_44.drawRect();}}else if(this._0c.resizeE==true){var l=this.parent.parent.tableColumns.length;if(_d==l-1){return;}
_v=_5-this._0t;this.rect.right=_v;this.rect.updateSecondaryValues();this.drawRect();_k.rect.right=_v+this.parent.parent.scrollLeft();_k.rect.updateSecondaryValues();_k.drawRect();this.parent.parent._O[_d+1]=_v+this.parent.parent.scrollLeft();this.parent.parent._r[_d].width=this.rect.width;var _2l=this.parent.parent.tableColumns[(_d+1)];if(_2l){_2l.rect.left=_v+this.parent.parent.scrollLeft();_2l.rect.updateSecondaryValues();_2l.drawRect();this.parent.parent._r[_d+1].width=_2l.rect.width;_3Y=this.parent.parent.tableHeaderColumns[_d+1];_3Y.rect.left=_v;_3Y.rect.updateSecondaryValues();_3Y.drawRect();}}else if(this._0c.dragColumn==true){_v=_3t.subtract(this._0t);this.setStyle('opacity',0.4);this.setStyle('left',_v.x+"px");_k.setStyle('opacity',0.4);_k.setStyle('left',_v.x+this.parent.parent.scrollLeft()+"px");}
this._3x=true;if(this._0c.dragColumn==false){}
this._38=_3t;}},endDrag:function(_5,_a){this.base(_5,_a);this.doDrag(_5,_a);_5-=this.parent.pageX();_a-=this.parent.pageY();var _0R=this.parent.parent;this.setStyle('opacity',1.0);_0R.tableColumns[this._0n].setStyle('opacity',1.0);var _8=false;var i,l=_0R.tableHeaderColumns.length;for(i=0;i<l;i++){if(_0R.tableHeaderColumns[i].rect.left<=_5&&_5<=_0R.tableHeaderColumns[i].rect.right&&_0R.tableHeaderColumns[i]!=this){if(this._0c.dragColumn==true){_0R.moveColumn(this._0n,i);_8=true;}}}
if(_8==false&&this._0c.dragColumn==true){this.setStyle('left',this._2u.left+"px");_0R.tableColumns[this._0n].setStyle('left',this._2u.left+"px");this._7K();}},drawRect:function(){this._3x=false;this.base();},_4a:function(){this._0c={dragColumn:false,resizeW:false,resizeE:false,dragColumnRect:new HRect(this.options.resizeW,0,this.rect.width-this.options.resizeE,this.rect.height),resizeWRect:new HRect(0,0,this.options.resizeW,this.rect.height),resizeERect:new HRect(this.rect.width-this.options.resizeE,0,this.rect.width,this.rect.height)};}});_00=function(a,b){if(a[_00.column]<b[_00.column]){return(_00.direction)?-1:1;}
if(a[_00.column]>b[_00.column]){return(_00.direction)?1:-1;}
return 0;};_00.direction=true;_00.column=0;HTableHeaderView=HControl.extend({packageName:"table",componentName:"tableheaderview",constructor:function(_1,_g,_2){if(this.isinherited){this.base(_1,_g,_2);}
else{this.isinherited=true;this.base(_1,_g,_2);this.isinherited=false;}
this.type='[HTableHeaderView]';this.preserveTheme=true;if(!this.isinherited){this.draw();}},draw:function(){this.base();}});HTableCornerView=HView.extend({packageName:"table",componentName:"tablecornerview",constructor:function(_1,_g){if(this.isinherited){this.base(_1,_g);}
else{this.isinherited=true;this.base(_1,_g);this.isinherited=false;}
this.type='[HTableCornerView]';this.preserveTheme=true;if(!this.isinherited){this.draw();}},draw:function(){if(!this.drawn){this.drawMarkup();}
this.drawRect();}});HTableColumn=HControl.extend({packageName:"table",componentName:"tablecolumn",constructor:function(_1,_g,_2){_2=new(Base.extend({dataView:"",headerView:""}).extend(_2));if(this.isinherited){this.base(_1,_g,_2);}
else{this.isinherited=true;this.base(_1,_g,_2);this.isinherited=false;}
this.type='[HTableColumn]';this.width=_1.width;this.dataView=this.options.dataView;this.headerView=this.options.headerView;this.index=this.options.index;this.preserveTheme=true;if(!this.isinherited){this.draw();}}});_6i=function(_d,_s,_13,_1x,_3I){this.index=_d;this.width=_s;this.string=_13;this.dataView=_1x;this.headerView=_3I;this.headerCreated=false;this.created=false;};HTableControl=HControl.extend({packageName:"table",componentName:"tablecontrol",calculateDimensions:function(){this._1W();},updateColumns:function(){this._2z();},constructor:function(_1,_g,_2){_2=new(Base.extend({rowHeight:21,headerViewHeight:21,bufferLength:3,resizeW:5,resizeE:5}).extend(_2));if(this.isinherited){this.base(_1,_g,_2);}
else{this.isinherited=true;this.base(_1,_g,_2);this.isinherited=false;}
this.tableViewDefaults=_2;this.type='[HTableControl]';this.preserveTheme=true;this.tableColumns=[];this._O=[];this.tableHeaderColumns=[];this._r=[];this._1d=[];this._0Q=[];this.numberOfRows=0;this._1c=0;this._4O=0;this._1e=0;this._25=0;this._08=0;this.headerView=new HTableHeaderView(new HRect(0,0,this.rect.width,this.options.headerViewHeight),this);this.tableView=new HView(new HRect(0,this.options.headerViewHeight,this.rect.width,this.rect.height),this);this.tableView.setStyle("overflow","auto");this.columnsView=new HView(new HRect(0,0,this.rect.width,this.rect.height-this.options.headerViewHeight),this.tableView);var _6B=new HRect(this.rect.width-18,0,this.rect.width,this.options.headerViewHeight);this.cornerView=new HTableCornerView(_6B,this);this._0a=new HRect(this.tableView.rect);this._0a.offsetTo(0,0);if(!this.isinherited){this.draw();}},onIdle:function(){this._2H();this.base();},_2z:function(){if(this.numberOfRows==0||this._r.length==0){return;}
var _H=this._5M(new HPoint(0,this._0a.top));var _02=this._5M(new HPoint(0,this._0a.bottom));var _3a,_2P;var _3h=this._0a.left;var i=0;while(i<this._r.length&&_3h>this._O[i]){i++;}
_3a=i-1;if(_3a==-1){_3a=0;}
var _3h=this._0a.right;while(i<this._r.length&&_3h>this._O[i]){i++;}
_2P=i-1;if(_2P==-1){_2P=this._r.length-1;}
var _5E=false;var _5F=false;var _4v=false;for(var i=_3a;i<=_2P;i++){if(this._r[i].created==false){var _6v=new HRect(this._O[i],0,this._O[i]+this._r[i].width,this.columnsView.rect.height);this.tableColumns[i]=new HTableColumn(_6v,this.columnsView,{label:this._r[i].string,dataView:this._r[i].dataView,headerView:this._r[i].headerView});this._r[i].created=true;}
if(this._r[i].headerCreated==false){var _72=new HRect(this._O[i]-this._0a.left,0,this._O[i]-this._0a.left+this._r[i].width,this.options.headerViewHeight);this.tableHeaderColumns[i]=new HTableHeaderColumn(_72,this.headerView,{label:this._r[i].string});this.tableHeaderColumns[i].draw();this._r[i].headerCreated=true;}
var _0E=this.tableColumns[i];var _4l=this.tableHeaderColumns[i];if(this._1d[i]==false){this._7b(i,_H,_02);this._1d[i]=true;}}
for(var i=0;i<this._r.length;i++){if(this._r[i].created==true){var _0E=this.tableColumns[i];var _4l=this.tableHeaderColumns[i];_4l.rect.offsetTo(this._O[i]-this._0a.left,0);_4l.drawRect();_0E.rect.set(this._O[i],0,this._O[i]+_0E.width,this.columnsView.rect.height);_0E.drawRect();if(!this._5J&&this._1c<=_H&&_H<this._1c+this.tableViewDefaults.bufferLength*this._08){var _F=new HDataBuffer(_H,_02,this._1c,this._4O,this._08);var _7D=_F.lowerLimit();var _7E=_F.upperLimit();if(_H>_7E){_5E=true;var _0C=this._1e;var _0S=_F.getNewBottomRow()*this.options.rowHeight;var _x=_F.getNewBottomRow();var _D=_F.getNewBottomRowEnd();this._4o(_0C,_x,_D,i,_0S,_0E);}else if(_H<=_7D){_5F=true;var _0C=this._25;var _0S=_F.getNewTopRow()*this.options.rowHeight;var _x=_F.getNewTopRow();var _D=_F.getNewTopRowEnd();this._4o(_0C,_x,_D,i,_0S,_0E);}}else{_4v=true;var _F=new HDataBuffer(_H,_02,0,0,this._08);var _U=_F.startRow();var _2a=_F.endRow();var _0C=0;var _0S=_U*this.options.rowHeight;this._4o(_0C,_U,_U+this._08*3,i,_0S,_0E);}}}
if(_5E==true){var _F=new HDataBuffer(_H,_02,0,0,this._08);var _2f=_F.getNewDownBufferIndexes(this._1e);this._1e=_2f[0];this._25=_2f[1];this._1c+=this._08;}
if(_5F==true){var _F=new HDataBuffer(_H,_02,0,0,this._08);var _2f=_F.getNewUpBufferIndexes(this._1e);this._1e=_2f[0];this._25=_2f[1];this._1c-=this._08;}
if(_4v==true){var _F=new HDataBuffer(_H,_02,0,0,this._08);this._1e=0;this._25=_F.endBufferStartRow();this._1c=_H-this._08;}
this.data.updateBuffer(_H,_02);},_4o:function(_0C,_7N,_6N,_1t,_5l,_0N){var _8q;for(var _1j=_7N;_1j<_6N;_1j++){_8q=this.data.getCell(this,_1j,this._r[_1t].index);_8q=(_8q)?_8q:"1";this._0Q[_1t][_0C].setValue(_8q);this._0Q[_1t][_0C].rect.offsetTo(0,_5l);this._0Q[_1t][_0C].drawRect();_5l+=this.options.rowHeight;_0C++;}},_7b:function(_1t,_H,_02){var _0E=this.tableColumns[_1t];if(!this._08){this._08=_02-_H;}
var _F=new HDataBuffer(_H,_02,0,0,this._08);var _U=_F.startRow();var _2a=_F.endRow();this._1c=_U;this._4O=_2a;var _0S=_U*this.options.rowHeight;this._25=_F.endBufferStartRow();this._0Q[_1t]=new Array();var _1x=_0E.dataView;if(typeof _1x=="string"){_1x=ITextControl;}
var _f,_6f,_8q;for(var _1j=_U;_1j<_2a;_1j++){_8q=this.data.getCell(this,_1j,this._r[_1t].index);_8q=(_8q)?_8q:"1";_6f=new HRect(0,_0S,_0E.rect.width,_0S+this.options.rowHeight);_f=new _1x(_6f,_0E,{value:_8q});this._0Q[_1t].push(_f);_0S+=this.options.rowHeight;}},_1W:function(){var _3c=0,_81;if(this._r.length>0){var _s;this._O[0]=0;width=this._r[0].width;_3c+=width;for(var i=1;i<this._r.length;i++){this._O[i]=this._O[i-1]+width;width=this._r[i].width;_3c+=width;}}
_81=this.numberOfRows*this.options.rowHeight;this.columnsView.rect.setSize(_3c,_81);this.columnsView.drawRect();if(this.headerView){this.headerView.rect.setWidth(_3c);this.headerView.drawRect();}},_5M:function(_e){return parseInt(_e.y/this.options.rowHeight,10);},rowAtPoint:function(_e){var _a=_e.y;if(_a==0){return 0;}
_a-=this.options.headerViewHeight;return parseInt(_a/this.options.rowHeight,10);},addColumn:function(_d,_s,_C,_1x,_3I){var _k=new _6i(_d,_s,_C,_1x,_3I);this._r.push(_k);this._1d.push(false);},setData:function(_0d){this.data=_0d;this.data.tableControl=this;this.numberOfRows=this.data.numberOfRows();this._1W();},reloadData:function(_0d){this._1g=true;this._5J=true;this._2z();this._5J=false;this._1g=false;},removeColumn:function(_k){this._1g=true;var _d=this.tableColumns.indexOf(_k);this._r.splice(_d,1);this.tableHeaderColumns[_d].die();this.tableHeaderColumns.splice(_d,1);this.tableColumns[_d].die();this.tableColumns.splice(_d,1);this._0Q.splice(_d,1);this._1d.splice(_d,1);this._1W();this._2z();this._1g=false;},moveColumn:function(_1t,_2k){this._1g=true;var _0y=_1t;var _0Y=_2k;if(_0y<_0Y){var _84=_0Y;_0Y=_0y;_0y=_84;}
var _k=this._r[_0y];this._r.splice(_0y,1);this._r.splice(_0Y,0,_k);_k=this.tableColumns[_0y];this.tableColumns.splice(_0y,1);this.tableColumns.splice(_0Y,0,_k);_k=this.tableHeaderColumns[_0y];this.tableHeaderColumns.splice(_0y,1);this.tableHeaderColumns.splice(_0Y,0,_k);_k=this._1d[_0y];this._1d.splice(_0y,1);this._1d.splice(_0Y,0,_k);_k=this._0Q[_0y];this._0Q.splice(_0y,1);this._0Q.splice(_0Y,0,_k);this._1W();this._2z();this._1g=false;},scrollLeft:function(){return this._0a.left;},scrollTop:function(){return this._0a.top;},_2H:function(){var _4k=ELEM.get(this.tableView.elemId);if(!_4k){throw("Error: HTableControl element not found");}
var _7t=new HRect(this._0a);this._0a.offsetTo(parseInt(_4k.scrollLeft,10),parseInt(_4k.scrollTop,10));if(!_7t.equals(this._0a)){this._1g=true;this._2z();this._1g=false;}}});HStyleButton=HImageButton.extend({packageName:"richtext",componentName:"stylebutton",constructor:function(_1,_g,_2){if(this.isinherited){this.base(_1,_g,_2);}
else{this.isinherited=true;this.base(_1,_g,_2);this.isinherited=false;}
this.type='[HStyleButton]';this.preserveTheme=true;if(!this.isinherited){this.draw();}},mouseUp:function(){if(this.styleButtonDefaults.richtextview){HTextEdit.execCommand(this.styleButtonDefaults.command,false,null,this.styleButtonDefaults.richtextview.iframe().contentWindow.document);}
this.base();}},{_67:"imageview"});HStyleButtonBar=HView.extend({packageName:"richtext",componentName:"stylebuttonbar",constructor:function(_1,_g,_2){if(this.isinherited){this.base(_1,_g,_2);}
else{this.isinherited=true;this.base(_1,_g,_2);this.isinherited=false;}
this.styleButtonBarDefaults=new(Base.extend({}).extend(_2));this.type='[HStyleButtonBar]';this.preserveTheme=true;if(!this.isinherited){this.draw();}},draw:function(){if(!this.drawn){this.drawRect();if(this.styleButtonBarDefaults.styleBarSettings){if(this.styleButtonBarDefaults.styleBarSettings.bold){this.bButton=new HStyleButton(new HRect(0,0,20,20),this,{image:"bold.gif",richtextview:this.styleButtonBarDefaults.richtextview,command:"bold"});}
if(this.styleButtonBarDefaults.styleBarSettings.italic){this.iButton=new HStyleButton(new HRect(20,0,40,20),this,{image:"italic.gif",richtextview:this.styleButtonBarDefaults.richtextview,command:"italic"});}
if(this.styleButtonBarDefaults.styleBarSettings.underline){this.underlineButton=new HStyleButton(new HRect(40,0,60,20),this,{image:"underline.gif",richtextview:this.styleButtonBarDefaults.richtextview,command:"underline"});}
if(this.styleButtonBarDefaults.styleBarSettings.justify){this.justifyleftButton=new HStyleButton(new HRect(60,0,80,20),this,{image:"justifyleft.gif",richtextview:this.styleButtonBarDefaults.richtextview,command:"justifyleft"});this.justifycenterButton=new HStyleButton(new HRect(80,0,100,20),this,{image:"justifycenter.gif",richtextview:this.styleButtonBarDefaults.richtextview,command:"justifycenter"});this.justifyrightButton=new HStyleButton(new HRect(100,0,120,20),this,{image:"justifyright.gif",richtextview:this.styleButtonBarDefaults.richtextview,command:"justifyright"});this.justifyfullButton=new HStyleButton(new HRect(120,0,140,20),this,{image:"justifyfull.gif",richtextview:this.styleButtonBarDefaults.richtextview,command:"justifyfull"});}
if(this.styleButtonBarDefaults.styleBarSettings.insertunorderedlist){this.ulButton=new HStyleButton(new HRect(140,0,160,20),this,{image:"insertunorderedlist.gif",richtextview:this.styleButtonBarDefaults.richtextview,command:"insertunorderedlist"});}
if(this.styleButtonBarDefaults.styleBarSettings.insertorderedlist){this.olButton=new HStyleButton(new HRect(160,0,180,20),this,{image:"insertorderedlist.gif",richtextview:this.styleButtonBarDefaults.richtextview,command:"insertorderedlist"});}
if(this.styleButtonBarDefaults.styleBarSettings.indent){this.indentButton=new HStyleButton(new HRect(180,0,200,20),this,{image:"indent.gif",richtextview:this.styleButtonBarDefaults.richtextview,command:"indent"});}
if(this.styleButtonBarDefaults.styleBarSettings.outdent){this.outdentButton=new HStyleButton(new HRect(200,0,220,20),this,{image:"outdent.gif",richtextview:this.styleButtonBarDefaults.richtextview,command:"outdent"});}
this.fonts=new HComboBox(new HRect(220,0,280,20),this);for(var i=0;i<this.styleButtonBarDefaults.styleBarSettings.fontFamilies.length;i++){this.fonts.addItem(this.styleButtonBarDefaults.styleBarSettings.fontFamilies[i]);}
this.fonts.selectedIndexChanged=this._6S;this.fontsizes=new HComboBox(new HRect(280,0,360,20),this);for(var i=0;i<this.styleButtonBarDefaults.styleBarSettings.fontSizes.length;i++){this.fontsizes.addItem(this.styleButtonBarDefaults.styleBarSettings.fontSizes[i]);}
this.fontsizes.selectedIndexChanged=this._6T;}
this.drawn=true;}},_6S:function(){if(this.parent.styleButtonBarDefaults.richtextview){var _4q=this.parent.styleButtonBarDefaults.richtextview.iframe().contentWindow;var _3y=_4q.document;HTextEdit.execCommand("fontname",false,this.selectedItem().label,_3y);}},_6T:function(){if(this.parent.styleButtonBarDefaults.richtextview){var _4q=this.parent.styleButtonBarDefaults.richtextview.iframe().contentWindow;var _3y=_4q.document;HTextEdit.execCommand("fontsize",false,this.selectedItem().label,_3y);}},refresh:function(){if(this.drawn){this.base();}}});HRichTextBar=HButton.extend({packageName:"richtext",componentName:"richtextbar",constructor:function(_1,_g,_2){if(this.isinherited){this.base(_1,_g,_2);}
else{this.isinherited=true;this.base(_1,_g,_2);this.isinherited=false;}
this.type='[HRichTextBar]';if(!this.isinherited){this.draw();}},draw:function(){if(!this.drawn){this.base();if(!this.bButton){this.bButton=new HStyleButton(new HRect(0,0,20,20),this,{label:this.label,value:true,command:"bold"});this.bButton.draw();this.iButton=new HStyleButton(new HRect(20,0,40,20),this,{label:this.label,value:true,command:"italic"});this.iButton.draw();this.underlineButton=new HStyleButton(new HRect(40,0,60,20),this,{label:this.label,value:true,command:"underline"});this.underlineButton.draw();this.justifyleftButton=new HStyleButton(new HRect(60,0,80,20),this,{label:this.label,value:true,command:"justifyleft"});this.justifyleftButton.draw();this.justifycenterButton=new HStyleButton(new HRect(80,0,100,20),this,{label:this.label,value:true,command:"justifycenter"});this.justifycenterButton.draw();this.justifyrightButton=new HStyleButton(new HRect(100,0,120,20),this,{label:this.label,value:true,command:"justifyright"});this.justifyrightButton.draw();this.justifyfullButton=new HStyleButton(new HRect(120,0,140,20),this,{label:this.label,value:true,command:"justifyfull"});this.justifyfullButton.draw();this.ulButton=new HStyleButton(new HRect(140,0,160,20),this,{label:this.label,value:true,command:"insertunorderedlist"});this.ulButton.draw();this.olButton=new HStyleButton(new HRect(160,0,180,20),this,{label:this.label,value:true,command:"insertorderedlist"});this.olButton.draw();this.indentButton=new HStyleButton(new HRect(180,0,200,20),this,{label:this.label,value:true,command:"indent"});this.indentButton.draw();this.outdentButton=new HStyleButton(new HRect(200,0,220,20),this,{label:this.label,value:true,command:"outdent"});this.outdentButton.draw();}}
this.drawRect();},refresh:function(){if(this.bButton){this.bButton.refresh();this.iButton.refresh();this.underlineButton.refresh();this.justifyleftButton.refresh();this.justifycenterButton.refresh();this.justifyrightButton.refresh();this.justifyfullButton.refresh();this.ulButton.refresh();this.olButton.refresh();this.indentButton.refresh();this.outdentButton.refresh();}}});HRichTextView=HControl.extend({packageName:"richtext",componentName:"richtextview",constructor:function(_1,_g,_2){if(this.isinherited){this.base(_1,_g,_2);}else{this.isinherited=true;this.base(_1,_g,_2);this.isinherited=false;}
this.type='[HRichTextView]';this.preserveTheme=true;this._2O=false;this._5c=false;if(!this.isinherited){this.draw();}},draw:function(){if(!this.drawn){this.drawRect();this.drawMarkup();this.drawn=true;}
this.base();},onIdle:function(){if(this.drawn){var _0x=ELEM.get(this.markupElemIds.control);if(!this._2O&&_0x.contentWindow&&_0x.contentWindow.document){_0x.contentWindow.document.designMode="on";this._2O=true;}
if(this._2O&&_0x.contentWindow.document.body){if(!this._5c){_0x.contentWindow.document.body.innerHTML=this.value;this._5c=true;}
var _0w=_0x.contentWindow.document.body.innerHTML;if(this.value!=_0w){this._4T=true;this.setValue(_0w);this._4T=false;}}}},setValue:function(_8q){if(!this._4T){if(this._2O){var _0x=ELEM.get(this.markupElemIds.control);if(_0x.contentWindow.document.body){_0x.contentWindow.document.body.innerHTML=_8q;}}}
this.base(_8q);},iframe:function(){return ELEM.get(this.markupElemIds.control);}});HRichTextControl=HControl.extend({packageName:"richtext",componentName:"richtextcontrol",constructor:function(_1,_g,_2){if(this.isinherited){this.base(_1,_g,_2);}
else{this.isinherited=true;this.base(_1,_g,_2);this.isinherited=false;}
this.type='[HRichTextControl]';this.preserveTheme=true;this._7c=false;if(!this.isinherited){this.draw();}},draw:function(){if(!this.drawn){this.base();this.drawRect();this.drawMarkup();if(!this._7c){this.barView=new HRichTextBar(new HRect(0,0,this.rect.width,20),this,{value:this.value});this.barView.draw();this.richTextView=new HRichTextView(new HRect(0,20,this.rect.width,this.rect.height),this,{value:(this.value||"editable text")});this.richTextView.draw();}
this.drawn=true;}
this.drawRect();}});HRichTextArea=HRichTextControl;HRichTextEditor=HRichTextControl;