type: GUITree
version: 0.4
dependencies: 
  - default_theme
  - controls
  - datetime
  - lists

class: HApplication
options: '20'
subviews:
  - class: HWindow
    rect: [ 0, 0, 700, 500 ]
    options:
      label: 'Riassence Calendar'
      zoomButton: true
      collapseButton: true
      closeButton: true
      minSize: [ 700, 500 ]
      maxSize: [ 935, 645 ]
    define:
      - class: BoldString
        extend: HStringView
        drawSubviews: |
          function(){
            this.setStyle('font-weight','bold');
          }
    subviews:
      - class: HButton
        rect: [ 8, 8, 80, 32 ]
        extend:
          click: |
            function(){
              var date = new Date(),
                  date_today = new Date(date.getFullYear(),date.getMonth(),date.getDate());
                  secs_today = Math.round(date_today.getTime()/1000);
              secs_today -= (date_today.getTimezoneOffset()*60);
              this.setValue( secs_today );
            }
        options:
          label: Today
          valueObjId: :values.calendar_day
          events: { click: true }
      - class: HRadiobuttonList
        rect: [ 8, 40, 217, 200, null, 248 ]
        extend:
          drawSubviews: "function(){this.base();this.setStyle('background-color','#eee');}"
        options:
          valueObjId: :values.calendar_id
        subviews:
          - class: HListItems
            rect: [ 0 ]
            options: { valueObjId: :values.calendar_list }
      - class: HCalendar
        rect: [ 8, null, 220, 200, null, 40 ]
        extend:
          drawSubviews: "function(){this.base();this.setStyle('background-color','#eee');}"
        options:
          valueObjId: :values.calendar_day
          events:
            mouseWheel: true
            click: true
      - class: HTab
        rect: [ 233, 17, 100, 100, 8, 41 ]
        options: { valueObjId: :values.entries_tab }
        subviews:
          - class: HTabItem
            rect: [ 0 ]
            options: { label: Day }
            subviews:
              - class: BoldString
                rect: [ 36, 4, 642, 16 ]
                options: { valueObjId: :values.entries_day_name }
              - class: HTimeSheet
                rect: [ 0, 24, 678, 504 ]
                options:
                  valueObjId: :values.entries_day
                  events: { draggable: true }
                subviews:
                  - class: HTimeSheetEditor
                    rect: [ 0, 0, 1, 1 ]
                    options: { valueObjId: :values.entries_day_edit }
          - class: HTabItem
            rect: [ 0 ]
            options: { label: Week }
            subviews:
              - class: BoldString
                rect: [ 36, 4, 90, 16 ]
                options: { valueObjId: :values.entries_wday0_name }
              - class: BoldString
                rect: [ 128, 4, 90, 16 ]
                options: { valueObjId: :values.entries_wday1_name }
              - class: BoldString
                rect: [ 220, 4, 90, 16 ]
                options: { valueObjId: :values.entries_wday2_name }
              - class: BoldString
                rect: [ 312, 4, 90, 16 ]
                options: { valueObjId: :values.entries_wday3_name }
              - class: BoldString
                rect: [ 404, 4, 90, 16 ]
                options: { valueObjId: :values.entries_wday4_name }
              - class: BoldString
                rect: [ 496, 4, 90, 16 ]
                options: { valueObjId: :values.entries_wday5_name }
              - class: BoldString
                rect: [ 588, 4, 90, 16 ]
                options: { valueObjId: :values.entries_wday6_name }
              - class: HTimeSheet
                rect: [ 0, 24, 126, 504 ]
                options:
                  valueObjId: :values.entries_wday0
                  events: { draggable: true }
              - class: HTimeSheet
                rect: [ 128, 24, 90, 504 ]
                options:
                  valueObjId: :values.entries_wday1
                  hideLabel: true
                  events: { draggable: true }
              - class: HTimeSheet
                rect: [ 220, 24, 90, 504 ]
                options:
                  valueObjId: :values.entries_wday2
                  hideLabel: true
                  events: { draggable: true }
              - class: HTimeSheet
                rect: [ 312, 24, 90, 504 ]
                options:
                  valueObjId: :values.entries_wday3
                  hideLabel: true
                  events: { draggable: true }
              - class: HTimeSheet
                rect: [ 404, 24, 90, 504 ]
                options:
                  valueObjId: :values.entries_wday4
                  hideLabel: true
                  events: { draggable: true }
              - class: HTimeSheet
                rect: [ 496, 24, 90, 504 ]
                options:
                  valueObjId: :values.entries_wday5
                  hideLabel: true
                  events: { draggable: true }
              - class: HTimeSheet
                rect: [ 588, 24, 90, 504 ]
                options:
                  valueObjId: :values.entries_wday6
                  hideLabel: true
                  events: { draggable: true }
              - class: HView
                rect: [ 0, 0, null, null, 0, 0 ]
